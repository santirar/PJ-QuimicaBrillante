"use strict";(self.webpackChunkcircle=self.webpackChunkcircle||[]).push([[7166,8458],{32917:(e,t,r)=>{r.d(t,{C:()=>s});var n=r(67294),a=r(86013),i=r(85893);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){var t=e.initialPage,r=void 0===t?2:t,l=e.fetchNewPage,s=o((0,n.useState)(r),2),c=s[0],u=s[1],d=function(){l(c),u(c+1)};return(0,i.jsx)("div",{className:"pagination-load-more",children:(0,i.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return d()},children:(0,a.t)("show_more_button")})})}},36211:(e,t,r)=>{r.d(t,{n:()=>wt,C:()=>ht});var n=r(94184),a=r.n(n),i=r(67294),o=r(45697),l=r.n(o),s=r(85893),c=["children","className"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var m=(0,i.forwardRef)((function(e,t){var r=e.children,n=e.className,i=f(e,c);return(0,s.jsx)("div",d(d({ref:t,className:a()("border-primary bg-primary relative isolate h-full w-full rounded-lg border shadow-lg",n)},i),{},{children:r}))}));m.displayName="Canvas",m.propTypes={children:l().node.isRequired,className:l().string};var b=function(e){var t=e.screenSize,r=void 0===t?"desktop":t,n=e.className,i=e.children;return(0,s.jsx)("div",{className:a()("h-full w-full p-8",{"max-w-full":"desktop"===r,"max-w-3xl":"tablet"===r,"max-w-sm":"mobile"===r},n),children:(0,s.jsx)(m,{className:"overflow-hidden",children:i})})},h=r(72452),v=r(71283),y=r(95703),g=r(22074),j=r(72095),x=r(12362),O=r(67639),_=r(30477),w=r(41527),P=r(66365),S=r(51299),C=r(81435),N=r(34532),A=r(28175),k=r(74238),D=r(15523),E=r(21138),I=function(){return(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)(E.kg,{}),(0,s.jsx)(E.bK,{className:"ml-2 w-24"})]})},T=function(){return(0,s.jsxs)("div",{className:"bg-primary border-primary flex h-10 flex-row items-center space-x-5 border-b px-6 py-3",children:[(0,s.jsx)(I,{}),(0,s.jsx)(I,{})]})},L=r(31514),M=r(80478),F=function(e){var t=e.brandColor,r=void 0===t?"#506cf0":t,n=e.href,a=void 0===n?"#":n,i=e.iconUrl,o=void 0===i?"":i,l=e.includeName,c=void 0!==l&&l,u=e.isActive,d=void 0===u||u,p=e.logoUrl,f=void 0===p?"":p,m=e.name,b=void 0===m?"Community Name":m,h=e.notificationCount,v=void 0===h?0:h,y="default"!==(0,k.TC)().currentTheme;return(0,s.jsxs)(M.b,{isLoading:!1,className:"pointer-events-none",isCustomColorTheme:y,children:[(0,s.jsx)(L.M,{isActive:d,includeName:c,brand_color:r,name:b,href:a,icon_attachment_url:o,logo_attachment_url:f,notificationCount:v}),(0,s.jsx)(L.M,{brand_color:"#9ca3af"}),(0,s.jsx)(L.M,{brand_color:"#9ca3af"})]})},R=r(43422),Z=r(96391),B=r(30887),U=r(1002),z=function(e){var t=e.space;return(0,s.jsx)(U.Lt,{button:(0,s.jsxs)(U.Lt.MenuButton,{children:[(0,s.jsx)(Z.M,{space:t}),(0,s.jsx)(B.JO,{size:16,type:"caret-down-bold",className:"text-dark transition-all duration-100 group-hover:mt-1"})]})})},V=r(86013),q=r(128),H=[{label:(0,V.t)("latest"),value:"latest"}],K=[{id:"1",name:"A",avatar_url:""},{id:"2",name:"B",avatar_url:""},{id:"3",name:"C",avatar_url:""}],$=function(){return(0,s.jsxs)("div",{className:"hidden flex-row items-center space-x-4 md:flex",children:[(0,s.jsx)(U.Lt,{options:H}),(0,s.jsx)(q.n,{members:K,amountToShow:3,totalCount:33}),(0,s.jsx)("button",{type:"button",className:"btn btn-primary",children:(0,V.t)("new_post")})]})},G=function(e){var t=e.spaceName,r=void 0===t?"":t,n=e.isPrivate,a=void 0!==n&&n,i=e.emoji,o=e.hideRightContent,l=void 0!==o&&o,c={cover_image_visible:!1,current_user_roles:[],emoji:i,hide_from_featured_areas:!1,id:1,is_private:a,is_space_member:!1,name:r,post_type:"basic",slug:"",space_group_id:1};return(0,s.jsx)(R.b,{hasBorder:!0,className:"pointer-events-none",leftContent:(0,s.jsx)(z,{space:c}),rightContent:!l&&(0,s.jsx)($,{})})},Q=r(36168),W=r(11694),J=r(78232),X=r(94623),Y=r(15560),ee=r(98486),te=r(52096),re=r(47761),ne=r(90882),ae=r(89457),ie=r(93187),oe=r(41070),le={id:1,name:"Get Started",slug:"get-started",automatically_add_members_to_new_spaces:!1,active_members_count:0},se=[{id:1,name:"Start Here",emoji:"\ud83c\udfe0",is_private:!1},{id:2,name:"Say Hello",emoji:"\ud83d\udc4b",is_private:!1},{id:3,name:"Resources",emoji:"\ud83d\udcd6",is_private:!1}],ce={id:2,name:"Courses",slug:"courses-space",automatically_add_members_to_new_spaces:!1,active_members_count:0},ue=[{id:1,name:"Disscussions",emoji:"\ud83d\udcac",is_private:!1},{id:2,name:"Welcome",emoji:"\ud83e\udd1d",is_private:!1},{id:3,name:"Module 1",emoji:"1\ufe0f\u20e3",is_private:!1},{id:4,name:"Module 2",emoji:"2\ufe0f\u20e3",is_private:!1},{id:5,name:"Module 3",emoji:"3\ufe0f\u20e3",is_private:!1}],de=function(e,t){return(0,s.jsx)(X.z,{space:e,buttonLink:"",spaceNotificationDetail:{unread_content_count:t?1:0,unread_notifications_count:0}},e.id)},pe=function(e){var t=e.communityName,r=void 0===t?"My Community":t,n=e.logoType,a=void 0===n?"icon":n,i=e.logoUrl,o=(0,A.I)().isV3Enabled;return(0,s.jsxs)(oe.F,{children:[!o&&(0,s.jsx)(re.F,{hasBorder:!0,hasPadding:!1,className:"pointer-events-none",children:(0,s.jsx)(te.e,{communityName:r,logoType:a,logoUrl:i,showToggleTheme:!0})}),(0,s.jsxs)(ee.S,{children:[!o&&(0,s.jsx)(ne.x,{hasCurrentCommunityMember:!0,isHomePageEnabled:!0,isMessagingEnabled:!0,shouldShowMemberDirectory:!0,shouldShowOnboarding:!1,shouldShowSpaceDirectory:!0,shouldShowActiveHomeLink:!0,notificationBadgeText:(0,V.t)("live_streams.now_live.one"),disabled:!0}),o&&(0,s.jsx)(ae.C,{isDisabled:!0}),(0,s.jsxs)(Q.E,{children:[(0,s.jsx)(W.I,{id:"get-started",listId:"get-started",spaceGroup:le,canManage:!1,shouldDisplayOptions:!1,children:(0,s.jsx)(J.I,{children:se.map((function(e){return de(e,!0)}))})}),(0,s.jsx)(W.I,{id:"courses",listId:"courses",spaceGroup:ce,canManage:!1,shouldDisplayOptions:!1,children:(0,s.jsx)(J.I,{children:ue.map((function(e){return de(e,!1)}))})})]})]}),(0,s.jsx)(ie.G,{children:(0,s.jsx)(Y.Q,{isPreviewMode:!0})})]})},fe=r(16743);function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){he(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(){return ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ve.apply(this,arguments)}var ye=function(e){var t=ve({},e);return(0,s.jsxs)("div",{className:"flex w-full items-center space-x-3",children:[(0,s.jsx)(E.Ph,{}),(0,s.jsx)(E.bK,be({},t))]})},ge=["className"];function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var we=function(e){var t=e.className,r=_e(e,ge);return(0,s.jsxs)("div",xe(xe({className:a()("border-primary bg-primary h-[276px] space-y-5 rounded-lg border px-5 py-4",t)},r),{},{children:[(0,s.jsx)("div",{className:"flex h-5 items-center",children:(0,s.jsx)(fe.Z.LabelMd,{weight:"semibold",children:(0,V.t)("members")})}),(0,s.jsx)(ye,{className:"w-[128px]"}),(0,s.jsx)(ye,{className:"w-[102px]"}),(0,s.jsx)(ye,{className:"w-[119px]"}),(0,s.jsx)(ye,{className:"w-[84px]"}),(0,s.jsx)(ye,{className:"w-[128px]"})]}))};var Pe=r(97012),Se=function(){var e=(0,Pe.wh)().currentCommunity.root_url;return(0,s.jsxs)("div",{className:"border-primary bg-primary w-full space-y-5 rounded-lg border px-6 py-5 pb-4 pr-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(E.Ph,{width:32,height:32}),(0,s.jsxs)("div",{className:"flex h-[34px] flex-col",children:[(0,s.jsx)(fe.Z.LabelXs,{weight:"bold",children:(0,s.jsx)("span",{className:"text-dark",children:(0,V.t)("customize_ui.member_name")})}),(0,s.jsx)(fe.Z.LabelXs,{children:(0,s.jsx)("span",{className:"text-light",children:(0,V.t)("customize_ui.one_month_ago")})})]})]}),(0,s.jsxs)("div",{className:"space-y-[10px]",children:[(0,s.jsx)(E.$q,{className:"w-full"}),(0,s.jsx)(E.$q,{className:"w-full"}),(0,s.jsx)(E.$q,{className:"w-[50%]"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"text-brand pointer-events-none text-sm font-semibold",children:e})}),(0,s.jsxs)("div",{className:"flex w-min flex-row-reverse space-x-[-4px] space-x-reverse",children:[(0,s.jsx)(E.Sg,{}),(0,s.jsx)(E.Sg,{}),(0,s.jsx)(E.Sg,{})]}),(0,s.jsxs)("div",{className:"flex h-4 items-baseline gap-5",children:[(0,s.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,s.jsx)(B.JO,{size:16,type:"like",className:"text-brand",useWithFillCurrentColor:!0}),(0,s.jsx)(fe.Z.LabelXs,{weight:"medium",children:(0,s.jsx)("span",{className:"text-brand font-semibold",children:(0,V.t)("like")})})]}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,s.jsx)(B.JO,{size:16,type:"message"}),(0,s.jsx)(fe.Z.LabelXs,{weight:"medium",children:(0,s.jsx)("span",{className:"text-light",children:(0,V.t)("cap_comment")})})]})]})]})},Ce=r(96486),Ne=["count","className"];function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){De(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function De(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ee(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ie=function(e){var t=e.count,r=void 0===t?3:t,n=e.className,i=Ee(e,Ne);return(0,s.jsx)("div",ke(ke({className:a()("space-y-[20px]",n)},i),{},{children:(0,Ce.times)(r,(function(e){return(0,s.jsx)(Se,{},e)}))}))},Te=["className"];function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ze=function(e){var t=e.className,r=Re(e,Te);return(0,s.jsx)("div",Me(Me({className:a()("space-y-[20px]",t)},r),{},{children:(0,s.jsx)(we,{})}))},Be=function(e){var t=e.children,r=e.className,n=void 0===r?"":r,i=e.hasCommunitySwitcher,o=void 0===i||i,l=(0,A.I)().isV3Enabled;return(0,s.jsx)("div",{className:a()("has-bottom-banner is-signed-in view-homepage is-standard-layout-v2 react-standard-layout bg-secondary h-full w-full",{"has-community-switcher":o&&!l},n),children:t})},Ue=r(38870),ze=function(e){var t=e.userImageUrl,r=void 0===t?"":t,n=e.communityLogoUrl,i=void 0===n?"":n,o=e.userName,l=void 0===o?"":o,c=e.communityName,u=void 0===c?"":c,d=e.className;return(0,s.jsx)("div",{className:a()("lg:hidden",d),children:(0,s.jsx)("header",{id:"mainHeader",className:"header header-v2",children:(0,s.jsxs)("div",{className:"header__inside",children:[(0,s.jsx)("div",{className:"header__menu",children:(0,s.jsx)("button",{type:"button",className:"toggle-button",onClick:function(e){return e.preventDefault()},children:(0,s.jsx)("svg",{className:"icon icon-menu icon--hamburger",viewBox:"0 0 24 24",children:(0,s.jsx)("use",{xlinkHref:"#icon-menu"})})})}),(0,s.jsx)("div",{className:"header__left",children:(0,s.jsx)("a",{href:"/",className:"community__brand",onClick:function(e){return e.preventDefault()},children:i?(0,s.jsx)("div",{className:"community__logo",children:(0,s.jsx)("img",{loading:"lazy",alt:(0,V.t)("community_logo_alt",{community_name:u}),src:i})}):(0,s.jsx)("div",{className:"name",children:u})})}),(0,s.jsx)("div",{className:"header__actions",children:(0,s.jsx)("div",{className:"header__user",children:(0,s.jsx)("div",{className:"user-menu",children:(0,s.jsx)("button",{type:"button",onClick:function(e){return e.preventDefault()},"aria-label":l,children:(0,s.jsx)(Ue.s,{src:null!==r&&void 0!==r?r:"",name:l,size:"10"})})})})})]})})})},Ve=r(89429),qe=r(49366),He=r(75791),Ke=r(20633),$e=r(56262),Ge=function(){return(0,s.jsxs)(He.P,{children:[(0,s.jsx)(Ve.Z,{children:(0,s.jsx)(Ke.h,{name:"16-keyboard-shortcuts",buttonSize:28,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover focus:!bg-c-header-hover rounded-md",disabled:!0,ariaLabel:(0,V.t)("header_v3.keyboard_shortcuts")})}),(0,s.jsx)(qe.H,{isPreviewMode:!0}),(0,s.jsxs)(Ve.Z,{className:"justify-end",children:[(0,s.jsx)(Ke.h,{name:"16-notifications",buttonSize:28,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover",disabled:!0,ariaLabel:(0,V.t)("header_v3.notifications")}),(0,s.jsx)(Ke.h,{name:"16-chat",buttonSize:28,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover",disabled:!0,ariaLabel:(0,V.t)("header_v3.direct_messages")}),(0,s.jsx)(Ke.h,{name:"16-chat-threads-header",buttonSize:28,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover",disabled:!0,ariaLabel:(0,V.t)("header_v3.chat_threads")}),(0,s.jsx)($e.D,{isPreviewMode:!0})]})]})},Qe=r(12583),We=r(27994),Je=r(90893),Xe=function(e){var t=e.communityName,r=void 0===t?"My Community":t,n=e.logoType,a=e.logoUrl;return(0,s.jsxs)(Qe.R,{children:[(0,s.jsx)(re.F,{hasBorder:!0,hasPadding:!1,isSticky:!1,className:"pointer-events-none absolute left-5",children:(0,s.jsx)(te.e,{communityName:r,logoType:n||"icon",logoUrl:a,showToggleTheme:!0})}),(0,s.jsx)(We.v,{isPreviewMode:!0}),(0,s.jsxs)(Ve.Z,{className:"justify-end gap-4",children:[(0,s.jsx)(Je.Q,{}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(Ke.h,{name:"20-bell-v3",iconSize:20,buttonSize:36,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover",disabled:!0,ariaLabel:(0,V.t)("header_v3.notifications")}),(0,s.jsx)(Ke.h,{name:"20-message-v3",iconSize:20,buttonSize:36,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover",disabled:!0,ariaLabel:(0,V.t)("header_v3.direct_messages")}),(0,s.jsx)(Ke.h,{name:"20-thread-v3",iconSize:20,buttonSize:36,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover",disabled:!0,ariaLabel:(0,V.t)("header_v3.chat_threads")}),(0,s.jsx)(Ke.h,{name:"20-bookmark-v3",iconSize:20,buttonSize:36,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover",disabled:!0,ariaLabel:(0,V.t)("header_v3.bookmarks")})]}),(0,s.jsx)($e.D,{isPreviewMode:!0})]})]})},Ye=r(96561),et=["children"];function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function at(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var it="frame-mount-point",ot="#".concat(it),lt=function(){return"\n<!DOCTYPE html>\n<html>\n  <head>\n    ".concat((r="",n=Array.from(document.querySelectorAll("link[rel=stylesheet]")),a=Array.from(document.querySelectorAll("head style")),n.forEach((function(e){r+=e.outerHTML})),a.forEach((function(e){r+=e.outerHTML})),r),"\n    <style>\n      ").concat(ot,' .frame-content {\n        width: 100%;\n        height: 100%;\n        position: relative;\n        isolation: isolate;\n      }\n    </style>\n  </head>\n  <body class="w-full h-full">\n    ').concat((t=document.getElementById("icon-svg-sprite"),null!==(e=null===t||void 0===t?void 0:t.outerHTML)&&void 0!==e?e:""),'\n    <div id="').concat(it,'" class="h-screen"></div>\n  </body>\n</html>\n');var e,t,r,n,a},st={position:"absolute",top:0,left:0,width:"100%",height:"100%"},ct=(0,i.memo)((function(e){var t=e.children,r=at(e,et),n=(0,i.useMemo)(lt,[]);return(0,s.jsx)(Ye.ZP,rt(rt({initialContent:n,mountTarget:ot,style:st},r),{},{children:t}))}));ct.displayName="StyledFrame";var ut=(0,i.memo)((function(e){var t=e.theme,r=e.brandColor,n=void 0===r?"#506CF0":r,a=e.communityName,i=void 0===a?"":a,o=e.headerSpaceEmoji,l=e.headerSpaceTitle,c=void 0===l?"":l,u=e.name,d=void 0===u?"":u,p=e.sidebarLogoType,f=void 0===p?"icon":p,m=e.sidebarLogoUrl,b=void 0===m?"":m,E=e.communityLogoUrl,I=void 0===E?"":E,L=e.switcherIconUrl,M=void 0===L?"":L,R=e.userImageUrl,Z=void 0===R?"":R,B=e.screenSize,U=void 0===B?"desktop":B,z=(0,A.I)().isV3Enabled,V=z?{height:"calc(100vh - 4rem)"}:{height:"calc(100vh - 3rem)"};return(0,s.jsx)(ct,{children:(0,s.jsx)(k.hk,{theme:t,children:(0,s.jsxs)(Be,{className:"select-none",children:["desktop"==U&&(z?(0,s.jsx)(Xe,{communityName:i,logoType:f,logoUrl:I}):(0,s.jsx)(Ge,{})),(0,s.jsx)(F,{iconUrl:M,brandColor:n,name:i}),(0,s.jsx)(j.z,{children:(0,s.jsxs)(g.y,{disableSidebar:!1,style:V,children:[(0,s.jsx)(ze,{userImageUrl:Z,communityLogoUrl:I,userName:d,communityName:i,className:"pointer-events-none sticky top-0 z-10"}),(0,s.jsxs)(S.m,{disableSidebar:!1,disableLayoutRightSidebar:!1,children:[(0,s.jsx)(w.H,{children:(0,s.jsx)(pe,{communityName:i,logoType:f,logoUrl:null!==b&&void 0!==b?b:""})}),(0,s.jsxs)(O.v,{isBgSecondary:!0,isBgPrimary:!1,children:[(0,s.jsxs)(P.n,{children:[(0,s.jsx)(G,{spaceName:c,emoji:o}),(0,s.jsx)(T,{})]}),(0,s.jsx)(x.V,{fullWidth:!0,fullHeight:!1,children:(0,s.jsx)(v.u,{isMinimalLayout:!1,hasPaddingTopMobile:!1,children:(0,s.jsxs)(D.W,{children:[(0,s.jsx)(N.d,{children:(0,s.jsx)(C.P,{displayView:"posts",children:(0,s.jsx)(Ie,{count:4})})}),(0,s.jsx)(y.O,{children:(0,s.jsx)(Ze,{})})]})})})]}),(0,s.jsx)(_.Y,{children:(0,s.jsx)(h.u,{className:"pointer-events-none"})})]})]})})]})})})}));ut.displayName="SpaceFrame";var dt=["screenSize"];function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach((function(t){mt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ht=function(e){var t=e.screenSize,r=void 0===t?"desktop":t,n=bt(e,dt);return(0,s.jsx)(b,{screenSize:r,children:(0,s.jsx)(ut,ft({screenSize:r},n))})},vt=r(42561),yt=(0,i.memo)((function(e){var t=e.theme,r=void 0===t?{}:t,n=e.headerSpaceEmoji,a=void 0===n?"":n,i=e.headerSpaceTitle,o=void 0===i?"":i,l=e.blocks,c=void 0===l?[]:l;return(0,s.jsx)(ct,{children:(0,s.jsxs)(k.hk,{theme:r,children:[(0,s.jsx)(G,{spaceName:o,emoji:a,hideRightContent:!0}),(0,s.jsx)(vt.Z,{blocks:c})]})})}));yt.displayName="LockscreenFrame",yt.propTypes={theme:l().shape({current_theme:l().oneOf(Object.keys(k.v)),custom_colors:l().object,default_appearance:l().oneOf(Object.values(k.OR)),is_custom:l().bool,brand_color:l().string}).isRequired,headerSpaceEmoji:l().string,headerSpaceTitle:l().string,blocks:l().arrayOf(l().shape({type:l().string,hidden:l().bool,id:l().string,data:l().object}))};var gt=["screenSize"];function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){Ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _t(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var wt=function(e){var t=e.screenSize,r=void 0===t?"desktop":t,n=_t(e,gt);return(0,s.jsx)(b,{screenSize:r,children:(0,s.jsx)(yt,xt({},n))})}},55797:(e,t,r)=>{r.d(t,{l:()=>u});var n=r(64687),a=r.n(n),i=r(67294),o=r(85893);function l(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,a)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){var t=e.cards,r=e.renderCardsOnpage,n=e.cardsPerPage,c=e.cardsHaveNextPage,u=e.fetchCards,d=s((0,i.useState)(1),2),p=d[0],f=d[1],m=function(){var e,r=(e=a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p+1,!(p*n+1>t.length)){e.next=8;break}if(!c){e.next=7;break}return e.next=5,u({page:r});case 5:e.next=8;break;case 7:r=1;case 8:f(r);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){l(i,n,a,o,s,"next",e)}function s(e){l(i,n,a,o,s,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}(),b=function(){return p>1?(p-1)*n:0};return(0,o.jsxs)("div",{className:"carousel__items clearfix",children:[r({fromIndex:b(),toIndex:b()+n}),p>1&&(0,o.jsx)("button",{type:"button",className:"carousel__nav carousel__nav--previous",onClick:function(){p>1&&f(p-1)},children:"<"}),(0,o.jsx)("button",{type:"button",className:"carousel__nav carousel__nav--next",onClick:function(){return m()},children:">"})]})}},36422:(e,t,r)=>{r.d(t,{G:()=>v});var n=r(94184),a=r.n(n),i=r(28175),o=r(87958),l=r(86013),s=r(85893),c=function(e){var t=e.iconUrl,r=e.name;return(0,s.jsx)("div",{className:"brand-icon brand-icon__image",children:(0,s.jsx)("img",{loading:"eager",className:"rounded-lg",alt:(0,l.t)("community_logo_alt",{community_name:r}),src:t,style:{width:"32",height:"32"}})})},u=function(e){var t=e.logoURL,r=e.name;return(0,s.jsx)("div",{className:"community__logo",children:(0,s.jsx)("img",{loading:"eager",alt:(0,l.t)("community_logo_alt",{community_name:r}),src:t})})},d=function(e){var t=e.name,r=e.textColor,n=e.bgColor,a=e.includeName,i=void 0!==a&&a,o=t.charAt(0);return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"brand-icon brand-icon__initial",style:{color:r,backgroundColor:n},children:o}),i&&(0,s.jsx)("div",{className:"name",children:t})]})},p=function(e){var t=e.logoURL,r=e.name,n=e.iconUrl,a=e.textColor,i=e.bgColor,o=e.includeName,l=void 0!==o&&o;return t?(0,s.jsx)(u,{logoURL:t,name:r}):n?(0,s.jsx)(c,{iconUrl:n,name:r}):(0,s.jsx)(d,{name:r,textColor:a,bgColor:i,includeName:l})},f=r(91681),m=function(){var e=(0,i.I)().isV3Enabled,t=(0,f.Gf)().backgroundColor;return(0,s.jsx)("span",{style:{borderColor:t},className:a()("switcher__count",{"!-right-1 !-top-1":e})})},b=r(80440),h=function(e){var t=e.index,r=void 0===t?0:t,n=e.name;return r+1>9?(0,s.jsx)(s.Fragment,{children:n}):(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between space-x-2 p-1",children:[(0,s.jsx)("div",{children:n}),(0,s.jsx)("div",{children:(0,s.jsx)(b.f,{isDarkMode:!0,keys:["alt","g",String(r+1)],wrapperClassName:"!space-x-1",size:"xs"})})]})},v=function(e){var t=e.brand_color,r=e.brand_text_color,n=e.icon_attachment_url,l=e.includeName,c=void 0!==l&&l,u=e.index,d=e.logo_attachment_url,f=e.name,b=void 0===f?"":f,v=e.notificationCount,y=void 0===v?0:v,g=(0,i.I)().isV3Enabled;return(0,s.jsx)("div",{"data-testid":"community-switcher-item",className:a()({"switcher__tippy-parent":!g}),children:(0,s.jsxs)(o.T,{content:(0,s.jsx)(h,{index:u,name:b}),placement:"right",arrow:!1,offset:[0,16],interactive:!1,children:[(0,s.jsx)(p,{logoURL:d,name:b,iconUrl:n,textColor:r,bgColor:t,includeName:c}),y>0&&(0,s.jsx)(m,{})]})})}},78784:(e,t,r)=>{r.d(t,{G:()=>p});var n=r(94184),a=r.n(n),i=r(86013),o=r(97012),l=r(98929),s=r(28175),c=r(72810),u=r(55675),d=r(85893),p=function(e){var t=e.hideSignup,r=(0,o.wh)(),n=r.currentCommunity,p=r.currentUser,f=(0,s.I)().isV3Enabled,m=Boolean(null===n||void 0===n?void 0:n.private_sign_up_url),b=(0,l.fs)(n)||m,h=m?n.private_sign_up_url:(0,l.pn)(n),v=(0,c.t)().post_login_redirect;return p?null:(0,d.jsxs)("div",{className:a()("hidden items-center justify-end md:flex",{"gap-4":!f,"gap-2.5":f}),children:[(0,d.jsx)(u.z,{type:"button",variant:"secondary",large:f,onClick:function(){return window.location.href=(0,l.Pb)(n,{post_login_redirect:v||window.location.href})},children:(0,i.t)("log_in")}),!t&&b&&(0,d.jsx)(u.z,{type:"button",variant:"primary",large:f,onClick:function(){window.location.href=h},children:m?n.private_sign_up_label:f?(0,i.t)("join"):(0,i.t)("sign_up")})]})}},85785:(e,t,r)=>{r.d(t,{c:()=>o});var n=r(86013),a=r(71570),i=r(85893),o=function(e){var t=e.show,r=e.className,o=e.closeOnEscape,l=void 0!==o&&o,s=e.closeOnOutsideClick,c=void 0!==s&&s,u=e.onClose,d=e.onConfirmation,p=e.headerText,f=e.bodyText,m=e.closeBtnClass,b=void 0===m?"btn btn-default":m,h=e.confirmBtnClass,v=void 0===h?"btn btn-primary":h;return(0,i.jsxs)(a.Js,{className:r,show:t,onClose:u,closeOnOutsideClick:c,closeOnEscape:l,children:[(0,i.jsx)(a.Js.Header,{onClose:u,children:(0,i.jsx)("h2",{className:"modal__title",children:p})}),(0,i.jsxs)(a.Js.Body,{children:[(0,i.jsx)("span",{children:f}),(0,i.jsxs)("div",{className:"confirm-btn-row",children:[(0,i.jsx)("button",{type:"submit",className:b,onClick:u,children:(0,n.t)("cancel")}),(0,i.jsx)("button",{type:"submit",className:v,onClick:d,children:(0,n.t)("confirm")})]})]})]})}},15523:(e,t,r)=>{r.d(t,{W:()=>o});var n=r(94184),a=r.n(n),i=r(85893),o=function(e){var t=e.maxWidth,r=void 0===t?"lg":t,n=e.className,o=e.children,l={md:"lg:max-w-2xl",lg:"lg:max-w-5xl",full:"max-w-full"},s=l[r]||l.lg;return(0,i.jsx)("div",{className:a()("lg:mx-auto lg:flex lg:gap-6",s,n),children:o})}},29229:(e,t,r)=>{r.d(t,{T:()=>a});var n=r(85893),a=function(e){var t=e.count;return!t||t<=0?null:(0,n.jsx)("div",{className:"border-primary bg-primary group-hover:bg-primary text-dark my-[-1px] ml-1.5 rounded border px-1.5 py-1 text-[11px] font-semibold leading-[11px]",children:t})}},36121:(e,t,r)=>{r.d(t,{c:()=>u});var n=r(30887),a=r(85893),i=["card"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c={discover:{icon:"discover",iconWidth:32},amex:{icon:"amex",iconWidth:32},diners:{icon:"diners",iconWidth:32},jcb:{icon:"jcb",iconWidth:32},visa:{icon:"visa",iconWidth:36},unionpay:{icon:"unionpay",iconWidth:36},mastercard:{icon:"mastercard",iconWidth:37},unknown:{icon:"generic",iconWidth:24}},u=function(e){var t,r=e.card,u=s(e,i),d=null!==(t=c[r])&&void 0!==t?t:c.unknown;return(0,a.jsx)(n.JO,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"card-".concat(d.icon),viewBox:"0 0 ".concat(d.iconWidth," 24")},u))}},40284:(e,t,r)=>{r.d(t,{h:()=>c});var n=r(67294),a=r(86013),i=r(23279),o=r.n(i),l=r(30887),s=r(85893),c=function(e){var t=e.defaultValue,r=e.onSearch,i=e.placeholder,c=void 0===i?(0,a.t)("search_item"):i,u=e.wait,d=void 0===u?300:u,p=e.withIcon,f=void 0===p||p,m=(0,n.useCallback)(o()((function(e){return r(e)}),d),[r,d]);return(0,s.jsxs)("label",{className:"m-0 flex flex-1 items-center gap-1",children:[f&&(0,s.jsx)(l.JO,{className:"text-dark inline-block",type:"16-search",size:16}),(0,s.jsx)("input",{className:"bg-primary text-dark placeholder:text-light w-full px-2 py-1 placeholder:opacity-100 focus:outline-none",defaultValue:t,placeholder:c,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation())}})]})}},62824:(e,t,r)=>{r.d(t,{n:()=>c});var n=r(86013),a=r(49326),i=r(93449),o=r(30887),l=r(16743),s=r(85893),c=function(e){var t=e.spaceId,r=e.spaceGroupId,c=(0,i.p)().downloadMembersCSV;return(0,s.jsxs)("button",{type:"submit",className:"text-dark hover:text-darkest inline-flex items-center",onClick:function(){return c({downloadURL:r?a.av.spaceGroups.exportMembers({id:r}):a.av.spaces.exportMembers({id:t})})},children:[(0,s.jsx)(l.Z.LabelSm,{children:(0,n.t)("download_csv")}),(0,s.jsx)(o.JO,{className:"text-dark ml-2 inline-block",type:"16-download",size:16})]})}},1149:(e,t,r)=>{r.d(t,{r:()=>f});var n=r(67294),a=r(94184),i=r.n(a),o=r(86013),l=r.n(o),s=r(55675),c=r(85893),u=function(){return(0,c.jsxs)("svg",{width:"44",height:"38",viewBox:"0 0 44 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"upload-box__icon text-dark",children:[(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.3777 6.80158C28.6935 4.74465 25.9889 2.97327 21.6681 3.10706C17.4236 3.23848 14.7744 5.48997 13.2292 8.10562C12.4494 9.42552 11.958 10.8317 11.7051 12.0818C11.4476 13.3554 11.4558 14.3744 11.5879 14.9366C11.6675 15.2752 11.5822 15.6315 11.358 15.8974C11.1338 16.1633 10.797 16.3074 10.4498 16.2862C8.4286 16.1623 6.40499 17.0592 4.98172 18.5551C3.56367 20.0455 2.81802 22.0458 3.20105 24.0771C4.02348 28.4386 7.14002 30.0617 9.19975 30.0617H16.6964L16.6966 31.1617L16.6966 32.2617H9.19975C6.06927 32.2617 2.05518 29.873 1.03914 24.4847C0.502933 21.6411 1.57033 18.9489 3.38787 17.0386C4.9152 15.4333 7.02647 14.3201 9.29852 14.1105C9.28722 13.3616 9.37247 12.5176 9.5488 11.6457C9.84529 10.1796 10.4182 8.53859 11.335 6.98661C13.183 3.85847 16.4561 1.06739 21.6 0.908113C26.6676 0.751202 30.0047 2.87347 32.0799 5.40782C33.77 7.47204 34.6139 9.79286 34.9361 11.3414C36.1505 11.6153 37.9482 12.2762 39.5995 13.4957C41.7581 15.0899 43.7204 17.6866 43.7412 21.6234C43.8182 25.7143 42.0708 28.4439 39.5886 30.1008C37.1705 31.7149 34.1397 32.2617 31.6184 32.2617H27.8851C27.2776 32.2617 26.785 31.7692 26.785 31.1617C26.785 30.5541 27.2775 30.0617 27.885 30.0617H31.6184C33.8811 30.0617 36.4338 29.5616 38.3672 28.271C40.2348 27.0244 41.6062 24.994 41.5415 21.658L41.5413 21.6417C41.5271 18.5421 40.0239 16.544 38.2925 15.2654C36.5143 13.9522 34.5511 13.4476 33.8832 13.3908C33.357 13.346 32.9368 12.9335 32.8824 12.4081C32.7719 11.3427 32.1033 8.90909 30.3777 6.80158ZM17.7966 31.1617C17.7966 31.7692 17.3041 32.2617 16.6966 32.2617L16.6966 31.1617L16.6964 30.0617C17.3039 30.0617 17.7966 30.5541 17.7966 31.1617Z",fill:"currentColor"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.3207 17.9012C22.9282 17.9012 23.4207 18.3937 23.4207 19.0012V35.9774C23.4207 36.5849 22.9282 37.0774 22.3207 37.0774C21.7132 37.0774 21.2207 36.5849 21.2207 35.9774V19.0012C21.2207 18.3937 21.7132 17.9012 22.3207 17.9012Z",fill:"currentColor"}),(0,c.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.5463 18.1714C21.9763 17.7453 22.6698 17.7467 23.098 18.1746L28.3224 23.3943C28.7522 23.8237 28.7525 24.5202 28.3231 24.9499C27.8937 25.3797 27.1972 25.38 26.7674 24.9506L22.3174 20.5045L17.8274 24.9538C17.3959 25.3814 16.6994 25.3783 16.2718 24.9467C15.8442 24.5152 15.8473 23.8187 16.2789 23.3911L21.5463 18.1714Z",fill:"currentColor"})]})};function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t=e.onFileDrop,r=e.accept,a=e.dropTitle,o=e.helperText,p=d((0,n.useState)(0),2),f=p[0],m=p[1],b=(0,n.useRef)(null),h=f>0,v=function(e){var t;e.preventDefault(),null===(t=b.current)||void 0===t||t.click()};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:b,onChange:function(e){e.preventDefault(),t(e.target.files)},type:"file","data-testid":"upload_file",style:{display:"none"},accept:r}),(0,c.jsx)("div",{role:"button",tabIndex:0,onClick:v,onKeyDown:v,onDragEnter:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.items&&e.dataTransfer.items.length>0&&m(f+1)},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),m(Math.max(0,f-1))},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(t(e.dataTransfer.files),e.dataTransfer.clearData()),m(0)},className:i()("upload-box w-full text-left","focus-visible:outline-secondary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2",{"drag-inside":h}),children:(0,c.jsxs)("div",{children:[(0,c.jsx)(u,{}),a&&(0,c.jsx)("div",{className:"upload-box__title",children:a}),o&&(0,c.jsx)("div",{className:"upload-box__info",children:o}),(0,c.jsx)("div",{className:"flex w-full flex-row justify-center",children:(0,c.jsx)(s.z,{variant:"circle",large:!0,children:l().t("choose_file")})})]})})]})}},84834:(e,t,r)=>{r.d(t,{o:()=>h,x:()=>u});var n=r(67294),a=r(94184),i=r.n(a),o=r(73328),l=r(85893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s((0,n.useState)(e),2),r=t[0],a=t[1],i=(0,n.useCallback)((function(e){e&&e.preventDefault(),a((function(e){return!e}))}),[a]),o=(0,n.useCallback)((function(){a(!1)}),[a]);return{open:r,toggleDropdown:i,handleOpen:(0,n.useCallback)((function(){a(!0)}),[a]),handleClose:o,setOpen:a}},d=["className","children","handleClose","open","disableToggle"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var h=function(e){var t=e.className,r=e.children,a=e.handleClose,s=e.open,c=e.disableToggle,u=b(e,d),p=(0,n.useRef)(null),m=(0,n.useCallback)((function(e){s&&!c&&a&&a(e)}),[s,c,a]);return(0,o.Z)(p,m),(0,l.jsx)("div",f(f({ref:p,className:i()("dropdown-menu--bottom-bar !border-primary border",t,{hidden:!s})},u),{},{children:r}))};h.displayName="DropdownMenu"},12144:(e,t,r)=>{r.d(t,{T:()=>n,X:()=>a});var n={emoji:"emoji",icon:"icons",shape:"shapes",custom:"custom"},a=["icons","shapes","custom"]},15218:(e,t,r)=>{r.d(t,{S:()=>s});var n=r(94184),a=r.n(n),i=r(74238),o=r(85893),l=function(e){var t=e.isWrapperElementClickable,r=e.wrapperClassName,n=e.children;return t?(0,o.jsx)("button",{type:"button",className:r,children:n}):r?(0,o.jsx)("div",{className:r,children:n}):n},s=function(e){var t=e.emoji,r=e.className,n=void 0===r?"":r,s=e.wrapperClassName,c=void 0===s?"":s,u=e.isWrapperElementClickable,d=void 0!==u&&u,p=e.shouldUseLockIcon,f=void 0!==p&&p,m=e.lockIcon,b=e.emptyIcon,h=e.appearance,v=e.customEmojiUrl,y=e.customEmojiDarkUrl,g=e.emojiClassName,j=void 0===g?"":g,x=e.dataTestId,O=void 0===x?"":x;return v?(0,o.jsx)(l,{wrapperClassName:c,isWrapperElementClickable:d,children:f&&m||(0,o.jsx)("img",{loading:"lazy",src:y&&h===i.OR.DARK?y:v||void 0,alt:"","aria-hidden":!0,className:a()("max-h-6 max-w-full",n)})}):(0,o.jsx)(l,{wrapperClassName:c,isWrapperElementClickable:d,children:(0,o.jsx)("span",{"aria-label":t,"aria-hidden":!0,className:a()({"text-center !text-base":"#"===t},n,j),"data-testid":O,children:f&&m||t||b})})}},59729:(e,t,r)=>{r.d(t,{j:()=>_,w:()=>w});var n=r(67294),a=r(86215),i=r(86013),o=r(98066),l=r.n(o),s=r(23560),c=r.n(s),u=r(77294),d=r(38776),p=r(30887),f=r(97957),m=r(16743),b=r(76538),h=r(85893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=(0,n.createContext)(null),_=function(){var e=(0,n.useContext)(O);return(0,d.Z)(e,"useFilterContext must be used within Filter"),e};O.displayName="FilterContext";var w=function(e){var t=e.children,r=e.title,o=void 0===r?null:r,s=e.chip,d=e.selectedText,v=void 0===d?null:d,g=e.renderSelectedText,x=e.onApply,_=e.isInitialOpen,w=e.shouldShowRemoveButton,P=void 0!==w&&w,S=e.shouldShowClearButton,C=void 0===S||S,N=j((0,n.useState)(),2),A=N[0],k=N[1],D=j((0,n.useState)(),2),E=D[0],I=D[1],T=(0,u.D)(A,E,{placement:"bottom-start"}),L=T.styles,M=T.attributes;return(0,n.useEffect)((function(){A&&_&&l()((function(){A.click()}),100)}),[A]),(0,h.jsx)(a.J,{as:n.Fragment,children:function(e){var r=e.open,n=e.close,l=function(e){n(),x(e)},u={selectedText:v,onApply:l,close:n};return(0,h.jsxs)(O.Provider,{value:u,children:[(0,h.jsx)(a.J.Button,{ref:k,className:"focus-visible:ring-secondary rounded-3xl focus-visible:ring-1",as:"li",children:(0,h.jsx)(b.G,{isFocused:r,selectedText:v,renderSelectedText:g,onClear:function(){return l(null)},shouldShowClearButton:C,children:s})}),(0,h.jsx)(a.J.Panel,y(y({ref:I,style:L.popper,className:"isolate z-10 w-[336px] max-w-md","data-testid":"filter_component"},M.popper),{},{children:(0,h.jsxs)("div",{className:"bg-primary border-primary mt-1 w-full rounded-lg border shadow-xl",children:[o&&(0,h.jsxs)("div",{className:"border-b-primary flex items-center justify-between border-b px-4 py-3",children:[(0,h.jsx)(f.Y,{children:(0,h.jsx)(m.Z.LabelMd,{weight:"semibold",truncate:!0,children:o})}),P&&(0,h.jsx)("button",{title:(0,i.t)("members_directory.header.search.remove_filter"),type:"button",className:"text-default",onClick:function(){return l(null)},children:(0,h.jsx)(p.JO,{size:16,type:"16-trash-bin",useWithStrokeCurrentColor:!0})})]}),c()(t)?t(u):t]})}))]})}})}},8418:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(87536),a=r(85893);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){var e=(0,n.Gc)().register;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",o({type:"hidden"},e("key"))),(0,a.jsx)("input",o({type:"hidden"},e("id")))]})}},18033:(e,t,r)=>{r.d(t,{E:()=>l});var n=r(85893);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(e){var t=e.name,r=e.value,a=e.onChange,o=e.searchProps,l="search-".concat(t);return(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"sr-only",htmlFor:l,children:null===o||void 0===o?void 0:o.label}),(0,n.jsx)("input",i({name:l,id:l,className:"border-primary bg-primary text-default shadow-xs ring-secondary placeholder:text-light w-full rounded-md border px-4 py-3 leading-5 placeholder:opacity-100 focus:outline-none focus:ring-1",autoFocus:!0,value:r,onChange:a},o))]})}},29152:(e,t,r)=>{r.d(t,{l6:()=>h,E1:()=>p.E,a3:()=>g});var n=r(67294),a=r(45697),i=r.n(a),o=r(86013),l=r(46854),s=r(55675),c=r(27027),u=r(61926),d=r(59729),p=r(18033),f=r(85893);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function(e){var t,r,a,i,b,h,v=e.options,y=e.name,g=e.legend,j=e.hasSearch,x=e.searchProps,O=e.activeText,_=(0,d.j)().onApply,w=m((0,n.useState)(""),2),P=w[0],S=w[1],C=(0,l.r)(),N=v.filter((function(e){return P?e.label.toLowerCase().includes(P.toLowerCase()):e}));return(0,f.jsxs)("div",{className:"flex w-[18rem] flex-col gap-y-5 p-4",children:[j&&(0,f.jsx)(p.E,{name:y,value:P,onChange:function(e){return S(e.target.value)},searchProps:x}),(0,f.jsx)(u.l,{defaultValues:(b=Array.isArray(O)?O.map((function(e){return+e})):null!==(t=null===O||void 0===O?void 0:O.split(","))&&void 0!==t?t:[],h=v.reduce((function(e,t){return e[t.value]=b.includes(t.value),e}),{}),i=h,(a=y)in(r={})?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r),onSubmit:function(e,t){var r=t.reset,n=Object.entries(e[y]).filter((function(e){return m(e,2)[1]})).map((function(e){return m(e,1)[0]})).join(",");_(n),r()},children:(0,f.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,f.jsx)("div",{className:"max-h-[20rem] gap-y-4 overflow-y-auto p-1",children:(0,f.jsx)(c.p,{legend:g,verticalSpacing:"tight",children:N.map((function(e){return(0,f.jsx)(u.l.Item,{name:"".concat(y,".").concat(e.value),id:"".concat(y,"-").concat(e.value),hideLabel:!0,hideBorder:!0,hideDescription:!0,isFirstChild:!0,className:"!pb-0",children:(0,f.jsx)(u.l.Checkbox,{option:e,labelClassName:"text-base font-normal",className:"!mt-0"})},e.value)}))})}),(0,f.jsx)(s.z,{variant:C,type:"submit",full:!0,children:(0,o.t)("filters.apply")})]})})]})};p.E.propTypes={name:i().string.isRequired,value:i().oneOfType([i().string,i().number]).isRequired,onChange:i().func.isRequired,searchProps:i().object};var v=r(39138),y=r.n(v),g=function(e){var t=e.selectedText,r=e.items,a=void 0===r?[]:r,i=(0,n.useMemo)((function(){return a.reduce((function(e,t){return e.set(String(t.value),t.label),e}),new Map)}),[a]),o=function(e){var t=i.get(e);return null!==t&&void 0!==t?t:e},l=function(e){var t=function(e){var t;return Array.isArray(e)?e:null!==(t=null===e||void 0===e?void 0:e.split(","))&&void 0!==t?t:[]}(e),r=t.map(o),n=r.map((function(e){return y()(e,{length:20})})),a=r.length;if(0===a)return{truncatedText:""};return a<=2?{text:r.join(", "),truncatedText:n.join(", ")}:{text:r,truncatedText:"".concat(n.slice(0,2).join(", ")," + ").concat(a-2)}}(t),s=l.text,c=l.truncatedText;return(0,f.jsx)("p",{title:s,children:c})}},30132:(e,t,r)=>{r.d(t,{S:()=>x,a:()=>w});var n=r(67294),a=r(86013),i=r(96486),o=r(87561),l=r(46854),s=r(55675),c=r(61926),u=r(59729),d=r(8418),p=r(87536),f=r(85893);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){var t=e.option,r=t.label,o=t.value,l=(0,n.useMemo)(i.uniqueId,[]),s=(0,n.useMemo)(i.uniqueId,[]),u=(0,p.Gc)(),d=u.register,m="filter_type",h=(0,u.watch)(m);return(0,f.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,f.jsxs)("div",{className:"flex items-baseline gap-x-2",children:[(0,f.jsx)("input",b(b({type:"radio",id:l},d(m)),{},{value:o,className:"self-center"})),(0,f.jsx)("label",{htmlFor:l,className:"m-0 flex-1",children:r})]}),h===o&&(0,f.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,f.jsx)("div",{className:"w-40",children:(0,f.jsx)(c.l.Item,{hideLabel:!0,hideDescription:!0,isFirstChild:!0,id:s,hideBorder:!0,hideError:!0,name:"value",children:(0,f.jsx)(c.l.Input,{type:"number",autoFocus:!0,min:"0"})})}),(0,f.jsx)("label",{htmlFor:s,children:(0,a.t)("filters.days_ago")})]})]})},y=function(e){var t=e.options,r=(0,p.Gc)().formState.errors.value;return(0,f.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,f.jsx)("fieldset",{className:"flex flex-col gap-y-4",children:t.map((function(e){return(0,f.jsx)(v,{option:e},e.value)}))}),r&&(0,f.jsx)("p",{className:"form-group__error text-sm",children:r.message})]})};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e){var t,r=e.options,p=void 0===r?[]:r,m=e.param,b=(0,u.j)().onApply,h=(0,l.r)(),v=(0,n.useMemo)((function(){var e;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({filter_type:null===(e=(0,i.head)(p))||void 0===e?void 0:e.value},m)}),[p,m]);return(0,f.jsx)(c.l,{defaultValues:v,validationSchema:(t=(0,a.t)("members_directory.header.search.filters.days_ago.less_than_0"),o.Ry().shape({filter_type:o.Z_().oneOf(p.map((function(e){return e.value}))).required(),value:o.Rx().typeError(t).min(0,t).integer(t).required(t)})),noValidate:!0,onSubmit:function(e,t){var r=t.reset;b(e),r()},children:(0,f.jsxs)("div",{className:"flex min-w-[18rem] flex-col gap-y-4 p-4",children:[(0,f.jsx)(y,{options:p}),(0,f.jsx)(d.E,{}),(0,f.jsx)(s.z,{variant:h,type:"submit",full:!0,children:(0,a.t)("filters.apply")})]})})},O=r(38776),_="members_directory.header.search.filters",w=function(e){return function(t){if(!function(e,t){return"filter_type"in t&&e.some((function(e){return e.value===t.filter_type}))}(e,t))return null;var r=e.find((function(e){return e.value===t.filter_type}));(0,O.Z)(r,"Could not find option from the related options");var n=(0,a.t)([_,"days_ago",r.value]),i=(0,a.t)([_,"days_ago.day"],{count:+t.value});return"".concat(n," ").concat(i)}}},48108:(e,t,r)=>{r.d(t,{x:()=>m});var n=r(86013),a=r(46854),i=r(55675),o=r(61926),l=r(59729),s=r(85893),c=["name"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var m=function(e){var t=e.name,r=f(e,c),u=(0,l.j)(),m=u.selectedText,b=u.onApply,h=(0,a.r)();return(0,s.jsx)(o.l,{defaultValues:p({},t,m),onSubmit:function(e,r){var n=r.reset;b(e[t]),n()},children:(0,s.jsxs)("div",{className:"flex min-w-[18rem] flex-col gap-y-4 p-4",children:[(0,s.jsx)(o.l.Input,d({name:t,autoFocus:!0},r)),(0,s.jsx)(i.z,{variant:h,type:"submit",full:!0,children:(0,n.t)("filters.apply")})]})})}},99394:(e,t,r)=>{r.d(t,{g:()=>w,d:()=>j.d1});var n=r(86013),a=r(46854),i=r(59729),o=r(55675),l=r(61926),s=r(8418),c=r(67294),u=r(94184),d=r.n(u),p=r(96486),f=r(87536),m=r(74238),b=r(85893);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){var t=e.label,r=e.value,n=e.placeholder,a=(0,c.useRef)((0,p.uniqueId)()).current,i="admin"===(0,m.ww)().section,o="filter_type",s=(0,f.Gc)(),u=s.watch,h=s.register,y=u(o);return(0,b.jsx)("div",{className:"flex px-4 py-3",children:(0,b.jsxs)("div",{className:"grid w-full grid-cols-[min-content,_1fr] grid-rows-[min-content,_1fr] gap-x-4",children:[(0,b.jsx)("input",v({type:"radio",value:r,id:a,className:d()("peer row-span-2 mt-1",i?"text-default":"text-brand")},h(o))),(0,b.jsx)("label",{htmlFor:a,className:"mb-0 text-base font-normal",children:t}),y===r&&(0,b.jsx)("div",{className:"mt-3 w-full",children:(0,b.jsx)(l.l.Input,{name:"value",autoFocus:!0,placeholder:n})})]})})}var j=r(44907);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t,r=e.name,c=e.placeholder,u=e.param,d=e.children,p=(0,a.r)(),f=(0,i.j)().onApply;return(0,b.jsxs)(l.l,{defaultValues:(0,j.x_)(u)?{id:u.id,key:r,filter_type:u.filter_type,value:u.value}:{id:u.id,key:r,filter_type:null===(t=j.VP[0])||void 0===t?void 0:t.value,value:""},onSubmit:function(e,t){var r=t.reset;if(!e.value)return f(null);f(e),r()},children:[(0,b.jsxs)("fieldset",{className:"flex flex-col py-1",children:[(0,b.jsx)(s.E,{}),j.VP.map((function(e){return(0,b.jsx)(g,O(O({},e),{},{placeholder:c}),e.value)})),d]}),(0,b.jsx)("div",{className:"px-4 py-3",children:(0,b.jsx)(o.z,{type:"submit",variant:p,full:!0,children:(0,n.t)("done")})})]})}},44907:(e,t,r)=>{r.d(t,{x_:()=>l,d1:()=>s,VP:()=>c});var n=r(86013),a=r(96486),i="filter_comparators",o=["is","is_not","contains","does_not_contain"],l=function(e){return(0,a.isObject)(e)&&"filter_type"in e&&(t=e.filter_type,(0,a.isString)(t)&&o.includes(t))&&"value"in e;var t},s=function(e){return l(e)?(0,n.t)(["filter_comparators","values",e.filter_type],{value:e.value}):null},c=[{label:(0,n.t)([i,"contains"]),value:"contains"},{label:(0,n.t)([i,"does_not_contain"]),value:"does_not_contain"},{label:(0,n.t)([i,"is"]),value:"is"},{label:(0,n.t)([i,"is_not"]),value:"is_not"}]},3262:(e,t,r)=>{r.d(t,{p:()=>l});var n=r(50768),a=r(30887),i=r(16743),o=r(85893);function l(e){var t=e.option;return(0,o.jsx)(n.E.Option,{value:t.value,className:"text-selector-active hover:bg-secondary [data-headlessui-state:active]:bg-secondary [data-headlessui-state:checked]:bg-secondary flex cursor-pointer items-center justify-between px-4 py-3",children:function(e){var r,n=e.checked;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i.Z.LabelMd,{weight:n?"semibold":"normal",children:null!==(r=t.richLabel)&&void 0!==r?r:t.label}),n&&(0,o.jsx)(a.JO,{type:"check","aria-hidden":!0})]})}})}},8315:(e,t,r)=>{r.d(t,{S:()=>g,s:()=>j});var n=r(67294),a=r(50768),i=r(86013),o=r(46854),l=r(55675),s=r(61926),c=r(59729),u=r(8418),d=r(29152),p=r(3262),f=r(85893);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){return"string"===typeof e.value};function j(e){var t=e.param,r=e.legend,m=e.options,h=e.hasSearch,y=void 0!==h&&h,j=e.searchProps,x=(0,c.j)().onApply,O=(0,o.r)(),_=v((0,n.useState)(""),2),w=_[0],P=_[1],S=m.filter((function(e){return w?e.label.toLowerCase().includes(w.toLowerCase()):e})),C=function(){return b(b({},t),{},{value:g(t)?t.value:void 0})},N=v((0,n.useState)(C().value),2),A=N[0],k=N[1];return(0,f.jsxs)("div",{className:"flex flex-col gap-y-3 py-4",children:[y&&(0,f.jsx)("div",{className:"px-4",children:(0,f.jsx)(d.E1,{name:"search-bar",value:w,onChange:function(e){return P(e.target.value)},searchProps:j})}),(0,f.jsx)(s.l,{defaultValues:C(),onSubmit:function(e,t){var r=t.reset;x(b(b({},e),{},{value:A})),r()},children:(0,f.jsxs)("div",{className:"flex flex-col gap-y-4 ",children:[(0,f.jsxs)(a.E,{value:A,onChange:k,name:"value",children:[(0,f.jsx)(a.E.Label,{className:"sr-only",children:r}),(0,f.jsx)("div",{className:"flex max-h-[20rem] flex-col overflow-y-auto",children:S.map((function(e){return(0,f.jsx)(p.p,{option:e},e.value)}))})]}),(0,f.jsx)(u.E,{}),(0,f.jsx)("div",{className:"px-4",children:(0,f.jsx)(l.z,{variant:O,type:"submit",full:!0,children:(0,i.t)("filters.apply")})})]})})]})}},93102:(e,t,r)=>{r.d(t,{pp:()=>l.p,sX:()=>n.s,Al:()=>o});var n=r(8315),a=r(67294),i=r(85893),o=function(e){var t=e.param,r=e.items,o=void 0===r?[]:r,l=(0,a.useMemo)((function(){return o.reduce((function(e,t){return e.set(String(t.value),t.label),e}),new Map)}),[o]);return t&&(0,n.S)(t)?(0,i.jsx)("span",{children:function(e){if(!e)return null;var t=l.get(e);return null!==t&&void 0!==t?t:e}(t.value)}):null},l=r(3262)},22163:(e,t,r)=>{r.d(t,{Y:()=>P,$:()=>w});var n=r(67294),a=r(86013),i=r(96486),o=r(87536),l=r(46854),s=r(55675),c=r(61926),u=r(59729),d=r(8418),p=r(27728),f=r(38776),m=r(16743),b=r(85893),h={min:(0,a.t)("min"),max:(0,a.t)("max")};function v(e){var t=e.type,r=e.value,n=h[t];return(0,f.Z)(n,"Invalid slider label type: ".concat(t)),(0,b.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,b.jsx)(m.Z.LabelXs,{children:n}),(0,b.jsx)(m.Z.LabelLg,{weight:"semibold",children:r})]})}function y(e){var t=e.value,r=e.onChange,n=e.onBlur,a=e.defaultValue,i=void 0===a?[0,10]:a,o=e.max,l=void 0===o?10:o,s=e.step,c=void 0===s?1:s,u=null!==t&&void 0!==t?t:i;return(0,b.jsxs)("div",{className:"flex flex-col gap-y-5",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(v,{type:"min",value:null===u||void 0===u?void 0:u[0]}),(0,b.jsx)(v,{type:"max",value:null===u||void 0===u?void 0:u[1]})]}),(0,b.jsxs)(p.i.Root,{value:t,defaultValue:i,onValueChange:r,onBlur:n,max:l,step:c,minStepsBetweenThumbs:1,children:[(0,b.jsx)(p.i.Track,{children:(0,b.jsx)(p.i.Range,{})}),(0,b.jsx)(p.i.Thumb,{}),(0,b.jsx)(p.i.Thumb,{})]})]})}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e){return!(0,i.isNil)(e)&&("gte"in e&&"lte"in e)},P=function(e){var t=e.param,r=(0,u.j)().onApply,i=(0,l.r)(),p=(0,n.useMemo)((function(){return O(O({},t),{},{slider:["gte"in t?t.gte:0,"lte"in t?t.lte:10]})}),[t]);return(0,b.jsx)(c.l,{defaultValues:p,onSubmit:function(e,n){var a=n.reset,i=g(e.slider,2),o=i[0],l=i[1];r(O(O({},t),{},{gte:o,lte:l})),a()},children:(0,b.jsxs)("div",{className:"flex min-w-[18rem] flex-col gap-y-4 p-4",children:[(0,b.jsx)(d.E,{}),(0,b.jsx)(o.Qr,{name:"slider",render:function(e){var t=e.field,r=t.onChange,n=t.onBlur,a=t.value;return(0,b.jsx)(y,{value:function(){if(null!=a)return a}(),onChange:r,onBlur:n})}}),(0,b.jsx)(s.z,{variant:i,type:"submit",full:!0,children:(0,a.t)("filters.apply")})]})})}},54873:(e,t,r)=>{r.d(t,{Y:()=>n.Y,$:()=>n.$});var n=r(22163)},23984:(e,t,r)=>{r.d(t,{x:()=>o});var n=r(94184),a=r.n(n),i=r(85893),o=function(e){var t=e.className,r=e.children;return(0,i.jsx)("ul",{className:a()("flex flex-1 list-none flex-wrap items-center gap-2",t),role:"list",children:r})}},48209:(e,t,r)=>{r.d(t,{f:()=>o});var n=r(86013),a=r(16743),i=r(85893),o=function(){return(0,i.jsx)("span",{className:"flex items-center",children:(0,i.jsx)(a.Z.LabelXs,{color:"text-default",children:(0,n.t)("filters.seperator.and")})})}},84012:(e,t,r)=>{r.d(t,{l6:()=>v.l6,Bi:()=>A,L2:()=>v.a3,Cd:()=>z,Sj:()=>k.S,wn:()=>n.w,Og:()=>H,xo:()=>a.x,g$:()=>K.g,dQ:()=>d,CI:()=>h,sX:()=>y.sX,Al:()=>y.Al,j4:()=>n.j,Xt:()=>F,KC:()=>B});var n=r(59729),a=r(48108),i=r(86013),o=r(46854),l=r(55675),s=r(27027),c=r(61926),u=r(85893);var d=function(e){var t,r,a,d=e.options,p=e.name,f=e.legend,m=(0,n.j)(),b=m.selectedText,h=m.onApply,v=(0,o.r)();return(0,u.jsx)("div",{className:"min-w-[18rem] p-4",children:(0,u.jsx)(c.l,{defaultValues:(t={},r=p,a=b,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t),onSubmit:function(e,t){var r=t.reset;h(e[p]),r()},children:(0,u.jsxs)("div",{className:"flex flex-col gap-y-4 ",children:[(0,u.jsx)(s.p,{legend:f,verticalSpacing:"tight",children:(0,u.jsx)(c.l.Item,{name:p,hideLabel:!0,hideBorder:!0,hideDescription:!0,isFirstChild:!0,children:(0,u.jsx)(c.l.RadioGroup,{variant:"radio",options:d})})}),(0,u.jsx)(l.z,{variant:v,type:"submit",full:!0,children:(0,i.t)("filters.apply")})]})})})},p=r(8418);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e){var t,r=e.param,a=e.options,d=e.legend,f=(0,n.j)().onApply,b=(0,o.r)();return(0,u.jsx)("div",{className:"min-w-[18rem] p-4",children:(0,u.jsx)(c.l,{defaultValues:m(m({},r),{},{value:null!==(t=r.value)&&void 0!==t?t:a[0].value}),onSubmit:function(e,t){var r=t.reset;f(e),r()},children:(0,u.jsxs)("div",{className:"flex flex-col gap-y-4 ",children:[(0,u.jsx)(s.p,{legend:d,verticalSpacing:"tight",children:(0,u.jsx)(c.l.Item,{name:"value",hideLabel:!0,hideBorder:!0,hideDescription:!0,isFirstChild:!0,children:(0,u.jsx)(c.l.RadioGroup,{name:"value",variant:"radio",options:a})})}),(0,u.jsx)(p.E,{}),(0,u.jsx)(l.z,{variant:b,type:"submit",full:!0,children:(0,i.t)("filters.apply")})]})})})},v=r(29152),y=r(93102),g=r(67294),j=r(94184),x=r.n(j),O=r(96486),_=r(18033);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=function(e){var t=e.options,r=e.legend,a=e.hasSearch,d=void 0!==a&&a,f=e.searchProps,m=e.param,b=e.className,h=(0,g.useRef)((0,O.uniqueId)()),v=(0,n.j)().onApply,y=C((0,g.useState)(""),2),j=y[0],w=y[1],S=(0,o.r)(),N=t.filter((function(e){return j?e.label.toLowerCase().includes(j.toLowerCase()):e}));return(0,u.jsxs)("div",{className:x()("flex w-[18rem] flex-col gap-y-5 p-4",b),children:[d&&(0,u.jsx)(_.E,{name:"search-bar",value:j,onChange:function(e){return w(e.target.value)},searchProps:f}),(0,u.jsx)(c.l,{defaultValues:P(P({},m),{},{value:t.reduce((function(e,t){var r=m.value;if("number"===typeof t.value){var n=(0,O.compact)(null===r||void 0===r?void 0:r.map(Number));e[t.value]=null===n||void 0===n?void 0:n.includes(t.value)}else{var a=null===r||void 0===r?void 0:r.map(String);e[t.value]=null===a||void 0===a?void 0:a.includes(t.value)}return e}),{})}),onSubmit:function(e,t){var r=t.reset,n=Object.entries(e.value).filter((function(e){return C(e,2)[1]})).map((function(e){return C(e,1)[0]}));v(P(P({},e),{},{value:n})),r()},children:(0,u.jsxs)("div",{className:"flex flex-col gap-y-3",children:[(0,u.jsxs)("div",{className:"max-h-[20rem] gap-y-4 overflow-y-auto p-1",children:[(0,u.jsx)(s.p,{legend:r,verticalSpacing:"tight",children:N.map((function(e){return(0,u.jsx)(c.l.Item,{name:"value.".concat(e.value),id:"".concat(h.current,"-").concat(e.value),hideLabel:!0,hideBorder:!0,hideDescription:!0,isFirstChild:!0,className:"!pb-0",children:(0,u.jsx)(c.l.Checkbox,{name:"".concat(e.value,"-checkbox"),option:e,labelClassName:"text-base font-normal",className:"!mt-0"})},e.value)}))}),(0,u.jsx)(p.E,{})]}),(0,u.jsx)(l.z,{variant:S,type:"submit",full:!0,children:(0,i.t)("filters.apply")})]})})]})},k=r(30132),D=r(17563),E=r(24185),I=r(49326),T=r(72810);function L(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var F=function(){var e=(0,E.k6)(),t=(0,T.t)(),r=(0,g.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=new URLSearchParams(e.location.search);(0,O.isNil)(r)||""===r?n.delete(t):n.set(t,r),n.set("page",1),e.push({search:n.toString()})}),[e]),n=(0,g.useCallback)((function(){e.push({search:""})}),[e]),a=(0,g.useCallback)((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,O.omit)(t,[].concat(L(r),["page"])),a=(0,I.UK)(n);e.push({search:a})}),[t,e]);return{history:e,queryParams:t,updateUrl:r,removeAllQueryParams:n,removeQueryParams:a,appendToUrl:function(){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t[arguments.length>0&&void 0!==arguments[0]?arguments[0]:""]=r,t.page=1,e.push({search:D.stringify(t)})}}},R=r(80129),Z=r(93166),B=function(e){var t=(0,E.k6)(),r=(0,Z.t)(e),n=(0,g.useCallback)((function(){t.push({search:""})}),[t]),a=(0,g.useCallback)((function(){var e=(0,O.omit)(r,["filters","page"]);t.push({search:(0,R.stringify)(e)})}),[r,t]);return{history:t,queryParams:r,removeAllQueryParams:n,removeFilterFromUrl:a}},U=r(30887),z=function(e){var t=e.isVisible,r=void 0===t||t,n=e.onClick;return(0,u.jsxs)("button",{type:"submit",className:x()("text-light hover:text-darkest flex text-sm",{invisible:!r}),disabled:!r,onClick:n,children:[(0,u.jsx)(U.JO,{type:"20-close-sm",size:20,useWithFillCurrentColor:!0,"aria-hidden":!0}),(0,u.jsx)("p",{children:(0,i.t)("filters.clear_filters")})]})},V=r(50768),q=r(23984),H=function(e){var t=e.label,r=e.selectedText,n=e.onChange,a=e.options,i=void 0===a?[]:a;return(0,u.jsxs)(V.E,{value:r,onChange:n,as:"li",children:[(0,u.jsx)(V.E.Label,{className:"sr-only",children:t}),(0,u.jsx)(q.x,{children:i.map((function(e){return(0,u.jsx)(V.E.Option,{value:e.value,as:"li",children:function(t){var r=t.checked;return(0,u.jsx)("span",{className:x()("flex cursor-pointer items-center rounded-3xl border px-3 py-1 text-xs",r?"text-dark border-secondary":"text-default border-primary"),children:e.label})}},e.label)}))})]})},K=r(99394);r(48209)},53068:(e,t,r)=>{r.d(t,{K:()=>y});var n=r(67294),a=r(94184),i=r.n(a),o=r(86013),l=r(87536),s=r(30887),c=r(55380),u=r(87958),d=r(85893),p=["name","showMenuBar","className","textAreaClassName","menuBarOptions"],f=["ref"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var y=function(e){var t=e.name,r=e.showMenuBar,a=void 0!==r&&r,m=e.className,h=e.textAreaClassName,y=e.menuBarOptions,g=void 0===y?[]:y,j=v(e,p),x=(0,n.useRef)(null),O=(0,n.useRef)(null),_=(0,l.Gc)(),w=_.register,P=_.setValue,S=w(t),C=S.ref,N=v(S,f);return(0,d.jsxs)("div",{className:i()("border-primary bg-primary text-dark focus-within:border-light active:border-light relative mb-6 flex flex-col rounded-lg border border-solid px-4 py-3 text-sm transition-colors",m),children:[(0,d.jsx)("textarea",b(b(b({},N),j),{},{ref:function(e){C(e),O.current=e},className:i()("placeholder:text-light bg-primary text-dark m-0 flex-auto resize-none overflow-auto border-0 p-0 placeholder:opacity-100 focus:ring-0 focus:ring-offset-0",h)})),a&&(0,d.jsx)(c.l,{options:g,groupBy:function(e){return e.group},onSelect:function(e){if(null!==O&&void 0!==O&&O.current){var r=O.current.selectionStart||0,n=O.current.value.substring(0,r)||"",a=O.current.value.substring(r,O.current.value.length)||"";P(t,n+e+a),O.current.selectionStart=(n+e).length}},buttonRef:x,children:(0,d.jsx)(u.T,{placement:"bottom",delay:300,content:(0,o.t)("tiptap.add_variable"),interactive:!1,children:(0,d.jsx)(s.JO,{type:"20-variables"})})})]})}},66154:(e,t,r)=>{r.d(t,{If:()=>a});var n=r(45697),a=function(e){var t=e.condition,r=e.children;return t?("function"===typeof r?r:function(){return r})():null};a.propTypes={condition:n.any.isRequired,children:n.any.isRequired}},25153:(e,t,r)=>{r.d(t,{Y:()=>S});var n=r(94184),a=r.n(n),i=r(86013),o=r(30887),l=r(87958),s=r(71299),c=r(16743),u=r(80902),d=r(86078),p=r(85893),f=function(e){var t=e.changeImageText,r=void 0===t?(0,i.t)("edit_cover_image"):t,n=e.handleChangeCoverClick,s=e.handleDelete,c=e.imageUrl,u=e.processing,f=e.value,m=e.variant,b=void 0===m?"default":m,h=Boolean(u),v=Boolean(f);return(0,p.jsxs)("div",{className:"group relative",children:[(0,p.jsxs)("button",{type:"button",className:a()("bg-primary text-dark border-primary flex h-[88px]  w-full cursor-pointer items-center justify-center overflow-hidden rounded-md border group-focus-within:border-blue-500 group-focus-within:text-blue-500 group-hover:border-blue-500 group-hover:text-blue-500",{"py-7":"default"===b}),onClick:n,children:[h&&(0,p.jsx)(d.m,{}),v&&!h&&(0,p.jsx)("img",{loading:"lazy",src:c,alt:r,className:"h-full"})]}),(0,p.jsx)("div",{className:"absolute right-[-6px] top-[-10px] hidden group-focus-within:block group-hover:block",children:(0,p.jsx)(l.T,{content:(0,i.t)("remove_cover_image"),children:(0,p.jsx)("button",{type:"button",onClick:s,className:"flex items-center justify-center rounded-full bg-gray-700 p-[2px] text-gray-50",children:(0,p.jsx)(o.JO,{type:"16-close",size:16,className:"!h-4 !w-4"})})})})]})},m=["value","processing","variant"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var g=function(e){var t=e.value,r=e.processing,n=e.variant,a=y(e,m);return t||r?(0,p.jsx)(f,h({variant:n,value:t,processing:r},a)):(0,p.jsx)(u.T,h({},a))},j=function(e){var t=e.text,r=void 0===t?"":t;return(0,p.jsx)("button",{type:"button",className:"text-dark bg-primary border-primary flex h-[88px] w-full cursor-pointer items-center justify-center rounded-md border py-6 hover:border-blue-500 hover:text-blue-500 focus:border-blue-500 focus:text-blue-500",children:r})},x=["className","description","isHorizontal","label","previewVariant","tooltip"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var S=function(e){var t=e.className,r=void 0===t?"":t,n=e.description,u=void 0===n?"":n,d=e.isHorizontal,f=void 0!==d&&d,m=e.label,b=void 0===m?"":m,h=e.previewVariant,v=void 0===h?"default":h,y=e.tooltip,O=void 0===y?"":y,w=P(e,x);return(0,p.jsxs)("div",{className:a()("flex flex-col",{"gap-1 md:flex-row md:gap-4":f},r),children:[(0,p.jsxs)("div",{className:a()("text-dark mb-2 flex",{"flex-col":u,"items-center":!u,"w-full":f}),children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(c.Z.LabelSm,{weight:"semibold",children:b}),O&&(0,p.jsx)(l.T,{content:O,children:(0,p.jsx)(o.JO,{type:"16-question-mark",size:16,className:"ml-1 !h-4 !w-4"})})]}),u&&(0,p.jsx)("div",{children:(0,p.jsx)(c.Z.LabelSm,{children:u})})]}),(0,p.jsx)("div",{className:"w-full",children:(0,p.jsx)(s.D,_({showAddCoverBtn:!0,customAddCoverBtn:(0,p.jsx)(j,{text:(0,i.t)("customize_theme.logo_tab.select_image")}),renderer:function(e){return(0,p.jsx)(g,_({variant:v},e))},changeImageText:(0,i.t)("replace"),hideUnsplash:!0,hideEmbedUrl:!0},w))})]})}},2822:(e,t,r)=>{r.d(t,{Q:()=>y});var n=r(67294),a=r(86013),i=r(5295),o=r(16743),l=r(94184),s=r.n(l),c=r(85893),u=["onSelect","item","selected","content"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var b=function(e){var t=e.onSelect,r=e.item,n=e.selected,a=e.content,i=m(e,u),o=function(e){t(r,e)};return(0,c.jsx)("li",p(p({role:"button",className:s()("block-selector-item",{active:n,inactive:!n}),onClick:o,onKeyDown:o,tabIndex:0},i),{},{children:a}))};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){var t=e.items,r=e.onSelect,l=e.getKey,s=e.getItemContent,u=e.subsectionKey,d=e.loading,p=e.notFoundContent,f=void 0===p?(0,a.t)("search.results.zero"):p,m=e.disableHorizontalArrowKeys,v=void 0!==m&&m,y=h((0,n.useState)(0),2),g=y[0],j=y[1],x=(0,n.useRef)(null),O=function(e){j(e);var t=x.current;if(t){var r=t.querySelectorAll("li")[e];t.scrollTop=0,t.scrollTop=r.getBoundingClientRect().bottom-t.getBoundingClientRect().top-t.offsetHeight}};(0,n.useEffect)((function(){j(0)}),[t]),(0,n.useEffect)((function(){var e=function(e){switch(e.key){case"ArrowDown":e.preventDefault();var n=(g+1)%t.length;O(n);break;case"ArrowUp":e.preventDefault();var a=(t.length+g-1)%t.length;O(a);break;case"ArrowLeft":case"ArrowRight":v&&e.preventDefault();break;case"Enter":e.preventDefault(),g>=0&&r(t[g],e)}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[g,t,r,v]);var _=null;return(0,c.jsx)("div",{ref:x,className:"react-interactive-list trix__dropdown",children:(0,c.jsxs)("ul",{className:"bg-secondary text-dark rounded-lg",children:[d&&(0,c.jsx)("li",{children:(0,c.jsx)(i.a,{})}),!d&&t.length>0&&t.map((function(e,t){var a=l?l(e):t,i=e[u],o=i&&_!==i;return _=i,(0,c.jsxs)(n.Fragment,{children:[o&&(0,c.jsx)("div",{className:"trix__dropdown--subsection",children:i}),(0,c.jsx)(b,{selected:g===t,item:e,onSelect:r,content:s(e)},a)]},"".concat(i,"-").concat(o))})),!d&&t.length<=0&&(0,c.jsx)("li",{className:"border-secondary rounded-lg border",children:(0,c.jsx)(o.Z.LabelSm,{color:"text-default",children:f})})]})})}},54022:(e,t,r)=>{r.d(t,{o:()=>l});var n=r(86013),a=r(85893),i=function(e){var t=e.progress,r=e.filename;return(0,a.jsxs)("div",{className:"progress-card",children:[(0,a.jsx)("div",{className:"editor-overlay",children:(0,a.jsx)("div",{className:"overlay-editor-actions",children:(0,a.jsx)("a",{href:"#remove-attachment","data-action":"remove-attachment",className:"close-btn",children:(0,a.jsx)("div",{className:"close-btn__caret"})})})}),r&&(0,a.jsx)("span",{className:"progress-card__filename",children:r}),(0,a.jsxs)("span",{className:"progress-card__amount",children:[t," %"]}),(0,a.jsx)("div",{className:"attachment__upload progress-bar",children:(0,a.jsx)("div",{className:"progress-bar__line",style:{width:t+"%"}})})]})},o=r(98222),l=function(e){var t,r,l=e.id,s=e.name,c=e.media,u=e.previewMedia,d=e.onMediaUpload,p=e.onRemoveMedia,f=e.isLoading,m=e.progress,b=function(e){return e.type.split("/")[0]},h=function(){return u.url&&u.url.length>0||c.url&&c.url.length>0};return(0,a.jsx)("div",{className:"form-input",children:(0,a.jsxs)("div",{"data-controller":"form","data-id":"1","data-btn-update-text":(0,n.t)("upload"),children:[f&&(0,a.jsx)(i,{progress:m}),!f&&(0,a.jsxs)("div",{children:[h()&&(t=u.type?b(u):b(c),r=u.url?u.url:c.url,(0,a.jsx)("div",{className:"media-upload-wrapper",children:"video"===t?(0,a.jsx)(o.n,{url:r}):(0,a.jsx)("img",{loading:"lazy",alt:"",src:r})})),(0,a.jsxs)("label",{className:"mt-0 ".concat(h()?"":"btn btn-secondary btn-full"," "),children:[h()?(0,a.jsx)("span",{className:"btn btn-secondary btn-half pull-left mt-0",children:(0,n.t)("replace")}):(0,a.jsx)("span",{className:"w-full text-center",children:(null!==c&&void 0!==c?c:c.url)?(0,n.t)("replace"):(0,n.t)("upload")}),(0,a.jsx)("span",{className:"hidden",children:(0,a.jsx)("input",{accept:"image/*, video/*",className:"form-control",type:"file",name:s,id:l,onChange:d})})]}),h()&&(0,a.jsx)("button",{type:"button",className:"btn btn-secondary btn-half pull-right mt-0",onClick:p,children:(0,n.t)("remove")})]})]})})}},94899:(e,t,r)=>{r.d(t,{Q:()=>o});var n=r(86013),a=r(98222),i=r(85893),o=function(e){var t,r,o=e.id,l=e.name,s=e.media,c=e.onMediaUpload,u=e.onRemoveMedia,d=function(e){return e.type.split("/")[0]},p=function(){return s.url&&s.url.length>0||s.file};return(0,i.jsx)("div",{className:"form-input",children:(0,i.jsxs)("div",{"data-controller":"form","data-id":"1","data-btn-update-text":(0,n.t)("upload"),children:[p()&&(t=s.file?d(s.file):s.type,r=s.file?URL.createObjectURL(s.file):s.url,(0,i.jsx)("div",{className:"media-upload-wrapper",children:"video"===t?(0,i.jsx)(a.n,{url:r}):(0,i.jsx)("img",{loading:"lazy",alt:"",src:r})})),(0,i.jsxs)("label",{className:"mt-0 ".concat(p()?"":"btn btn-secondary btn-full"," "),children:[p()?(0,i.jsx)("span",{className:"btn btn-secondary btn-half pull-left mt-0",children:(0,n.t)("replace")}):(0,i.jsx)("span",{className:"w-full text-center",children:(null!==s&&void 0!==s?s:s.file)?(0,n.t)("replace"):(0,n.t)("upload")}),(0,i.jsx)("span",{className:"hidden",children:(0,i.jsx)("input",{accept:"image/*, video/*",className:"form-control",type:"file",name:l,id:o,onChange:c})})]}),p()&&(0,i.jsx)("button",{type:"button",className:"btn btn-secondary btn-half pull-right mt-0",onClick:u,children:(0,n.t)("remove")})]})})}},30436:(e,t,r)=>{r.d(t,{L:()=>c});var n=r(67294),a=r(86013),i=r(30887),o=r(1002),l=r(16743),s=r(85893),c=function(e){var t=e.children,r=e.label,c=void 0===r?(0,a.t)("settings.manage_members.add_filter"):r;return(0,s.jsx)(o.Lt,{direction:"bottom-start",dataTestId:"add-filter-dropdown",as:n.Fragment,buttonWrapperComponent:"li",size:o.wk.EXTRA_LARGE,buttonClassName:"flex h-6 justify-center items-center hover:bg-secondary focus-visible:bg-secondary gap-1 rounded-md",button:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.JO,{type:"20-add-sm",size:20,"aria-hidden":!0,className:"text-darkest"}),(0,s.jsx)(l.Z.LabelSm,{weight:"medium",children:(0,s.jsx)("span",{className:"text-darkest pr-2",children:c})})]}),children:t})}},16108:(e,t,r)=>{r.d(t,{g:()=>p});var n=r(64687),a=r.n(n),i=r(86013),o=r(97012),l=r(65771),s=r(21155),c=r(49498);function u(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){u(i,n,a,o,l,"next",e)}function l(e){u(i,n,a,o,l,"throw",e)}o(void 0)}))}}function p(){var e=(0,l.E)().changePlanModalParams,t=(0,o.wh)().refetch,r=(0,s.w)(),n=function(){var e=d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var t=d(a().mark((function t(o){var l,s,d,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=o.minimumRequiredTier,s=e(l),d=s.planTier,p=s.planId,t.next=5,r.show({planId:p,planTier:d,onSuccess:u,subheading:(0,i.t)("pricing_plans.upgrade_modal.subheadings.analytics_filters"),successButtonLabel:(0,i.t)("pricing_plans.upgrade_modal.actions.go_to_analytics"),showPlanDetails:!0,onCloseModal:n,source:c.f.ANALYTICS_FILTERS});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{showUpgradeModal:p}}},71332:(e,t,r)=>{r.d(t,{G:()=>i});var n=r(16743),a=r(85893),i=function(e){var t=e.title,r=e.children;return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"inline-block px-5",children:(0,a.jsx)(n.Z.LabelXxs,{color:"text-light",children:t})}),(0,a.jsx)("div",{children:r})]})}},7090:(e,t,r)=>{r.d(t,{S:()=>_});var n=r(67294),a=r(96486),i=r(86013),o=r(15916),l=r(49498),s=r(30436),c=r(71332),u=r(1002),d=r(85893),p=function(e){var t=e.filters,r=e.title,n=e.onAddFilter;return t.length?(0,d.jsx)(c.G,{title:r,children:t.map((function(e){var t=e.name,r=e.label,a=e.availableLabel;return(0,d.jsx)(u.Lt.ItemWithLink,{onClick:function(){return n(t)},children:null!==a&&void 0!==a?a:r},t)}))}):null},f=function(e){var t=e.defaultFilters,r=void 0===t?[]:t,a=e.customFilters,u=void 0===a?[]:a,f=e.availableFilters,m=void 0===f?[]:f,b=e.onAddFilter,h=e.label,v=(0,o.aL)(),y=(0,o.R1)(),g=(0,n.useMemo)((function(){var e=new Set(m.map((function(e){return e.name}))),t=function(t){var r=t.name;return e.has(r)};return{defaultFilters:r.filter(t),customFilters:u.filter(t)}}),[m,r,u]),j=g.defaultFilters,x=g.customFilters;return(0,d.jsx)(s.L,{label:h,children:(0,d.jsxs)("div",{className:"flex max-h-96 flex-col gap-y-4 overflow-y-auto",children:[(0,d.jsx)(p,{title:(0,i.t)("filters.standard"),filters:j,onAddFilter:b}),y&&(0,d.jsx)(c.G,{title:(0,i.t)("profile_fields.upgrade_flow.title"),children:(0,d.jsx)("div",{className:"mt-2 pl-4",children:(0,d.jsx)(o.IA,{source:l.f.PROFILE_FIELDS_FILTER_CHIP})})}),v&&(0,d.jsx)(p,{title:(0,i.t)("filters.custom"),filters:x,onAddFilter:b})]})})},m=r(17988),b=["name","component","isInitialOpen"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _=function(e){var t=e.defaultFilters,r=void 0===t?[]:t,i=e.customFilters,o=void 0===i?[]:i,l=e.onAddFilter,s=void 0===l?a.noop:l,c=e.onRemoveFilter,u=void 0===c?a.noop:c,p=e.getSplitAndAvailableFilters,x=void 0===p?a.noop:p,O=e.label,_=j((0,n.useState)(!1),2),w=_[0],P=_[1],S=x([].concat(g(r),g(o))),C=S.displayedFilters,N=S.availableFilters,A=0!==N.length;return(0,d.jsxs)(m.O,{"data-testid":"members_filters",children:[C.map((function(e){var t=e.name,r=e.component,n=e.isInitialOpen,a=y(e,b);return(0,d.jsx)(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({name:t,onApply:function(e){return u(e,t)},isInitialOpen:n||w,shouldShowRemoveButton:!0},a),t)})),A&&(0,d.jsx)(f,{availableFilters:N,onAddFilter:function(e){P(!0),(0,a.delay)((function(){return P(!1)}),500),s(e)},defaultFilters:r,customFilters:o,label:O})]})}},17988:(e,t,r)=>{r.d(t,{O:()=>d});var n=r(94184),a=r.n(n),i=r(85893),o=["className","children"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var d=function(e){var t=e.className,r=e.children,n=u(e,o);return(0,i.jsx)("ul",s(s({className:a()("flex flex-1 list-none flex-wrap items-center gap-2",t)},n),{},{children:r}))}},758:(e,t,r)=>{r.d(t,{I:()=>d});var n=r(94184),a=r.n(n),i=r(85893),o=["className","children"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var d=function(e){var t=e.className,r=e.children,n=u(e,o);return(0,i.jsx)("div",s(s({className:a()("bg-primary border-primary flex items-center justify-between gap-x-1 border-b px-6 py-3",t)},n),{},{children:r}))}},59039:(e,t,r)=>{r.d(t,{kT:()=>$,k0:()=>Q,dM:()=>D});var n=r(67294),a=r(94184),i=r.n(a),o=r(84012),l=r(66752),s=r(38776),c=(0,n.createContext)(null);c.displayName="DynamicFilterContext";var u=function(){var e=(0,n.useContext)(c);return(0,s.Z)(e,"useDynamicFilterContext must be used within a DynamicFilterContextProvider"),e},d=r(85893),p=r(10943),f=r(63883),m=["name","component"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g(e){var t=e.displayedFilters,r=e.onRemoveFilter,a=e.platformFilters,i=e.profileFieldFilters,o=(0,l.R)(),s=o.filterParams,c=o.onApply,u=(0,n.useMemo)((function(){return a.reduce((function(e,t){return e.set(t.name,t),e}),new Map)}),[a]),b=(0,n.useMemo)((function(){return i.reduce((function(e,t){return e.set(t.id,t),e}),new Map)}),[i]),v=(0,n.useMemo)((function(){return s.reduce((function(e,t){return e.set(t.id,t),e}),new Map)}),[s]);return(0,d.jsx)(n.Fragment,{children:t.map((function(e,t){var n=e.key,a=e.id,i=u.get(n);if((0,f.xE)(e)&&(i=b.get(Number(e.profile_field_id))),!i)return null;var o=i,l=o.name,s=o.component,g=y(o,m),j=v.get(a),x=!1;return""===(null===j||void 0===j?void 0:j.value)&&(x=!0),(0,d.jsx)(s,h({name:l,index:t,param:h(h({},e),j),onApply:function(e){(0,p.N)(e)&&r(a),null===c||void 0===c||c(a,e)},isInitialOpen:x||e.isInitialOpen,shouldShowRemoveButton:!0},g),a)}))})}var j=r(17988),x=r(758),O=r(96486),_=r(53416);function w(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"===typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=Object.assign((function(e){var t=e.defaultFilterNames,r=void 0===t?[]:t,a=e.className,o=e.children,s=e.platformFilters,u=e.profileFieldFilters,p=void 0===u?[]:u,m=function(e){var t=e.defaultFilterNames,r=(0,l.R)(),a=r.filterParams,i=r.onAdd,o=P((0,n.useState)((function(){var e=[],r=new Set,n=function(t){if((0,f.xE)(t))return e.push({id:t.id,key:t.key,profile_field_id:t.profile_field_id,profile_field_type:t.profile_field_type});e.push({id:t.id,key:t.key})};return t.forEach((function(t){var i=a.find((function(e){return e.key===t}));i?(r.add(t),n(i)):e.push((0,f.G9)({key:t}))})),a.forEach((function(e){r.has(e.key)?r.delete(e.key):n(e)})),e})),2),s=o[0],c=o[1];return{displayedFilters:s,isClearFiltersShown:(0,n.useMemo)((function(){return a.some((function(e){var t=e.value;return!(0,O.isNil)(t)}))}),[a]),onClearFilters:function(){c(t.map((function(e){return(0,f.G9)({key:e})})))},onAddFilter:function(e){var t=e.key,r=e.profile_field_id,n=e.profile_field_type,a={id:(0,_.x0)(),key:t,profile_field_id:r,profile_field_type:n,isInitialOpen:!0};null===i||void 0===i||i(a),c((function(e){return[].concat(w(e),[a])}))},onRemoveFilter:function(e){c((function(t){return t.filter((function(t){return t.id!==e}))}))}}}({defaultFilterNames:r}),b=(0,n.useMemo)((function(){return A(A({},m),{},{platformFilters:s,profileFieldFilters:p})}),[m,s,p]);return(0,d.jsx)(c.Provider,{value:b,children:(0,d.jsx)(x.I,{className:i()("w-full",a),children:o})})}),{Panel:function(e){var t=e.children,r=u(),n=r.displayedFilters,a=r.onRemoveFilter,i=r.platformFilters,o=r.profileFieldFilters,l=void 0===o?[]:o;return(0,d.jsxs)(j.O,{"data-testid":"members_filters",children:[(0,d.jsx)(g,{displayedFilters:n,onRemoveFilter:a,platformFilters:i,profileFieldFilters:l}),t]})},ClearButton:function(){var e=u(),t=e.isClearFiltersShown,r=e.onClearFilters,n=(0,l.R)().onClearAll;return(0,d.jsx)(o.Cd,{isVisible:t,onClick:function(){r(),null===n||void 0===n||n()}})}}),E=r(86013),I=r(15916),T=r(49498),L=r(30436),M=r(71332),F=r(64687),R=r.n(F),Z=r(1002),B=r(16108);function U(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,a)}function z(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){U(i,n,a,o,l,"next",e)}function l(e){U(i,n,a,o,l,"throw",e)}o(void 0)}))}}var V=function(e){var t=e.filters,r=e.title,n=e.onAddFilter,a=(0,B.g)().showUpgradeModal;return t.length?(0,d.jsx)(M.G,{title:r,children:t.map((function(e){var t=e.name,r=e.label,i=e.listLabel,o=e.upgradeDetails;return(0,d.jsx)(Z.Lt.ItemWithLink,{linkType:"button",onClick:z(R().mark((function r(){var i,l;return R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!o){r.next=5;break}return r.next=3,a({minimumRequiredTier:o.minimumRequiredTier});case 3:r.next=9;break;case 5:if(!(0,f.f)(e)){r.next=8;break}return i=e.id,l=e.field_type,r.abrupt("return",n({key:t,profile_field_id:i,profile_field_type:l}));case 8:n({key:t});case 9:case"end":return r.stop()}}),r)}))),children:null!==i&&void 0!==i?i:r},(0,f.f)(e)?e.id:t)}))}):null};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=function(e){var t=e.label,r=(0,I.aL)(),n=(0,I.R1)(),a=u(),i=a.platformFilters,o=a.profileFieldFilters,l=void 0===o?[]:o,s=a.onAddFilter;return(0,d.jsx)(L.L,{label:t,children:(0,d.jsxs)("div",{className:"flex max-h-96 flex-col gap-y-4 overflow-y-auto",children:[(0,d.jsx)(V,{title:(0,E.t)("filters.standard"),filters:i,onAddFilter:s}),n&&(0,d.jsx)(M.G,{title:(0,E.t)("profile_fields.upgrade_flow.title"),children:(0,d.jsx)("div",{className:"mt-2 pl-4",children:(0,d.jsx)(I.IA,{source:T.f.PROFILE_FIELDS_FILTER_CHIP})})}),r&&(0,d.jsx)(V,{title:(0,E.t)("filters.custom"),filters:l,onAddFilter:function(e){return s(H(H({},e),{},{key:"profile_field"}))}})]})})},G=r(24009);var Q=function(e){var t=e.label,r=e.isFromAnalyticsFilterBar,a=void 0!==r&&r,i=(0,I.aL)(),o=(0,G.x)(),l=(0,I.R1)(),s=u().onAddFilter,c=function(){var e=u(),t=e.platformFilters,r=e.profileFieldFilters,a=void 0===r?[]:r,i=e.displayedFilters;return(0,n.useMemo)((function(){var e=t.filter((function(e){return!i.some((function(t){return t.key===e.name}))})),r=a.filter((function(e){return!i.some((function(t){return!!(0,f.xE)(t)&&t.profile_field_id===e.id}))}));return{availablePlatformFilters:e,availableProfileFieldFilters:r,hasAvailableFilters:e.length>0||r.length>0}}),[i,t,a])}(),p=c.availablePlatformFilters,m=c.availableProfileFieldFilters;if(!c.hasAvailableFilters)return null;var b=a&&!o||!a&&l,h=a?T.f.PROFILE_FIELDS_ANALYTICS_FILTER_CHIP:T.f.PROFILE_FIELDS_FILTER_CHIP,v=!a&&i||a&&o;return(0,d.jsx)(L.L,{label:t,children:(0,d.jsxs)("div",{className:"flex max-h-96 flex-col gap-y-4 overflow-y-auto",children:[(0,d.jsx)(V,{title:(0,E.t)("filters.standard"),filters:p,onAddFilter:s}),b&&(0,d.jsx)(M.G,{title:(0,E.t)("profile_fields.upgrade_flow.title"),children:(0,d.jsx)("div",{className:"mt-2 pl-4",children:(0,d.jsx)(I.IA,{source:h})})}),v&&(0,d.jsx)(V,{title:(0,E.t)("filters.custom"),filters:m,onAddFilter:s})]})})}},66752:(e,t,r)=>{r.d(t,{O:()=>s,R:()=>o});var n=r(67294),a=r(38776),i=(0,n.createContext)(null);i.displayName="FilterValueContext";var o=function(){var e=(0,n.useContext)(i);return(0,a.Z)(e,"useFilterValueContext must be used within a FilterValueContext"),e},l=r(85893),s=function(e){var t=e.filterParams,r=e.onApply,a=e.onClearAll,o=e.onClear,s=e.onAdd,c=e.children,u=(0,n.useMemo)((function(){return{filterParams:t,onApply:r,onClearAll:a,onClear:o,onAdd:s}}),[t,r,a,o,s]);return(0,l.jsx)(i.Provider,{value:u,children:c})}},82207:(e,t,r)=>{r.d(t,{s:()=>s,r:()=>j});var n=r(67294),a=r(86013),i=r(96486),o=r(84012),l=r(85893),s=function(e){var t=e.label,r=e.choices,s=e.onApply,c=e.param,u=e.isInitialOpen,d=void 0!==u&&u,p=(0,n.useMemo)((function(){return r.map((function(e){var t=e.id;return{label:e.value,value:String(t)}}))}),[r]);return(0,l.jsx)(o.wn,{chip:t,title:t,selectedText:c.value,renderSelectedText:function(){return(0,l.jsx)(o.Al,{items:p,param:c})},onApply:function(e){if((0,i.isFunction)(s)){if((0,i.isEmpty)(e))return s(null);s(e)}},isInitialOpen:d,shouldShowRemoveButton:!0,children:(0,l.jsx)(o.sX,{options:p,legend:t,param:c,hasSearch:!0,searchProps:{placeholder:(0,a.t)("search_item")}})})},c=r(38776),u=r(99394),d=r(63883),p=r(87536);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e){var t=e.profile_field_id,r=e.profile_field_type,a=(0,p.Gc)().register;return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)("input",m(m({type:"hidden"},a("profile_field_type")),{},{value:r})),(0,l.jsx)("input",m(m({type:"hidden"},a("profile_field_id")),{},{value:t}))]})}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e){var t=e.label,r=e.param,n=e.onApply,a=e.isInitialOpen;return(0,c.Z)((0,d.xE)(r),"param must be a profile field filter"),(0,l.jsx)(o.wn,{chip:t,title:t,selectedText:r.value,onApply:function(e){(0,i.isFunction)(n)&&n(e)},isInitialOpen:a,shouldShowRemoveButton:!0,renderSelectedText:function(){return(0,u.d)(r)},children:(0,l.jsx)(o.g$,{name:"profile_field",param:r,children:(0,l.jsx)(h,y({},r))})})}},19553:(e,t,r)=>{r.d(t,{L:()=>p,N:()=>f.N});var n,a=r(3085),i=r(82207),o=r(85893),l=["field_type"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=(u(n={},a.Z9.TEXT,i.r),u(n,a.Z9.LINK,i.r),u(n,a.Z9.NUMBER,i.r),u(n,a.Z9.TEXTAREA,i.r),u(n,a.Z9.SELECT,i.s),u(n,a.Z9.CHECKBOX,i.s),n),p=function(e){var t=e.field_type,r=c(e,l),n=d[t]||function(){return null};return(0,o.jsx)(n,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))},f=r(68e3)},47844:(e,t,r)=>{r.d(t,{i:()=>v,c:()=>y});var n=r(64687),a=r.n(n),i=r(86013),o=r(96486),l=r(62444),s=r(57956),c=r(84012),u=r(76538),d=r(54873),p=r(22163),f=r(49498),m=r(85893);function b(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,a)}var h="members_directory.header.search.filters",v=function(e){return(0,p.$)(e)?"".concat(e.gte," - ").concat(e.lte):""},y=function(e){var t=e.isInitialOpen,r=e.onApply,n=e.param,y=(0,l.b)(),g=(0,s.m3)(),j=function(){var e,t=(e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.show({source:f.f.ACTIVITY_SCORES_FILTER_CHIP});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){b(i,n,a,o,l,"next",e)}function l(e){b(i,n,a,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();return g?(0,m.jsx)("button",{type:"button",className:"cursor-pointer",onClick:j,children:(0,m.jsx)(u.G,{children:(0,i.t)([h,"activity_score"])})}):(0,m.jsx)(c.wn,{chip:(0,i.t)([h,"activity_score"]),title:(0,i.t)([h,"activity_score"]),selectedText:(0,p.$)(n)?v(n):void 0,isInitialOpen:t,onApply:function(e){(0,o.isFunction)(r)&&r(e)},shouldShowRemoveButton:!0,children:(0,m.jsx)(d.Y,{param:n})})}},50343:(e,t,r)=>{r.d(t,{c:()=>c,a:()=>u});var n=r(86013),a=r(96486),i=r(84012),o=r(85893),l="members_directory.header.search.filters",s=[{label:(0,n.t)("boolean_filter_options.yes"),value:"true"},{label:(0,n.t)("boolean_filter_options.no"),value:"false"}],c=function(e){var t=s.find((function(t){return t.value===e}));return t?t.label:""},u=function(e){var t=e.isInitialOpen,r=void 0!==t&&t,u=e.onApply,d=e.param;return(0,o.jsx)(i.wn,{chip:(0,n.t)([l,"avatar_set"]),title:(0,n.t)([l,"avatar_set"]),selectedText:d.value,renderSelectedText:function(e){var t=e.selectedText;return c(t)},isInitialOpen:r,onApply:function(e){(0,a.isFunction)(u)&&u(e)},shouldShowRemoveButton:!0,children:(0,o.jsx)(i.CI,{options:s,legend:(0,n.t)([l,"avatar_set_legend"]),param:d})})}},50882:(e,t,r)=>{r.d(t,{P:()=>u,c:()=>d});var n=r(86013),a=r(96486),i=r(84012),o=r(30132),l=r(85893),s="members_directory.header.search.filters",c=[{label:(0,n.t)([s,"days_ago.lt"]),value:"lt"},{label:(0,n.t)([s,"days_ago.eq"]),value:"eq"},{label:(0,n.t)([s,"days_ago.gt"]),value:"gt"}],u=(0,o.a)(c),d=function(e){var t=e.isInitialOpen,r=e.onApply,o=e.param;return(0,l.jsx)(i.wn,{chip:(0,n.t)([s,"joined_community_days_ago"]),title:(0,n.t)([s,"joined_community_days_ago"]),selectedText:o.value,isInitialOpen:t,renderSelectedText:function(){return u(o)},onApply:function(e){(0,a.isFunction)(r)&&r(e)},shouldShowRemoveButton:!0,children:(0,l.jsx)(i.Sj,{options:c,param:o})})}},68199:(e,t,r)=>{r.d(t,{$:()=>u,A:()=>d});var n=r(86013),a=r(96486),i=r(84012),o=r(30132),l=r(85893),s="members_directory.header.search.filters",c=[{label:(0,n.t)([s,"days_ago.lt"]),value:"lt"},{label:(0,n.t)([s,"days_ago.eq"]),value:"eq"},{label:(0,n.t)([s,"days_ago.gt"]),value:"gt"}],u=(0,o.a)(c),d=function(e){var t=e.isInitialOpen,r=e.onApply,o=e.param;return(0,l.jsx)(i.wn,{chip:(0,n.t)([s,"last_logged_in_days_ago"]),title:(0,n.t)([s,"last_logged_in_days_ago"]),selectedText:o.value,isInitialOpen:t,renderSelectedText:function(){return u(o)},onApply:function(e){(0,a.isFunction)(r)&&r(e)},shouldShowRemoveButton:!0,children:(0,l.jsx)(i.Sj,{options:c,param:o})})}},6630:(e,t,r)=>{r.d(t,{t:()=>s});var n=r(67294),a=r(97012),i=r(31889);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).valueKey,t=void 0===e?"slug":e,r=o((0,n.useState)([]),2),l=r[0],s=r[1],c=(0,a.wh)(),u=c.currentCommunityMember,d=c.isCommunityLoading,p=(0,a.e2)(),f=p.helpers.isDataLoading,m=p.records,b=(0,a.nT)().helpers,h=b.isDataLoading,v=(0,b.spaceVisibleOnSidebar)(),y=h()||f()||d;return(0,n.useEffect)((function(){y||s(m.filter((function(e){if((0,i.vb)(u))return!0;var t=!0,r=v.filter((function(t){return t.space_group_id===e.id}));return e.hide_non_member_spaces_from_sidebar&&(r=r.filter((function(e){return e.is_space_member})),t=v.length>0&&r.length>0),t})))}),[y,v,m,u]),y&&!l.length?[]:{visibleSpaceGroups:l.map((function(e){return{label:e.name,value:e[t]}})),isLoading:y}}},10943:(e,t,r)=>{r.d(t,{N:()=>i});var n=r(96486),a=r(54873);function i(e){if((0,a.$)(e)){var t=e.gte,r=e.lte;return!(!(0,n.isNil)(t)||!(0,n.isNil)(r))}var i=null===e||void 0===e?void 0:e.value;return!!(0,n.isNil)(i)||"number"!==typeof i&&(!!(0,n.isEmpty)(i)||void 0)}},14908:(e,t,r)=>{r.d(t,{OL:()=>a.O,YP:()=>b,f2:()=>_e});var n=r(59039),a=r(66752),i=r(19553),o=r(93745),l=r(85009),s=r(85563),c=r(88382),u=r(85792),d=r(88948),p=r(97012),f=r(31889),m=r(85893),b=function(e){var t,r=e.platformFilters,b=void 0===r?[]:r,h=e.defaultFilterNames,v=(0,o.k)(),y=v.filterParams,g=v.updateUrl,j=v.removeFilterFromUrl,x=(0,s.C)({platformFilters:b,component:i.L}),O=x.isLoadingProfileFields,_=x.customProfileFields,w=x.filteredDefaultFilters,P=(0,l.h)(w),S=(0,d.$)(P),C=(0,u.x)(S),N=function(e){var t=(0,p.wh)().currentCommunityMember;return(0,f.vb)(t)?e:e.filter((function(e){return"invitation_link_ids"!==e.name}))}((t=C,(0,p.wh)().currentCommunityMember?t:t.filter((function(e){return"tags"!==e.name})))),A=(0,c.c)({filters:N,canShowActivityScoreDisabled:!0});return O?null:(0,m.jsx)(a.O,{filterParams:y,onApply:g,onClearAll:j,children:(0,m.jsxs)(n.dM,{defaultFilterNames:h,platformFilters:A,profileFieldFilters:_,children:[(0,m.jsx)(n.dM.Panel,{children:(0,m.jsx)(n.kT,{})}),(0,m.jsx)(n.dM.ClearButton,{})]})})},h=r(47844),v=r(50343),y=r(86013),g=r(96486),j=r(84012),x=r(44907),O="members_directory.header.search.filters",_="members_directory.header.search.filters",w=r(67294),P=r(88767),S=r(29583),C=r(5295),N=r(16743),A=r(50768),k=r(46854),D=r(59729),E=r(8418),I=r(29152),T=r(93102),L=r(8315),M=r(55675),F=r(61926),R=function(e){var t=e.children;return(0,m.jsx)("div",{className:"px-4",children:(0,m.jsx)(N.Z.LabelXxs,{textTransform:"uppercase",color:"text-light",weight:"semibold",children:t})})};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q=function(e){var t=e.upcomingEvents,r=void 0===t?[]:t,n=e.pastEvents,a=void 0===n?[]:n,i=e.legend,o=e.searchProps,l=e.param,s=(0,D.j)().onApply,c=z((0,w.useState)(""),2),u=c[0],d=c[1],p=(0,k.r)(),f=function(e){return u?e.label.toLowerCase().includes(u.toLowerCase()):e},b=r.filter(f),h=a.filter(f),v=function(){return B(B({},l),{},{value:(0,L.S)(l)?l.value:void 0})},g=z((0,w.useState)(v().value),2),j=g[0],x=g[1];return(0,m.jsxs)("div",{className:"flex flex-col gap-y-3 py-4",children:[(0,m.jsx)("div",{className:"px-4",children:(0,m.jsx)(I.E1,{name:"events-search",value:u,onChange:function(e){return d(e.target.value)},searchProps:o})}),(0,m.jsx)(F.l,{defaultValues:v(),onSubmit:function(e,t){var r=t.reset;s(B(B({},e),{},{value:j})),r()},children:(0,m.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,m.jsx)(E.E,{}),(0,m.jsxs)(A.E,{value:j,onChange:x,name:"value",children:[(0,m.jsx)(A.E.Label,{className:"sr-only",children:i}),(0,m.jsxs)("div",{className:"flex max-h-[20rem] flex-col overflow-y-auto",children:[b.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(R,{children:(0,y.t)("upcoming_events")}),b.map((function(e){return(0,m.jsx)(T.pp,{option:e},e.value)}))]}),h.length>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"mb-2 mt-4",children:(0,m.jsx)(R,{children:(0,y.t)("past_events")})}),h.map((function(e){return(0,m.jsx)(T.pp,{option:e},e.value)}))]})]})]}),(0,m.jsx)("div",{className:"px-4",children:(0,m.jsx)(M.z,{variant:p,type:"submit",full:!0,children:(0,y.t)("filters.apply")})})]})})]})},H="members_directory.header.search.filters.events",K="members_directory.header.search.filters",$=[{label:(0,y.t)("boolean_filter_options.yes"),value:"true"},{label:(0,y.t)("boolean_filter_options.no"),value:"false"}],G=r(99394),Q="members_directory.header.search.filters",W=r(25992),J="members_directory.header.search.filters.invitation_link_ids",X=function(e){var t,r;return{richLabel:(0,m.jsx)(N.Z.LabelMd,{as:"div",weight:"medium",color:"text-selector-active",children:e.name}),label:"".concat(e.name),value:null!==(t=null===(r=e.id)||void 0===r?void 0:r.toString())&&void 0!==t?t:""}},Y=r(50882),ee=r(68199),te="members_directory.header.search.filters",re="members_directory.header.search.filters",ne=r(53828),ae=r(36762),ie="members_directory.header.search.filters.paywalls",oe="members_directory.header.search.filters",le=[{label:(0,y.t)("role_admin"),value:"Admin"},{label:(0,y.t)("moderator"),value:"Moderator"},{label:(0,y.t)("member"),value:"Member"}],se=r(40281),ce=r(6630);function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=r(38776),fe=r(2470),me="members_directory.header.search.filters.spaces",be="members_directory.header.search.filters",he=[{label:(0,y.t)("online"),value:"Online"},{label:(0,y.t)("offline"),value:"Offline"}],ve=r(94184),ye=r.n(ve),ge=r(34128),je=r(87232),xe=r(49326),Oe="members_directory.header.search.filters.tags",_e={AvatarSet:v.a,RoleFilter:function(e){var t=e.isInitialOpen,r=void 0!==t&&t,n=e.onApply,a=e.param;return(0,m.jsx)(j.wn,{chip:(0,y.t)([oe,"role"]),title:(0,y.t)([oe,"role"]),selectedText:a.value,isInitialOpen:r,onApply:function(e){(0,g.isFunction)(n)&&n(e)},shouldShowRemoveButton:!0,children:(0,m.jsx)(j.CI,{options:le,legend:(0,y.t)([oe,"role_legend"]),param:a})})},SpaceGroupsFilter:function(e){var t=e.localeNamespace,r=void 0===t?"members_directory.header.search.filters.space_groups":t,n=e.isInitialOpen,a=e.onApply,i=e.changeUrl,o=void 0===i||i,l=e.value,s=e.shouldShowRemoveButton,c=(0,se.k)(),u=c.filterParams,d=c.updateUrl,p=(0,ce.t)(),f=p.visibleSpaceGroups,b=p.isLoading;return(0,m.jsx)(j.wn,{chip:(0,y.t)([r,"title"]),title:(0,y.t)([r,"title"]),selectedText:l||u.space_groups,renderSelectedText:function(e){return(0,m.jsx)(j.L2,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({items:f},e))},isInitialOpen:n,onApply:function(e){o&&d("space_groups",e),(0,g.isFunction)(a)&&a(e)},shouldShowRemoveButton:s,children:b?(0,m.jsx)(C.a,{center:!0}):(0,m.jsx)(j.l6,{options:f,legend:(0,y.t)([r,"legend"]),name:"space-groups-filter",hasSearch:!0,searchProps:{placeholder:(0,y.t)([r,"search_placeholder"])},activeText:null!==l&&void 0!==l?l:u.space_groups})})},SpaceGroupsFilterV2:function(e){var t=e.localeNamespace,r=void 0===t?"members_directory.header.search.filters.space_groups":t,n=e.isInitialOpen,a=void 0!==n&&n,i=e.onApply,o=e.param,l=e.shouldShowRemoveButton,s=void 0!==l&&l,c=(0,ce.t)();(0,pe.Z)(!Array.isArray(c),"spaceGroupsList is not an array");var u=c.visibleSpaceGroups,d=c.isLoading;return(0,m.jsx)(j.wn,{chip:(0,y.t)([r,"singular_title"]),title:(0,y.t)([r,"title"]),selectedText:o.value,renderSelectedText:function(){return(0,m.jsx)(j.Al,{items:u,param:o})},isInitialOpen:a,onApply:function(e){(0,g.isFunction)(i)&&i(e)},shouldShowRemoveButton:s,children:d?(0,m.jsx)(C.a,{center:!0}):(0,m.jsx)(j.sX,{options:u,legend:(0,y.t)([r,"singular_legend"]),hasSearch:!0,searchProps:{placeholder:(0,y.t)([r,"search_placeholder"])},param:o})})},SpacesFilter:function(e){var t=e.isInitialOpen,r=void 0!==t&&t,n=e.onApply,a=e.param,i=(0,p.nT)().helpers,o=(0,fe.S)({spaces:i.spaceWithViewContentAccess()});return(0,m.jsx)(j.wn,{chip:(0,y.t)([me,"singular_title"]),title:(0,y.t)([me,"title"]),selectedText:a.value,renderSelectedText:function(){return(0,m.jsx)(j.Al,{items:o,param:a})},isInitialOpen:r,onApply:function(e){(0,g.isFunction)(n)&&n(e)},shouldShowRemoveButton:!0,children:i.isDataLoading()?(0,m.jsx)(C.a,{}):(0,m.jsx)(j.sX,{options:o,legend:(0,y.t)([me,"singular_legend"]),param:a,hasSearch:!0,searchProps:{placeholder:(0,y.t)([me,"search_placeholder"])}})})},StatusFilter:function(e){var t=e.isInitialOpen,r=void 0!==t&&t,n=e.onApply,a=e.param;return(0,m.jsx)(j.wn,{chip:(0,y.t)([be,"online_status"]),title:(0,y.t)([be,"online_status"]),selectedText:a.value,isInitialOpen:r,onApply:function(e){(0,g.isFunction)(n)&&n(e)},shouldShowRemoveButton:!0,children:(0,m.jsx)(j.CI,{param:a,options:he,legend:(0,y.t)([be,"status_legend"])})})},MemberTagsFilter:function(e){var t=e.isInitialOpen,r=void 0!==t&&t,n=e.onApply,a=e.param,i=(0,p.wh)().currentCommunityMember,o=(0,f.vb)(i),l=(0,P.useInfiniteQuery)(["member-tags"],(function(e){var t=e.pageParam,r=void 0===t?1:t;return(0,ge.UT)(xe.av.memberTags.index({params:{page:r}}))}),{getNextPageParam:function(e){return e.has_next_page?e.page+1:void 0}}),s=l.data,c=l.fetchNextPage,u=l.hasNextPage,d=l.isLoading;(0,w.useEffect)((function(){u&&c()}),[s]);var b=(0,w.useMemo)((function(){var e=(0,g.flatten)(null===s||void 0===s?void 0:s.pages.map((function(e){return e.records}))),t=function(e){return{label:e.name,richLabel:(0,m.jsxs)("span",{className:"flex gap-1.5",children:[e.custom_emoji_url?(0,m.jsx)("img",{loading:"lazy",className:ye()("block h-4","mt-[3px]"),src:e.custom_emoji_url,alt:e.name}):(0,m.jsx)("span",{children:e.emoji}),(0,m.jsx)("span",{children:e.name})]}),value:e.id.toString()}};return o?e.map(t):(0,je.U)({memberTags:e}).map(t)}),[s,o]);return(0,m.jsx)(j.wn,{chip:(0,y.t)([Oe,"singular_title"]),title:(0,y.t)([Oe,"title"]),selectedText:a.value,renderSelectedText:function(){return(0,m.jsx)(j.Al,{items:b,param:a})},onApply:function(e){(0,g.isFunction)(n)&&n(e)},isInitialOpen:r,shouldShowRemoveButton:!0,children:d?(0,m.jsx)(C.a,{}):(0,m.jsx)(m.Fragment,{children:b.length?(0,m.jsx)(j.sX,{options:b,legend:(0,y.t)([Oe,"singular_legend"]),param:a,hasSearch:!0,searchProps:{placeholder:(0,y.t)([Oe,"search_placeholder"])}}):(0,m.jsx)("div",{className:"flex h-28 items-center justify-center p-4",children:(0,m.jsx)(N.Z.LabelSm,{children:(0,y.t)([Oe,"no_tags"])})})})})},PaywallsFilter:function(e){var t=e.isInitialOpen,r=void 0!==t&&t,n=e.onApply,a=e.param,i=(0,ne.k)("paywalls",{type:[ae.Ex.space]}),o=i.paywalls,l=i.isPaywallsLoading;return(0,m.jsx)(j.wn,{chip:(0,y.t)([ie,"singular_title"]),title:(0,y.t)([ie,"title"]),selectedText:a.value,renderSelectedText:function(){return(0,m.jsx)(j.Al,{items:o,param:a})},isInitialOpen:r,onApply:function(e){(0,g.isFunction)(n)&&n(e)},shouldShowRemoveButton:!0,children:l?(0,m.jsx)(C.a,{}):(0,m.jsx)(j.sX,{options:o,legend:(0,y.t)([ie,"singular_legend"]),param:a,hasSearch:!0,searchProps:{placeholder:(0,y.t)([ie,"search_placeholder"])}})})},EventsFilter:function(e){var t,r=e.isInitialOpen,n=e.onApply,a=e.param,i=(0,P.useInfiniteQuery)(["events"],(function(e){var t=e.pageParam,r=void 0===t?1:t;return S.S.listEvents({params:{page:r}})}),{getNextPageParam:function(e){return e.has_next_page?e.page+1:void 0}}),o=i.data,l=i.fetchNextPage,s=i.hasNextPage,c=i.isLoading;(0,w.useEffect)((function(){s&&l()}),[o,s,l]);var u=function(e){return{richLabel:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(N.Z.LabelMd,{as:"div",weight:"medium",color:"text-selector-active",children:e.name}),(0,m.jsx)(N.Z.LabelSm,{color:"text-default",children:e.start_date})]}),label:"".concat(e.name," - ").concat(e.start_date),value:e.id.toString()}},d=(0,g.flatten)(null===o||void 0===o?void 0:o.pages.map((function(e){return e.records}))),p=d.filter((function(e){return!e.upcoming_event})).map((function(e){return u(e)})),f=d.filter((function(e){return e.upcoming_event})).map((function(e){return u(e)}));return d=d.map((function(e){return u(e)})),(0,m.jsx)(j.wn,{chip:(0,y.t)([H,"singular_title"]),title:(0,y.t)([H,"title"]),selectedText:a.value,renderSelectedText:function(){return(0,m.jsx)(j.Al,{items:d,param:a})},isInitialOpen:r,onApply:function(e){(0,g.isFunction)(n)&&n(e)},shouldShowRemoveButton:!0,children:c?(0,m.jsx)(C.a,{}):(0,m.jsxs)(m.Fragment,{children:[!(null!==(t=d)&&void 0!==t&&t.length)&&(0,m.jsx)("div",{className:"flex h-28 items-center justify-center p-4",children:(0,m.jsx)(N.Z.LabelSm,{children:(0,y.t)([H,"no_events"])})}),(!(null===f||void 0===f||!f.length)||!(null===p||void 0===p||!p.length))&&(0,m.jsx)(q,{upcomingEvents:f,pastEvents:p,legend:(0,y.t)([H,"singular_legend"]),param:a,searchProps:{placeholder:(0,y.t)([H,"search_placeholder"])}})]})})},HasPastDueSubscriptionFilter:function(e){var t=e.isInitialOpen,r=void 0!==t&&t,n=e.onApply,a=e.param;return(0,m.jsx)(j.wn,{chip:(0,y.t)([K,"has_past_due_subscription"]),title:(0,y.t)([K,"has_past_due_subscription"]),selectedText:a.value,isInitialOpen:r,onApply:function(e){(0,g.isFunction)(n)&&n(e)},shouldShowRemoveButton:!0,children:(0,m.jsx)(j.CI,{options:$,param:a,legend:(0,y.t)([K,"has_past_due_subscription_legend"])})})},JoinedCommunityDaysAgoFilter:Y.c,LastLoggedInDaysAgoFilter:ee.A,ActivityScoreFilter:h.c,NameFilter:function(e){var t=e.isInitialOpen,r=e.onApply,n=e.param;return(0,m.jsx)(j.wn,{chip:(0,y.t)([re,"name"]),title:(0,y.t)([re,"name_title"]),selectedText:n.value,isInitialOpen:t,renderSelectedText:function(){return(0,x.d1)(n)},onApply:function(e){(0,g.isFunction)(r)&&r(e)},shouldShowRemoveButton:!0,children:(0,m.jsx)(j.g$,{name:"name",param:n,placeholder:(0,y.t)([re,"name_placeholder"])})})},HeadlineFilter:function(e){var t=e.isInitialOpen,r=e.onApply,n=e.param;return(0,m.jsx)(j.wn,{chip:(0,y.t)([Q,"headline"]),title:(0,y.t)([Q,"headline_title"]),selectedText:n.value,isInitialOpen:t,onApply:function(e){(0,g.isFunction)(r)&&r(e)},shouldShowRemoveButton:!0,renderSelectedText:function(){return(0,G.d)(n)},children:(0,m.jsx)(j.g$,{name:"headline",param:n,placeholder:(0,y.t)([Q,"headline_placeholder"])})})},BioFilter:function(e){var t=e.isInitialOpen,r=e.onApply,n=e.param;return(0,m.jsx)(j.wn,{chip:(0,y.t)([O,"bio"]),title:(0,y.t)([O,"bio_title"]),selectedText:n.value,isInitialOpen:t,renderSelectedText:function(){return(0,x.d1)(n)},onApply:function(e){(0,g.isFunction)(r)&&r(e)},shouldShowRemoveButton:!0,children:(0,m.jsx)(j.g$,{name:"bio",param:n,placeholder:(0,y.t)([O,"bio_placeholder"])})})},LocationFilter:function(e){var t=e.isInitialOpen,r=e.onApply,n=e.param;return(0,m.jsx)(j.wn,{chip:(0,y.t)([te,"location"]),title:(0,y.t)([te,"location_title"]),selectedText:n.value,isInitialOpen:t,renderSelectedText:function(){return(0,x.d1)(n)},onApply:function(e){(0,g.isFunction)(r)&&r(e)},shouldShowRemoveButton:!0,children:(0,m.jsx)(j.g$,{name:"location",param:n,placeholder:(0,y.t)([te,"location_placeholder"])})})},EmailFilter:function(e){var t=e.isInitialOpen,r=e.onApply,n=e.param;return(0,m.jsx)(j.wn,{chip:(0,y.t)([_,"email"]),title:(0,y.t)([_,"email"]),selectedText:n.value,isInitialOpen:t,renderSelectedText:function(){return(0,x.d1)(n)},onApply:function(e){(0,g.isFunction)(r)&&r(e)},shouldShowRemoveButton:!0,children:(0,m.jsx)(j.g$,{name:"email",param:n,placeholder:(0,y.t)([_,"bio_placeholder"])})})},InvitationLinksFilter:function(e){var t=e.isInitialOpen,r=void 0!==t&&t,n=e.onApply,a=e.param,i=(0,W.F)(),o=i.data,l=i.isLoading,s=(0,w.useMemo)((function(){return(0,g.flatten)(null===o||void 0===o?void 0:o.pages.map((function(e){return e.records}))).map(X)}),[o]);return(0,m.jsx)(j.wn,{chip:(0,y.t)([J,"singular_title"]),title:(0,y.t)([J,"title"]),selectedText:a.value,renderSelectedText:function(){return(0,m.jsx)(j.Al,{items:s,param:a})},isInitialOpen:r,onApply:function(e){(0,g.isFunction)(n)&&n(e)},shouldShowRemoveButton:!0,children:l?(0,m.jsx)(C.a,{}):(0,m.jsx)(j.sX,{options:s,legend:(0,y.t)([J,"singular_legend"]),param:a,hasSearch:!0,searchProps:{placeholder:(0,y.t)([J,"search_placeholder"])}})})}}},40281:(e,t,r)=>{r.d(t,{k:()=>b});var n=r(67294),a=r(96486),i=r(80129),o=r(24185),l=r(87561),s=r(84012);function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=l.Ry().shape({page:l.Rx().integer().min(1).nullable(),filter:l.Ry().shape({profile_fields:l.IX().of(l.Ry().shape({id:l.Rx().integer().min(1).nullable(),value:l.nK()})).nullable().ensure()}),order:l.Ry(),sort:l.Z_().oneOf(["oldest","latest","alphabetical"]).nullable()}),b=function(){var e,t,r=(0,s.KC)(m),l=(0,o.k6)(),u=r.queryParams,d=(0,n.useCallback)((function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";l.push({search:(0,i.stringify)(p(p({},u),{},{page:1,filter:(e=u.filter,t=void 0===e?{}:e,(0,a.isNil)(n)||""===n?(0,a.omit)(t,[r]):p(p({},t),{},f({},r,n)))}))})}),[l,u]),b=(0,n.useCallback)((function(e,t){var r,n,o,s;l.push({search:(0,i.stringify)(p(p({},u),{},{page:1,filter:(s=u.filter,p(p({},void 0===s?{}:s),{},{profile_fields:(n=(null!==(r=u.filter)&&void 0!==r?r:{}).profile_fields,o=null!==n&&void 0!==n?n:[],(0,a.isNil)(t)||""===t?o.filter((function(t){return t.id!==e})):o.find((function(t){return t.id===e}))?o.map((function(r){return r.id===e?p(p({},r),{},{value:t}):r})):[].concat(c(o),[{id:e,value:t}]))}))}))})}),[l,u]);return p(p({},r),{},{updateUrl:d,filterParams:null!==(e=null===(t=r.queryParams)||void 0===t?void 0:t.filter)&&void 0!==e?e:{},updateUrlForProfileField:b})}},93745:(e,t,r)=>{r.d(t,{k:()=>h});var n=r(67294),a=r(96486),i=r(80129),o=r(24185),l=r(87561),s=r(84012),c=r(10943);function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=l.Ry().shape({page:l.Rx().integer().min(1).nullable(),filters:l.IX().of(l.Ry().shape({id:l.Z_().defined(),key:l.Z_().defined(),filter_type:l.Z_(),value:l.nK(),profile_field_id:l.Rx(),profile_field_type:l.Z_()})).nullable().ensure(),order:l.Ry(),sort:l.Z_().oneOf(["oldest","latest","alphabetical"]).nullable()}),h=function(){var e,t,r=(0,s.KC)(b),l=(0,o.k6)(),d=r.queryParams,p=(0,n.useCallback)((function(e,t){l.push({search:(0,i.stringify)(f(f({},d),{},{page:1,filters:function(){var r=d.filters;if((0,c.N)(t))return r.filter((function(t){return e!==t.id}));var n=r.some((function(t){return e===t.id})),i=(0,a.omit)(t,["isInitialOpen"]);return n?r.map((function(t){return t.id===e?f(f({},t),i):t})):[].concat(u(r),[i])}()}))})}),[l,d]);return f(f({},r),{},{updateUrl:p,filterParams:null!==(e=null===(t=r.queryParams)||void 0===t?void 0:t.filters)&&void 0!==e?e:[]})}},85009:(e,t,r)=>{r.d(t,{h:()=>a});var n=r(97012),a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=(0,n.wh)(),a=r.currentCommunity,i=r.currentCommunityMember,o=Boolean(null===i||void 0===i||null===(e=i.policies)||void 0===e?void 0:e.can_paywalls_index),l=Boolean(null===a||void 0===a?void 0:a.has_non_draft_paywalls);return o?l?t:t.filter((function(e){return"paywalls"!==e.name})):t.filter((function(e){var t=e.name;return!["paywalls","has_past_due_subscription"].includes(t)}))}},85563:(e,t,r)=>{r.d(t,{C:()=>c});var n=r(67294),a=r(15916),i=r(19553);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t=e.platformFilters,r=void 0===t?[]:t,o=e.component,s=(0,a.aL)(),c=Boolean(s),u=(0,i.N)().getOptions,d=u.data,p=u.isLoading,f=function(e){return c?e.filter((function(e){var t=e.name;return!["bio","location"].includes(t)})):e},m=f(r);return{filterProfileFields:f,filteredDefaultFilters:m,isLoadingProfileFields:p,customProfileFields:(0,n.useMemo)((function(){var e;return null!==(e=null===d||void 0===d?void 0:d.map((function(e){return l(l({},e),{},{component:o,name:"profile_field"})})))&&void 0!==e?e:[]}),[d,o]),hasProfileFieldsFilters:c}}},88382:(e,t,r)=>{r.d(t,{c:()=>a});var n=r(57956),a=function(e){var t=e.filters,r=e.canShowActivityScoreDisabled,a=void 0!==r&&r;return(0,n.rV)()&&a?t:t.filter((function(e){return"activity_score"!==e.name}))}},85792:(e,t,r)=>{r.d(t,{x:()=>i});var n=r(97012),a=r(31889),i=function(e){var t=(0,n.wh)().currentCommunityMember;return(0,a.vb)(t)?e:e.filter((function(e){return"is_avatar_set"!==e.name}))}},88948:(e,t,r)=>{r.d(t,{$:()=>o});var n=r(97012),a=r(31889),i=["joined_community_days_ago","last_logged_in_days_ago"],o=function(e){var t=(0,n.wh)().currentCommunityMember;return(0,a.vb)(t)?e:e.filter((function(e){return!i.includes(e.name)}))}},53699:(e,t,r)=>{r.d(t,{y:()=>u});var n=r(67294),a=r(67142),i=r(94184),o=r.n(i),l=r(85893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=function(e){var t=e.src,r=e.name,i=Boolean(t),c=s((0,n.useState)(!1),2),u=c[0],d=c[1],p=(0,n.useCallback)((function(){d(!0)}),[]),f=(0,n.useMemo)((function(){return(0,a.Qe)(r)}),[r]),m=(0,n.useMemo)((function(){return{backgroundColor:(0,a.DX)(r)}}),[r]),b=i&&!u;return(0,l.jsxs)("div",{className:"relative isolate block h-full w-full object-cover","data-testid":"user-profile",children:[b&&(0,l.jsx)("img",{loading:"lazy",className:"absolute left-0 top-0 z-10 h-full w-full rounded-t-md object-cover",src:t,onError:p,alt:r}),(0,l.jsx)("div",{className:o()("z-10 flex h-full w-full items-center justify-center rounded-t-md text-xl font-medium tracking-normal text-white",{invisible:b}),style:m,children:f})]})}},84536:(e,t,r)=>{r.d(t,{c:()=>n});r(28803),r(61345),r(83216),r(85893),r(86013),r(84834),r(30887),r(49326),r(67294),r(88767),r(34128),r(71032),r(21809);var n={MEMBER_DIRECTORY:"members.directory",MEMBER_SPACES:"members.space",MEMBER_SPACE_GROUPS:"members.space_group"}},4279:(e,t,r)=>{r.d(t,{w:()=>d});var n=r(86013),a=r(50500),i=r(63099),o=r(26953),l=r(16743),s=r(85893);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.text,r=c((0,i.k)(!1),2),u=r[0],d=r[1],p=(0,o.kK)();if(!t)return null;return p?null:(0,s.jsx)(l.Z.LabelSm,{children:(0,s.jsx)("div",{className:"w-full text-left",children:(0,s.jsx)(a.Z,{lines:!u&&2,ellipsis:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"... "}),(0,s.jsx)("button",{type:"submit",className:"font-medium",onClick:function(e){e.stopPropagation(),d()},children:(0,n.t)("see_more")})]}),children:(0,s.jsx)("div",{className:"[word-break:break-word]",children:t})})})})}},13811:(e,t,r)=>{r.d(t,{O:()=>N});var n=r(86013),a=r(26953),i=r(30887),o=r(87958),l=r(16743),s=r(64687),c=r.n(s),u=r(94184),d=r.n(u),p=r(20640),f=r.n(p),m=r(24185),b=r(83216),h=r(59393),v=r(97012),y=r(31889),g=r(49326),j=r(84495),x=r(48656),O=r(20633),_=r(1002),w=r(21809),P=r(85893);function S(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,a)}var C=function(e){var t=e.communityMember,r=(0,v.wh)().currentCommunityMember,i=(0,a.en)(),o=(0,x.H)(),l=o.showOwnProfileEdit,s=o.showMemberProfileEdit,u=(0,j.pB)().findOrCreateChatRoom,p=(0,m.k6)(),C=(0,w.p)().success,N=(0,y.vb)(r),A=(null===r||void 0===r?void 0:r.id)===t.id,k=(0,a.kK)(),D=(0,g.zd)({public_uid:r.public_uid}),E=!A&&t.messaging_enabled&&(null===r||void 0===r?void 0:r.messaging_enabled),I=function(){var e,r=(e=c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({kind:h.g8,community_member_ids:[t.id]});case 2:r=e.sent,p.push((0,g.co)({url:(0,g.so)({uuid:r})}));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){S(i,n,a,o,l,"next",e)}function l(e){S(i,n,a,o,l,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,P.jsxs)("div",{className:d()("text-default hover:text-default flex items-center gap-x-1",i&&"invisible group-hover:visible"),children:[E&&!k&&(0,P.jsx)(b.k,{showIcon:!0,communityMemberId:t.id}),N&&(0,P.jsxs)(_.Lt,{button:(0,P.jsx)(O.h,{name:"16-menu-dots-horizontal",iconClassName:"!text-dark",ariaLabel:(0,n.t)("community_member.actions")}),children:[k&&(0,P.jsx)(_.Lt.ItemWithLink,{onClick:function(){f()(window.location.origin+D),C((0,n.t)("post.share.link_copied"),{duration:"short",shouldUseProgress:!1})},children:(0,n.t)("post.share.copy_link_to_profile")}),k&&E&&(0,P.jsx)(_.Lt.ItemWithLink,{onClick:I,children:(0,n.t)("message")}),(0,P.jsx)(_.Lt.ItemWithLink,{onClick:function(e){if(e.preventDefault(),e.stopPropagation(),A)return l();s({memberPublicId:t.public_uid})},children:(0,n.t)("edit")})]})]})},N=function(e){var t=e.communityMember,r=e.shouldShowHiddenMemberTooltip,s=void 0!==r&&r&&!t.visible_in_member_directory,c=(0,a.kK)()?l.Z.LabelSm:l.Z.LabelLg;return(0,P.jsxs)("div",{className:"flex items-start justify-between",children:[(0,P.jsxs)("div",{className:"flex flex-col gap-y-0 md:gap-y-1",children:[(0,P.jsxs)("header",{className:"flex items-center gap-x-2","data-testid":"member-name",children:[(0,P.jsx)(c,{weight:"semibold",children:t.name}),s&&(0,P.jsx)("div",{"aria-label":(0,n.t)("members_directory.community_members.hidden_profile"),children:(0,P.jsx)(o.T,{placement:"right",content:(0,n.t)("members_directory.community_members.hidden_profile"),children:(0,P.jsx)(i.JO,{type:"eye-closed-solid",size:16})})})]}),(0,P.jsx)("div",{className:"text-default hidden text-left md:flex",children:(0,P.jsx)(l.Z.LabelXs,{children:t.headline})}),(0,P.jsx)("span",{className:"text-default flex md:hidden",children:(0,P.jsx)(l.Z.LabelXs,{children:t.email})})]}),(0,P.jsx)(C,{communityMember:t})]})}},95725:(e,t,r)=>{r.d(t,{K:()=>b,T:()=>h});var n=r(85564),a=r.n(n),i=r(88767),o=r(34128),l=r(49326),s=r(93745),c=r(16580),u=["filter","sort"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var b="community-members",h=function(e){var t,r,n,d,f,h=e.defaultSort,v=void 0===h?c.aP[0]:h,y=e.scopeResults,g=void 0===y?{}:y,j=e.per_page,x=void 0===j?30:j,O=(0,s.k)().queryParams,_=O.filter,w=O.sort,P=void 0===w?v:w,S=m(O,u),C=null!==(t=null===_||void 0===_?void 0:_.query)&&void 0!==t?t:"",N=Boolean(C.length||Object.keys(S).length),A=(0,i.useInfiniteQuery)([b,C,P,_,g],(function(e){var t=e.pageParam,r=void 0===t?{page:1,searchAfter:[]}:t;return(0,o.UT)(l.av.search.communityMembers.index({params:{page:r.page,search_after:r.searchAfter,query:C,sort:P,per_page:x,filters:p(p({},_),g)}}))}),{getNextPageParam:function(e){var t=e.has_next_page,r=e.page,n=e.next_search_after,a=t?r+1:void 0;return void 0===a?a:{page:a,searchAfter:n}}}),k=(null===(r=A.data)||void 0===r?void 0:r.pages)||[],D=(null===(n=k[0])||void 0===n?void 0:n.count)||0,E=(null===(d=k[0])||void 0===d||null===(f=d.meta)||void 0===f?void 0:f.total_count)||0,I=a()(k.map((function(e){return e.records})));return p(p({},A),{},{isActiveQuery:N,dataLength:D,totalMembers:E,members:I})}},16580:(e,t,r)=>{r.d(t,{aP:()=>n,nk:()=>a,vC:()=>i});var n=["alphabetical","oldest","latest"],a={LIST:"list",CARDS:"cards"},i={ALL:"all",ACTIVE:"active",INACTIVE:"inactive"}},3317:(e,t,r)=>{r.d(t,{S:()=>X,x:()=>Ue});var n=r(67294),a=r(86013),i=r.n(a),o=r(96486),l=r(25011),s=r(26953),c=r(5295),u=r(16580),d=r(94184),p=r.n(d),f=r(58533),m=r(32224),b=r(16743),h=r(53699),v=r(85893);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e){var t=e.member,r=(0,m.O)({public_uid:t.public_uid});return(0,v.jsx)("li",{className:"bg-primary border-primary hover:shadow-c-card rounded-lg border","data-testid":"community_member_grid",children:(0,v.jsxs)("a",g(g({},r),{},{className:"flex flex-col",title:t.name,children:[(0,v.jsx)("div",{style:{aspectRatio:"1 / 1"},children:(0,v.jsx)(h.y,{name:t.name,src:t.avatar_url})}),(0,v.jsxs)("div",{className:"flex flex-col px-4 pb-4 pt-3",children:[(0,v.jsx)(b.Z.BodySm,{truncate:!0,as:"h2",title:t.name,children:t.name}),(0,v.jsx)(b.Z.BodySm,{title:t.headline,truncate:!0,children:t.headline})]})]}))})},O=function(e){var t=e.memberDataParams,r=t.members,n=t.fetchNextPage,a=t.hasNextPage;return(0,v.jsx)(f.Z,{style:{overflow:"initial"},scrollThreshold:.8,next:n,hasMore:!!a,loader:(0,v.jsx)(c.a,{}),dataLength:r.length,scrollableTarget:"panel",children:(0,v.jsx)("ol",{className:p()("grid-cols-member-directory-grid-mobile md:grid-cols-member-directory-grid m-4 grid list-none auto-rows-fr justify-center gap-6 md:m-0 lg:m-auto","max-w-[-webkit-fill-available]"),"data-testid":"directory_members_grid",children:r.map((function(e){return(0,v.jsx)(x,{member:e},e.id)}))})})},_=r(86078),w=r(87232),P=r(38870),S=r(65289),C=r(4279),N=r(13811);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E=function(e){var t=e.communityMember,r=e.shouldShowHiddenMemberTooltip,n=void 0!==r&&r,a=(0,w.U)({memberTags:t.member_tags}),i=(0,m.O)({public_uid:t.public_uid}),o=a.filter((function(e){var t;return(null===e||void 0===e?void 0:e.is_public)&&(null===e||void 0===e||null===(t=e.display_locations)||void 0===t?void 0:t.member_directory)}));return(0,v.jsx)("li",{className:"border-primary bg-primary hover:shadow-c-card group rounded-lg border px-4 pb-5 pt-4 first:mt-4 first:md:mt-0","data-testid":"community_member",children:(0,v.jsxs)("a",k(k({className:"flex w-full gap-x-4"},i),{},{children:[(0,v.jsx)("div",{children:(0,v.jsx)(P.s,{name:t.name,src:t.avatar_url,size:"16"})}),(0,v.jsxs)("section",{className:"flex min-w-0 flex-1 flex-col gap-y-3",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,v.jsx)(N.O,{communityMember:t,shouldShowHiddenMemberTooltip:n}),(0,v.jsx)(C.w,{text:t.bio})]}),(0,v.jsx)(S.m,{memberTags:o,limit:5,shouldShowActivityScore:!0,memberId:t.id})]})]}))})},I=function(e){var t=e.memberDataParams,r=e.shouldShowHiddenMemberTooltip,n=e.viewType,a=e.spaceGroup,i=e.space,o=t.isActiveQuery,l=t.dataLength,s=t.fetchNextPage,c=t.hasNextPage,u=t.members,d=t.refetch;return(0,v.jsxs)("div",{className:"member-directory-members",children:[o&&(0,v.jsx)("div",{className:"member-directory-members__count",children:I18n.t("members_directory.header.search.members_found",{count:l})}),(0,v.jsx)(f.Z,{style:{overflow:"initial"},scrollThreshold:.5,next:s,hasMore:!!c,loader:(0,v.jsx)(_.m,{}),dataLength:u.length,scrollableTarget:"panel",children:(0,v.jsx)("ul",{className:"flex list-none flex-col gap-y-4","data-testid":"directory_members_list",children:u.map((function(e){return(0,v.jsx)(E,{communityMember:e,shouldShowHiddenMemberTooltip:r,viewType:n,spaceGroup:a,space:i,refetch:d},e.id)}))})})]})},T=r(84536),L=r(95725),M=r(85564),F=r.n(M),R=r(88767),Z=r(34128),B=r(49326),U=r(93745),z=["filters","sort"];function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var $=["setMemberCount","scopeResults","defaultSort","activeView","viewType"];function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var J=function(e){var t=e.defaultSort,r=e.scopeResults,n=e.viewType,a=(0,s.Be)(),i=function(e){var t,r,n,a,i=e.defaultSort,l=void 0===i?u.aP[0]:i,s=e.scopeResults,c=void 0===s?{}:s,d=e.per_page,p=void 0===d?30:d,f=(0,U.k)().queryParams,m=f.filters,b=f.sort,h=void 0===b?l:b,v=K(f,z),y=(0,R.useInfiniteQuery)(["community-members",h,m,v,c],(function(e){var t=e.pageParam,r=void 0===t?{page:1,searchAfter:[]}:t;return(0,Z.UT)(B.av.search.communityMembers.indexV2({params:q({page:r.page,search_after:r.searchAfter,sort:h,per_page:p,filters:m},c)}))}),{getNextPageParam:function(e){var t=e.has_next_page,r=e.page,n=e.next_search_after,a=t?r+1:void 0;return void 0===a?a:{page:a,searchAfter:n}}}),g=(null===(t=y.data)||void 0===t?void 0:t.pages)||[],j=(null===(r=g[0])||void 0===r?void 0:r.count)||0,x=(null===(n=g[0])||void 0===n||null===(a=n.meta)||void 0===a?void 0:a.total_count)||0,O=F()(g.map((function(e){return e.records})));return q(q({},y),{},{dataLength:j,totalMembers:x,members:O,isActiveQuery:!(0,o.isEmpty)(m)})}({defaultSort:t,scopeResults:r}),l=(0,L.T)({defaultSort:t,scopeResults:r});return n!==T.c.MEMBER_DIRECTORY?l:a?i:l},X=function(e){var t=e.setMemberCount,r=void 0===t?o.noop:t,i=e.scopeResults,s=void 0===i?{}:i,d=e.defaultSort,p=void 0===d?u.aP[0]:d,f=e.activeView,m=e.viewType,b=W(e,$),h=J({defaultSort:p,scopeResults:s,viewType:m}),y=h.isLoading,g=h.dataLength,j=h.totalMembers;if((0,n.useEffect)((function(){j&&r(j)}),[j]),y)return(0,v.jsx)(c.a,{});if(0===g)return(0,v.jsx)(l.j,{title:(0,a.t)("members_directory.no_members.title"),description:(0,a.t)("members_directory.no_members.description")});var x=f===u.nk.CARDS?O:I;return(0,v.jsx)(x,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({memberDataParams:h,viewType:m},b))},Y=r(97012),ee=r(86215),te=r(47031),re=r(13342),ne=r(42274),ae=r(30887),ie=r(40281),oe=r(55675);function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ce=function(e){var t=e.option,r=e.onChange,a=e.selected,i=void 0!==a&&a,l=t.label,s=t.richLabel,c=t.value,u=le((0,n.useState)(i),2),d=u[0],p=u[1],f=(0,o.uniqueId)();return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"flex h-5 items-center",children:(0,v.jsx)("input",{id:f,type:"checkbox",checked:d,onChange:function(){r(c,!d),p(!d)},className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),(0,v.jsx)("div",{className:"ml-3 text-sm",children:(0,v.jsx)("label",{htmlFor:f,className:"text-darkest font-medium",children:s||l})})]})};function ue(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(e,t){if(e){if("string"===typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var me=function(e){var t=e.options,r=void 0===t?[]:t,i=e.currentFilter,o=void 0===i?[]:i,l=e.onChange,s=e.closePopover,c=de((0,n.useState)(o),2),u=c[0],d=c[1],p=de((0,n.useState)(""),2),f=p[0],m=p[1],b=(0,n.useRef)(),h=r.filter((function(e){return f?e.label.toLowerCase().includes(f.toLowerCase()):e})),y=function(e,t){var r=t?[].concat(ue(u),[e]):u.filter((function(t){return t!==e}));d(r)},g=function(e){return o.includes(e)};return(0,n.useEffect)((function(){var e;null===(e=b.current)||void 0===e||e.focus()}),[b]),(0,v.jsxs)("div",{className:"react-multiselect-filter",children:[(0,v.jsx)("input",{type:"text",ref:b,className:"form-control form-control--sm placeholder:text-light placeholder:opacity-100",onChange:function(e){return m(e.target.value)},placeholder:(0,a.t)("members_directory.header.search.search")}),(0,v.jsx)("div",{className:"react-multiselect-filter__options",children:h.map((function(e,t){return(0,v.jsx)("div",{className:"react-multiselect-filter__item",children:(0,v.jsx)("div",{className:"react-multiselect-filter__item-inner",children:(0,v.jsx)(ce,{option:e,onChange:y,selected:g(e.value.toString())})})},t)}))}),(0,v.jsx)("div",{className:"mt-3",children:(0,v.jsx)(oe.z,{variant:"primary",type:"large",onClick:function(){var e=u.filter((function(e){return!!e})).join(",");l(e),s()},children:(0,a.t)("members_directory.header.search.apply_filter")})})]})},be=r(50768);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ye=function(e){var t=e.options,r=void 0===t?[]:t,a=e.onChange,i=he((0,n.useState)(r[0]),2),o=i[0],l=i[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(be.E,{value:o,onChange:l,children:r.map((function(e,t){return(0,v.jsx)(be.E.Option,{value:e.label,className:"relative mt-3 flex cursor-pointer focus:outline-none",children:function(t){var r=t.checked;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("span",{className:"mt-0.5 flex h-4 w-4 cursor-pointer items-center justify-center rounded-full border ".concat(r?"border-transparent bg-indigo-600":"border-gray-300 bg-white"),"aria-hidden":"true",children:(0,v.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-white"})}),(0,v.jsx)("div",{className:"ml-3 flex flex-col",children:(0,v.jsx)(be.E.Label,{as:"span",className:"text-dark block text-sm font-medium",children:e.label})})]})}},t)}))}),(0,v.jsx)("div",{className:"mt-3",children:(0,v.jsx)(oe.z,{variant:"primary",type:"large",onClick:function(){a(o)},children:I18n.t("members_directory.header.search.apply_filter")})})]})};function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xe=function(e){var t=e.onChange,r=ge((0,n.useState)(""),2),a=r[0],i=r[1],o=(0,n.useRef)(),l=function(){t(a)};return(0,n.useEffect)((function(){var e;null===(e=o.current)||void 0===e||e.focus()}),[o]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("input",{ref:o,type:"text",value:a,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),l())},className:"form-control form-control--sm placeholder:text-light placeholder:opacity-100"}),(0,v.jsx)("div",{className:"mt-3",children:(0,v.jsx)(oe.z,{variant:"primary",type:"large",onClick:l,children:I18n.t("members_directory.header.search.apply_filter")})})]})};function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pe="members_directory.header.search.filters",Se=function(e){var t=e.queryParam,r=e.type,a=e.options,l=(0,ie.k)(),s=l.filterParams,c=l.updateUrl,u=(0,o.get)(s,t,""),d=function(e){f(e)},f=function(e){c(t,e)},m="multiselect"===r;if(u&&!m)return(0,v.jsx)("div",{className:"react-dropdown-filter",children:(0,v.jsx)("div",{className:"react-dropdown-filter__wrapper react-dropdown-filter__wrapper--active",children:(0,v.jsxs)(oe.z,{variant:"secondary",onClick:function(){d("")},children:[(0,v.jsx)("span",{className:"truncate",children:u}),(0,v.jsx)(ae.JO,{size:20,className:"react-dropdown-filter__icon",type:"close"})]})})});var b=function(e){switch(r){case"text":return(0,v.jsx)(xe,{onChange:d});case"select":return(0,v.jsx)(ye,{onChange:d,options:a});case"multiselect":return(0,v.jsx)(me,{onChange:d,options:a,currentFilter:u.split(","),closePopover:e})}},h=m?i().t("".concat(Pe,".").concat(t,".title")):i().t("".concat(Pe,".").concat(t)),y=m?i().t("".concat(Pe,".").concat(t),{count:(u&&u.split(",")).length}):i().t("".concat(Pe,".").concat(t));return(0,v.jsx)(ee.J,{as:"div",className:"react-dropdown-filter",children:function(e){var t=e.open;return(0,v.jsxs)("div",{className:p()("react-dropdown-filter__wrapper",{"react-dropdown-filter__wrapper--active":!!u.length,"react-dropdown-filter__wrapper--open":t}),children:[(0,v.jsxs)(ee.J.Button,{as:oe.z,variant:"secondary",className:"flex items-center",children:[(0,v.jsx)("span",{children:y}),(0,v.jsx)(re.Z,{className:"react-dropdown-filter__icon","aria-hidden":"true"})]}),(0,v.jsx)(te.u,_e(_e({as:n.Fragment,show:t},ne.E6),{},{children:(0,v.jsx)(ee.J.Panel,{className:"react-dropdown-filter__panel",children:function(e){var t=e.close;return(0,v.jsxs)("div",{className:"react-dropdown-filter__panel-inner",children:[(0,v.jsx)("label",{htmlFor:"",className:"react-dropdown-filter__label",children:h}),b(t)]})}})}))]})}})},Ce=function(){var e=[{label:(0,a.t)("boolean_filter_options.yes")},{label:(0,a.t)("boolean_filter_options.no")}];return(0,v.jsx)(Se,{queryParam:"has_past_due_subscription",type:"select",options:e})},Ne=function(){var e=(0,R.useInfiniteQuery)("member-tags",(function(e){var t=e.pageParam,r=void 0===t?1:t;return(0,Z.UT)(B.av.memberTags.index({params:{page:r}}))}),{getNextPageParam:function(e){return e.has_next_page?e.page+1:void 0}}),t=e.data,r=e.fetchNextPage,a=e.hasNextPage,i=e.isLoading;(0,n.useEffect)((function(){a&&r()}),[t]);var l=(0,w.U)({memberTags:(0,o.flatten)(null===t||void 0===t?void 0:t.pages.map((function(e){return e.records})))}).map((function(e){return{label:"".concat(e.emoji," ").concat(e.name),value:e.id.toString()}}));return i||!l.length?null:(0,v.jsx)(Se,{queryParam:"tags",type:"multiselect",options:l})},Ae=function(e){var t=e.children,r=e.shouldRenderMobileFiltersTransition;return void 0===r?t:(0,v.jsx)(te.u,{show:r,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-out duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t})},ke=function(){var e=[{label:(0,a.t)("online")},{label:(0,a.t)("offline")}];return(0,v.jsx)(Se,{queryParam:"online_status",type:"select",options:e})},De=r(53828),Ee=r(36762),Ie=function(){var e=(0,De.k)("paywalls",{type:[Ee.Ex.space]}),t=e.paywalls;return e.isPaywallsLoading&&!t.length?null:(0,v.jsx)(Se,{queryParam:"paywalls",type:"multiselect",options:t})},Te=function(){var e=[{label:(0,a.t)("role_admin")},{label:(0,a.t)("member")},{label:(0,a.t)("moderator")}];return(0,v.jsx)(Se,{queryParam:"role",type:"select",options:e})},Le=r(31889);function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Re=function(){var e=Me((0,n.useState)([]),2),t=e[0],r=e[1],a=(0,Y.wh)(),i=a.currentCommunityMember,o=a.isCommunityLoading,l=(0,Y.e2)(),s=l.helpers.isDataLoading,c=l.records,u=(0,Y.nT)().helpers,d=u.isDataLoading,p=(0,u.spaceVisibleOnSidebar)(),f=d()||s()||o;if((0,n.useEffect)((function(){f||r(c.filter((function(e){if((0,Le.vb)(i))return!0;var t=!0,r=p.filter((function(t){return t.space_group_id===e.id}));return e.hide_non_member_spaces_from_sidebar&&(r=r.filter((function(e){return e.is_space_member})),t=p.length>0&&r.length>0),t})))}),[f,p,c]),f&&!t.length)return null;var m=t.map((function(e){return{label:e.name,value:e.slug}}));return(0,v.jsx)(Se,{queryParam:"space_groups",type:"multiselect",options:m})},Ze=r(2470),Be=function(){var e=(0,Y.nT)().helpers,t=(0,Ze.S)({spaces:e.spaceWithViewContentAccess()});return e.isDataLoading()&&!t.length?null:(0,v.jsx)(Se,{queryParam:"spaces",type:"multiselect",options:t})},Ue=function(e){var t=e.shouldShowSpacesFilter,r=void 0===t||t,n=e.shouldShowAdminFilters,a=void 0!==n&&n,i=e.shouldBeHiddenOnMd,o=void 0===i||i,l=e.shouldRenderMobileFiltersTransition,c=e.className,u=(0,s.Be)(),d=!!(0,Y.wh)().currentCommunityMember;return(0,v.jsx)(Ae,{shouldRenderMobileFiltersTransition:l,children:(0,v.jsxs)("div",{className:p()("member-directory-filters !flex flex-wrap gap-2",{"!hidden":u&&o},c),children:[(0,v.jsx)(Se,{queryParam:"bio",type:"text"}),(0,v.jsx)(Se,{queryParam:"headline",type:"text"}),(0,v.jsx)(Se,{queryParam:"location",type:"text"}),(0,v.jsx)(Te,{}),r&&(0,v.jsx)(Be,{}),r&&(0,v.jsx)(Re,{}),d&&(0,v.jsx)(Ne,{}),(0,v.jsx)(ke,{}),a&&(0,v.jsx)(Ie,{}),a&&(0,v.jsx)(Ce,{})]})})}},50119:(e,t,r)=>{r.d(t,{p:()=>u});var n=r(64687),a=r.n(n),i=r(49326),o=r(74442),l=r(94899),s=r(85893);function c(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,a)}var u=function(e){var t,r=e.localizedData,n=e.metaTagDetails,u=e.onCommunitySettingChange,d=r.meta_tag,p=function(e){u("meta_tags",e.target.name,e.target.value)},f=function(e){u("meta_tags",e.target.name,{file:e.target.files[0]})},m=function(){u("meta_tags","opengraph_image",{type:"image",url:null})},b=function(){var e,t=(e=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=7;break}return e.next=3,fetch((0,i.HH)(n.id),{method:"DELETE",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:e.sent.ok&&m(),e.next=8;break;case 7:m();case 8:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){c(i,n,a,o,l,"next",e)}function l(e){c(i,n,a,o,l,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),h=["meta_title","meta_description","opengraph_title","opengraph_description"].map((function(e){return(0,s.jsxs)("div",{className:"form-group",id:"field-".concat(e),children:[(0,s.jsx)(o.Q,{field:e,label:d[e],description:d["".concat(e,"_description")]}),(0,s.jsx)("div",{className:"form-input",children:(0,s.jsx)("input",{type:"text",className:"form-control placeholder:text-light placeholder:opacity-100",name:e,value:n[e]||"",onChange:p})})]},"field-".concat(e))}));return(0,s.jsxs)("div",{className:"form-section__content",children:[h,(t="opengraph_image",(0,s.jsxs)("div",{className:"form-group",id:"field-".concat(t),children:[(0,s.jsx)(o.Q,{field:t,label:d[t],description:d["".concat(t,"_description")]}),(0,s.jsx)(l.Q,{id:t,name:t,media:n[t]||{},onMediaUpload:f,onRemoveMedia:b})]},"field-".concat(t)))]})}},15591:(e,t,r)=>{r.d(t,{V:()=>b});var n=r(67294),a=r(86013),i=r(23560),o=r.n(i),l=r(93826),s=r(55675),c=r(49729),u=r(53448),d=r(85893);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m="modals.secure_confirmation",b=function(e){var t=e.title,r=e.cancelText,i=void 0===r?(0,a.t)([m,"cancel"]):r,f=e.confirmText,b=void 0===f?(0,a.t)([m,"confirm"]):f,h=e.confirmUserPrompt,v=void 0===h?(0,a.t)([m,"confirm_prompt"]):h,y=e.confirmVariant,g=void 0===y?"primary":y,j=e.isDisabled,x=e.isOpen,O=e.onClose,_=e.onConfirm,w=e.onCancel,P=e.children,S=p((0,n.useState)(!1),2),C=S[0],N=S[1],A=p((0,n.useState)(""),2),k=A[0],D=A[1];return(0,n.useEffect)((function(){N(k!==v||Boolean(j))}),[k,v,j]),(0,d.jsxs)(u.u_,{isOpen:x,onClose:function(){D(""),o()(O)&&O()},children:[(0,d.jsx)(u.u_.Overlay,{}),(0,d.jsxs)(u.u_.Content,{size:"md",wrapperClassName:"!h-full",children:[(0,d.jsxs)(u.u_.Header,{children:[(0,d.jsx)(u.u_.Title,{size:"md",children:t}),(0,d.jsx)(u.u_.HeaderActions,{children:(0,d.jsx)(u.u_.CloseButton,{onClick:function(){o()(O)&&O(),D("")}})})]}),(0,d.jsxs)(u.u_.Body,{children:[P,(0,d.jsxs)("div",{className:"mt-6",children:[(0,d.jsx)(l.w,{content:(0,a.t)([m,"prompt_description"],{prompt:v})}),(0,d.jsx)(c.I,{wrapperClassName:"mt-4",type:"text",value:k,onChange:function(e){return D(e.target.value)},"data-testid":"secure-confirmation-input"})]})]}),(0,d.jsx)(u.u_.Footer,{children:(0,d.jsxs)("div",{className:"flex items-stretch justify-end space-x-4",children:[(0,d.jsx)(s.z,{type:"button",variant:"secondary",onClick:function(){D(""),o()(w)&&w()},children:i}),(0,d.jsx)(s.z,{type:"button",variant:g,disabled:C,onClick:function(){D(""),o()(_)&&_()},children:b})]})})]})]})}},75263:(e,t,r)=>{r.d(t,{X:()=>o});var n=r(86013),a=r(16743),i=r(85893),o=function(){return(0,i.jsxs)("div",{className:"m-0 flex w-full items-center justify-center pb-2 pt-6 text-center text-sm",children:[(0,i.jsx)("div",{className:"mr-5 flex-1 border-t-[1px] border-solid border-gray-300"}),(0,i.jsx)(a.Z.LabelSm,{weight:"semibold",children:(0,n.t)("or")}),(0,i.jsx)("div",{className:"ml-5 flex-1 border-t-[1px] border-solid border-gray-300"})]})}},22554:(e,t,r)=>{r.d(t,{t:()=>b});var n=r(64687),a=r.n(n),i=r(67294),o=r(91296),l=r.n(o),s=r(30887),c=r(85893);function u(e,t,r,n,a,i,o){try{var l=e[i](o),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){u(i,n,a,o,l,"next",e)}function l(e){u(i,n,a,o,l,"throw",e)}o(void 0)}))}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m={paginationContainer:{display:"flex",justifyContent:"center",paddingTop:15}},b=function(e){var t=e.initialPage,r=void 0===t?2:t,n=e.fetchNewPage,o=e.debounceInterval,u=void 0===o?50:o,f=e.footerDistanceFromBottom,b=void 0===f?-1e3:f,h=e.componentId,v=e.onEvent,y=void 0===v?"scrollDown":v,g=(0,i.useRef)(null),j=p((0,i.useState)(r),2),x=j[0],O=j[1],_=p((0,i.useState)(!1),2),w=_[0],P=_[1],S=document.getElementById(h)||window;return(0,i.useEffect)((function(){var e=l()(d(a().mark((function e(){var t,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:if(t=!1,"scrollUp"===y?t=S.scrollTop<20:(r=g.current.getBoundingClientRect(),i=S.innerHeight||S.clientHeight,o=i-r.top,t=o>b),!t){e.next=11;break}return e.next=7,P(!0);case 7:return e.next=9,n(x);case 9:O(x+1),P(!1);case 11:case"end":return e.stop()}}),e)}))),u);return S.addEventListener("scroll",e,{passive:!0}),function(){S.removeEventListener("scroll",e)}}),[x,w]),(0,c.jsx)("div",{ref:g,className:"pagination-container",style:m.paginationContainer,children:w&&(0,c.jsx)(s.JO,{type:"loader"})})}},59941:(e,t,r)=>{r.d(t,{D:()=>f});var n=r(94184),a=r.n(n),i=r(86013),o=r(49313),l=r(97957),s=r(55675),c=r(16743),u=r(67142),d=r(85893),p=function(e){var t=e.avatar_url,r=e.name;return(0,d.jsxs)("div",{className:"grid",children:[t&&(0,d.jsx)("img",{loading:"lazy",alt:"",className:"z-0 col-start-1 row-start-1 h-10 w-10 rounded-lg object-cover",src:t}),(0,d.jsx)("div",{className:"col-start-1 row-start-1 flex h-10 w-10 items-center justify-center rounded-lg",style:{backgroundColor:(0,u.DX)(r)},children:(0,d.jsx)(c.Z.LabelLg,{children:(0,d.jsx)("div",{className:"text-c-sidebar-badge-text",children:(0,u.Qe)(r)})})})]})},f=function(e){var t=e.customer,r=e.onRemove,n=e.setSearchQuery,u=e.shouldOpenAdminMemberEdit,f=e.infoClassName,m=(0,o.a)(),b=(0,i.t)("settings.paywalls_admin_dashboard.shared.deactivated_member"),h=t.name?t.name:b,v=t.deleted_at?b:"",y=!!t.public_uid&&u,g=function(){y&&m(t.public_uid)};return(0,d.jsxs)("div",{className:a()("group inline-flex items-center gap-4","focus-visible:ring-secondary focus-visible:rounded-md focus-visible:ring-2 focus-visible:ring-offset-2",{"cursor-pointer":!!y}),onClick:g,onKeyPress:g,tabIndex:0,role:"button",children:[(0,d.jsx)(p,{avatar_url:t.avatar_url,name:h}),(0,d.jsxs)("div",{className:a()("grid pr-4",f),children:[(0,d.jsx)(l.Y,{children:(0,d.jsx)(c.Z.LabelSm,{weight:"semibold",children:"".concat(h).concat(v)})}),(0,d.jsx)(l.Y,{children:(0,d.jsx)(c.Z.LabelSm,{color:"text-default",children:t.email})})]}),r&&(0,d.jsx)(c.Z.LabelSm,{weight:"medium",children:(0,d.jsx)("div",{className:"invisible group-hover:visible",children:(0,d.jsx)(s.z,{type:"button",variant:"plain",className:"text-v2-danger",onClick:function(){n&&n(""),r()},children:(0,i.t)("remove")})})})]})}},73203:(e,t,r)=>{r.d(t,{R:()=>P});var n=r(67294),a=r(94184),i=r.n(a),o=r(96486),l=r(88767),s=r(59393),c=r(18009),u=r(82258),d=r(59941),p=r(49729),f=r(64729),m=r(58533),b=r(86078),h=r(85893),v=function(e){var t=e.records,r=e.fetchNextPage,a=e.hasNextPage,o=e.activeOptionIndex,l=e.onMouseOver,s=e.setRecord,c=e.communityMemberRecord,u=e.className,p=void 0===u?"":u,v=(0,n.useRef)(null);return(0,h.jsx)("div",{ref:v,className:i()("bg-primary absolute mt-1 max-h-60 w-96 max-w-sm overflow-auto rounded-lg border",p,{hidden:0===t.length}),children:(0,h.jsx)(f.R,{onChange:function(e){s(e.id)},value:"",children:v.current&&(0,h.jsx)(m.Z,{scrollThreshold:.5,next:r,hasMore:!!a,loader:(0,h.jsx)(b.m,{}),dataLength:t.length,scrollableTarget:v.current,children:(0,h.jsx)(f.R.Options,{static:!0,className:"list-none",children:t.map((function(e,t){return(0,h.jsx)(f.R.Option,{value:e,className:i()("cursor-pointer p-4",{"bg-secondary":t===o}),onMouseOver:function(){return l(t)},children:(0,h.jsx)(d.D,{customer:c(e)})},e.id)}))})})})})},y=r(34128),g=r(49326);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=function(e){var t=e.record,r=void 0===t?null:t,a=e.recordId,f=void 0===a?null:a,m=e.recordType,b=e.searchInputPlaceholder,j=e.otherSearchParams,O=void 0===j?{}:j,w=e.onApply,P=e.onRemove,S=e.className,C=void 0===S?"":S,N=e.optionsClassName,A=void 0===N?"":N,k=e.customerInfoClassName,D=void 0===k?"":k,E=_((0,n.useState)(""),2),I=E[0],T=E[1],L=(0,u.c)(I,500),M=_((0,n.useState)(0),2),F=M[0],R=M[1],Z=(0,c.k)();(0,n.useEffect)((function(){L.length&&R(0)}),[L]);var B=function(e){var t=e.recordType,r=e.searchQueryDebounced,n=e.otherSearchParams,a=function(e){return g.av.search.communityMembers.index({params:x(x({page:e,per_page:10},n),{},{query:r,query_type:"name_and_email"})})},i=function(e){return g.av.search.paywallsAffiliates.index({params:{page:e,per_page:10,filters:x(x({},n),{},{name_or_email:r})}})};return{fetchPage:function(e){var r=e.pageParam,n=void 0===r?1:r;return(0,y.UT)("CommunityMember"===t?a(n):i(n))},communityMemberRecord:function(e){return"CommunityMember"===t?e:e.community_member}}}({recordType:m,searchQueryDebounced:L,otherSearchParams:O}),U=B.fetchPage,z=B.communityMemberRecord,V=(0,l.useInfiniteQuery)(["".concat(m,"-infinite-search"),L],U,{enabled:L.length>=2,getNextPageParam:function(e){return e.has_next_page?Number(e.page)+1:void 0}}),q=V.data,H=V.fetchNextPage,K=V.hasNextPage,$=(null===q||void 0===q?void 0:q.pages[0].count)||0?(0,o.flatten)(null===q||void 0===q?void 0:q.pages.map((function(e){return e.records}))):[];f&&(r=$.find((function(e){return e.id===f})));var G=function(e){return 240*Math.floor(e/3)};return(0,h.jsxs)("div",{className:i()("p-4",C),children:[r&&(0,h.jsx)(d.D,{customer:z(r),onRemove:P,infoClassName:D,setSearchQuery:T}),!r&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(p.I,{id:"user-text-box",placeholder:b,onChange:function(e){var t=e.target.value;t.length>=2?T(t):T("")},onKeyDown:function(e){return function(e){var t=document.getElementById("scrollableDiv");if(e.keyCode!==s.Rv){if(e.keyCode===s.zy)return w($[F].id),void e.preventDefault();if(e.keyCode!==s.Lf){if(e.keyCode===s.zj){if(t&&(t.scrollTop=G(Math.min(F+1,$.length))),F+1===$.length)return;R(F+1)}}else{if(t&&(t.scrollTop=G(Math.max(F-1,0))),0===F)return;R(F-1)}}else T("")}(e)},ref:Z,autoFocus:!0,autoComplete:"off"}),(0,h.jsx)(v,{records:$,fetchNextPage:H,hasNextPage:K,activeOptionIndex:F,onMouseOver:R,setRecord:w,communityMemberRecord:z,className:A})]})]})}},86521:(e,t,r)=>{r.d(t,{a:()=>F});var n=r(25362),a=r(72675),i=r(86013),o=r(78573),l=r(16743),s=r(85893),c=function(e){var t=e.children,r=e.title;return(0,s.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,s.jsx)(l.Z.LabelSm,{weight:"semibold",children:r}),t]})},u=function(e){var t=e.charge;return(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.amount_paid")),children:(0,s.jsx)(l.Z.LabelSm,{children:t.display_amount_with_currency})})},d=r(56874),p=function(e){var t=e.charge;return(0,d.ac)(t)&&(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.amount_refunded")),children:(0,s.jsx)(l.Z.LabelSm,{children:t.display_refunded_amount_with_currency})})},f=function(e){var t=e.charge;return t.invoice_processor_id&&(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.invoice_processor_id")),children:(0,s.jsx)(l.Z.LabelSm,{children:t.invoice_processor_id})})},m=function(e){var t=e.charge;return t.processor_id&&(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.charge_processor_id")),children:(0,s.jsx)(l.Z.LabelSm,{children:t.processor_id})})},b=r(96893),h=function(e){var t=e.charge;return(0,d.ac)(t)&&(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.status")),children:(0,s.jsx)(b.j,{status:null===t||void 0===t?void 0:t.display_status})})},v="settings.paywalls_admin_dashboard.charges.charge_details_modal",y=function(e){var t=e.charge,r=t.paywall_coupon_redemption?"".concat(t.paywall_coupon_redemption.paywall_coupon.name," / ").concat(t.paywall_coupon_redemption.paywall_coupon.terms):(0,i.t)("".concat(v,".no_coupon_applied"));return(0,s.jsx)(c,{title:(0,i.t)("".concat(v,".details_labels.coupon_applied")),children:(0,s.jsx)(l.Z.LabelSm,{children:r})})},g=r(48895),j=function(e){var t=e.charge,r=new Date(t.created_at),n=(0,g.w)({dateTime:r,format:"long_date_short_time"});return(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.transaction_date")),children:(0,s.jsx)(l.Z.LabelSm,{children:n})})},x=r(59941),O=function(e){var t=e.communityMember,r=e.shouldOpenAdminMemberEdit;return(0,s.jsx)("div",{className:"border-b-2 py-4",children:(0,s.jsx)(x.D,{customer:t,shouldOpenAdminMemberEdit:r})})},_=r(95658),w=function(e){var t=e.charge;return t.payment_method_type&&(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.payment_method.title")),children:(0,s.jsx)(_.v,{charge:t})})},P=function(e){var t=e.charge;return(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.paywall_name")),children:(0,s.jsx)(l.Z.LabelSm,{children:t.paywall.name||t.paywall.display_name})})},S=r(40160),C=r(49326),N=function(e){var t=e.charge;return t.subscription_processor_id&&(0,s.jsx)(c,{title:(0,i.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.subscription_processor_id")),children:(0,s.jsx)(S.rU,{className:"text-dark hover:text-dark visited:text-dark underline",to:"".concat(C.qk.paywallsAdminDashboard.subscriptions(),"?subscription_processor_id=").concat(t.subscription_processor_id),target:"_blank",children:(0,s.jsx)(l.Z.LabelSm,{children:t.subscription_processor_id})})})},A=function(e){var t=e.charge,r=e.shouldOpenAdminMemberEdit;return(0,s.jsxs)("div",{children:[(0,s.jsx)(O,{communityMember:t.community_member,shouldOpenAdminMemberEdit:r}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-y-3 pb-6 pt-4",children:[(0,s.jsx)(j,{charge:t}),(0,s.jsx)(u,{charge:t}),(0,s.jsx)(p,{charge:t}),(0,s.jsx)(h,{charge:t}),(0,s.jsx)(m,{charge:t}),(0,s.jsx)(f,{charge:t}),(0,s.jsx)(N,{charge:t}),(0,s.jsx)(P,{charge:t}),(0,s.jsx)(y,{charge:t}),(0,s.jsx)(w,{charge:t})]})]})};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I=function(e){var t=(0,a.dd)();return(0,s.jsx)(o.W,{title:(0,i.t)("settings.paywalls_admin_dashboard.charges.charge_details_modal.title"),isOpen:t.visible,onClose:t.hide,actionVariant:"danger",children:(0,s.jsx)(A,D({},e))})};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=a.gk.create((function(e){return(0,s.jsx)(I,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))})),F=function(e){return e&&n.ZP.register(e,M),(0,a.dd)(null!==e&&void 0!==e?e:M)}},64830:(e,t,r)=>{r.d(t,{X:()=>c,U:()=>u});var n=r(67294),a=r(97012),i=r(85893);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,n.createContext)({});s.displayName="CreatePaywallSubscriptionFormContext";var c=function(e){var t=e.communityMemberId,r=e.children,l=o((0,n.useState)({}),2),c=l[0],u=l[1],d=o((0,n.useState)({}),2),p=d[0],f=d[1],m=o((0,n.useState)({}),2),b=m[0],h=m[1],v=o((0,n.useState)(null),2),y=v[0],g=v[1],j=(0,a.wh)().currentCommunity,x=void 0===j?{}:j,O={communityId:null===x||void 0===x?void 0:x.id,communityMemberId:t,paywallsIndex:c,setPaywallsIndex:u,paywallPricesIndex:p,setPaywallPricesIndex:f,couponsIndex:b,setCouponsIndex:h,currentPaymentMethod:y,setCurrentPaymentMethod:g};return(0,i.jsx)(s.Provider,{value:O,children:r})},u=function(){return(0,n.useContext)(s)}},66019:(e,t,r)=>{r.d(t,{m:()=>d,n:()=>p});var n=r(67294),a=r(86013),i=r(61149),o=r(68930),l=r(64830);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,a.t)("add_paywall_coupon_modal.select_coupon"),d=i.vi,p=function(e){var t=e.paywallId,r=e.selectCouponString,a=void 0===r?u:r,i=e.couponStatuses,c=void 0===i?d:i,p=e.skipDateValidations,f=void 0===p||p,m=(0,o.pI)({paywallId:t,couponStatuses:c,skipDateValidations:f}).paywallCouponsListQuery,b=(0,n.useMemo)((function(){var e=(null===m||void 0===m?void 0:m.data)||[],t=[{label:a,value:""}],r=[];return e.forEach((function(e){t.push({label:e.code,value:e.code}),r[e.code]=e})),[t,r]}),[a,m.data]),h=s(b,2),v=h[0],y=h[1],g=(0,l.U)().setCouponsIndex;return(0,n.useEffect)((function(){g(null!==y&&void 0!==y?y:{})}),[y,g]),{paywallCouponsListQuery:m,couponCodeOptions:v}}},74882:(e,t,r)=>{r.d(t,{n:()=>p,h:()=>f});var n=r(67294),a=r(96486),i=r(4796),o=r(86646),l=r(64830);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p=[i.Tl.ACTIVE,i.Tl.INACTIVE],f=function(e){var t=e.communityMemberId,r=e.paywallStatuses,d=void 0===r?p:r,f=(0,o.O)({communityMemberId:t,status:d}).paywallsListQuery,m=(0,n.useMemo)((function(){var e=[],t={},r=f.isLoading?[]:f.data,n=null;return(0,i.Jy)(r).forEach((function(r){n||(n=null===r||void 0===r?void 0:r.id),e.push({label:(null===r||void 0===r?void 0:r.name)||(null===r||void 0===r?void 0:r.display_name),value:null===r||void 0===r?void 0:r.id}),t[r.id]=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r)})),[e,t,n]}),[f.isLoading,f.data]),b=u(m,3),h=b[0],v=b[1],y=b[2],g=(0,l.U)();return(0,n.useEffect)((function(){g&&"setPaywallsIndex"in g&&(0,a.isFunction)(g.setPaywallsIndex)&&(0,g.setPaywallsIndex)(null!==v&&void 0!==v?v:{})}),[v,g]),{paywallsListQuery:f,paywallOptions:h,firstValidPaywallId:y}}},58447:(e,t,r)=>{r.d(t,{n:()=>s});var n=r(67294),a=r(9242),i=r(64830);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){var t=e.paywall,r=(0,n.useMemo)((function(){var e=null===t||void 0===t?void 0:t.prices,r=[],n={};return e?((0,a.PI)(e).forEach((function(e){n[e.id]=e,r.push({label:e.short_description,value:e.id})})),[r,n]):[]}),[t]),l=o(r,2),s=l[0],c=l[1],u=(0,i.U)().setPaywallPricesIndex;return(0,n.useEffect)((function(){u(null!==c&&void 0!==c?c:{})}),[c,u]),{paywallPriceOptions:null!==s&&void 0!==s?s:[]}}},10159:(e,t,r)=>{r.d(t,{Q:()=>$});var n=r(86013),a=r(87561),i=r(72675),o=r(71032),l=r(61926),s=r(67294),c=(0,s.createContext)(null);c.displayName="ExportCsvModalContext";var u=function(){var e=(0,s.useContext)(c);if(!e)throw new Error("useExportCsvModalContext must be used within a ExportCsvModalContext");return e},d=r(1002),p=r(16743),f=r(94184),m=r.n(f),b=r(87536),h="default_fields",v="all_fields",y="custom_fields",g=r(85893);function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=function(e){return"charges"===e?"community_member_charge":"community_member_subscription"},O=function(e){var t,r=e.fieldOptionsType,a=e.defaultFields,i=e.allFields,o=u().relation,c=(0,b.Gc)(),d=c.setValue,f=c.formState.errors,O=(j(t={},v,{keys:i,labels:i.map((function(e){return(0,n.t)(["export_paywall_csv",x(o),"fields",e])})).join(", ")}),j(t,h,{keys:a,labels:a.map((function(e){return(0,n.t)(["export_paywall_csv",x(o),"fields",e])})).join(", ")}),t);(0,s.useEffect)((function(){r!==y&&d("fields",O[r].keys)}),[r,d]);var _=i.map((function(e){return{label:(0,n.t)(["export_paywall_csv",x(o),"fields",e]),value:e}})),w=!!f.fields;return O[r]?(0,g.jsx)(p.Z.BodyMd,{color:"text-default",children:O[r].labels}):(0,g.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,g.jsx)("div",{className:m()("grid-rows-12 grid grid-flow-col gap-y-3",{"rounded-lg border border-red-500 p-4":w}),children:(0,g.jsx)(l.l.CheckboxGroup,{name:"fields",options:_,itemClassName:"!mt-0"})}),w&&(0,g.jsx)("p",{className:"text-red-500",children:(0,n.t)("export_paywall_csv.modal.options.validation_min_error")})]})};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var P=["paywall_id","paywall_name","paywall_price_id","paywall_price_amount","paywall_price_type","paywall_price_interval","currency","coupon_code","coupon_terms","community_member_public_uid","community_member_processor_id","community_member_name","community_member_email"],S={subscriptions:["processor_id","status","charges_quantity","total_amount_paid","start_date","renews_on","trial_ends_at","ends_at"].concat(P),charges:["processor_id","invoice_processor_id","amount","amount_refunded","display_status_raw","subscription_processor_id","created_at"].concat(P)},C={subscriptions:["processor_id","status","start_date","renews_on","trial_ends_at","ends_at","currency","community_member_email","community_member_name","community_member_processor_id","community_member_public_uid","coupon_code","paywall_name","paywall_price_amount","paywall_price_type","paywall_price_interval"],charges:["processor_id","invoice_processor_id","amount","amount_refunded","currency","display_status_raw","subscription_processor_id","created_at","community_member_email","community_member_name","community_member_processor_id","community_member_public_uid","coupon_code","paywall_name","paywall_price_type","paywall_price_interval"]},N=function(){var e=u().relation,t=[{label:(0,n.t)("export_paywall_csv.modal.options.default",{fields_available:C[e].length}),value:h},{label:(0,n.t)("export_paywall_csv.modal.options.all",{fields_available:S[e].length}),value:v},{label:(0,n.t)("export_paywall_csv.modal.options.custom"),value:y}],r=_((0,s.useState)(h),2),a=r[0],i=r[1];return(0,g.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,g.jsx)(p.Z.LabelMd,{weight:"bold",children:(0,n.t)("export_paywall_csv.modal.columns")}),(0,g.jsx)(d.Lt,{onChange:function(e){i(e)},options:t,size:"full",className:"w-full rounded-lg border px-4 py-2",buttonWrapperClassName:"flex flex-col",linkType:"button",transitionWrapperClassName:"px-4",popperOptions:{modifiers:[{name:"offset",options:{offset:[34,14]}}]},button:(0,g.jsx)(d.Lt.ActiveLabelButton,{className:"flex w-full justify-between",options:t,activeOptionValue:a})}),(0,g.jsx)(O,{fieldOptionsType:a,defaultFields:C[e],allFields:S[e]})]})},A=r(53517),k=r(72810),D=r(30887),E=function(){var e=(0,k.t)(),t=(0,s.useMemo)((function(){return Object.keys(A.Oq).reduce((function(e,t){return A.Oq[t].filterKeys.forEach((function(r){e[r]=A.Oq[t].label})),e}),{})}),[]),r=Object.keys(Object.keys(e).reduce((function(e,r){if(t[r]){var n,a=t[r];e[a]=1+(null!==(n=e[a])&&void 0!==n?n:0)}return e}),{})),a=(0,n.t)("export_paywall_csv.modal.filter_applied_callout",{filter:r[0],count:r.length});return(0,g.jsxs)("div",{className:"bg-tertiary mt-4 flex gap-x-2 rounded-md p-4",children:[(0,g.jsx)("div",{children:(0,g.jsx)(D.JO,{type:"info",className:"!w-6"})}),(0,g.jsx)("div",{className:"self-start",children:(0,g.jsx)(p.Z.LabelSm,{children:a})})]})},I=function(){var e=(0,b.Gc)().setValue,t={label:(0,n.t)(["export_paywall_csv.modal.timezone_options","current_timezone"],{timezone:(new Date).toLocaleDateString("en-US",{day:"2-digit",timeZoneName:"short"}).slice(4)}),value:Intl.DateTimeFormat().resolvedOptions().timeZone};return(0,s.useEffect)((function(){e("timezone",Intl.DateTimeFormat().resolvedOptions().timeZone)}),[]),(0,g.jsxs)("div",{className:"flex flex-col gap-y-4 pt-4",children:[(0,g.jsx)(p.Z.LabelMd,{weight:"bold",children:(0,n.t)("export_paywall_csv.modal.timezone_options_form.timezone")}),(0,g.jsx)(l.l.RadioGroup,{variant:"radio",name:"timezone",options:[t,{label:(0,n.t)("export_paywall_csv.modal.timezone_options.utc"),value:"Etc/UTC"}]})]})},T=r(97012),L=r(95691),M=r(49326),F=r(55675),R=r(53448),Z="export_paywall_csv.confirm_export_modal",B=function(e){var t=e.email,r=e.size,a=void 0===r?"md":r,o=(0,i.dd)(),l=function(){window.open(M.lA.paywalls.bulk_logs,"_blank"),o.hide()};return(0,g.jsxs)(R.u_,{isOpen:o.visible,onClose:l,children:[(0,g.jsx)(R.u_.Overlay,{}),(0,g.jsxs)(R.u_.Content,{size:a,children:[(0,g.jsx)(R.u_.Header,{children:" "}),(0,g.jsx)(R.u_.Body,{children:(0,g.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,g.jsx)(D.JO,{type:"circle-check--green",className:"!w-20"}),(0,g.jsxs)("div",{className:"flex flex-col gap-y-4 text-center",children:[(0,g.jsx)(p.Z.TitleLg,{children:(0,n.t)([Z,"title"])}),(0,n.t)([Z,"description"],{email:t})]})]})}),(0,g.jsx)(R.u_.Footer,{children:(0,g.jsx)(F.z,{full:!0,large:!0,variant:"circle",onClick:l,children:(0,n.t)("done")})})]})]})};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q=function(e){var t=e.relation,r=(0,k.t)(),n=(0,L.B)().createCsvExportMutation,a=(0,i.dd)(i.gk.create(B)),o=(0,T.wh)().currentCommunityMember.email,l=(0,i.dd)(),s=A.lO[t],c=n.mutate,u=n.isSuccess,d=n.isLoading;return{modal:l,onClose:function(){l.remove()},onSubmit:function(e){c(z(z({},e),{},{relation:t,filters:(0,A.oq)(r,s)})),l.remove(),a.show({email:o})},formId:"export-csv-modal-".concat(t),isSuccess:u,isLoading:d}},H=a.Ry().shape({fields:a.IX().min(1)}),K=function(e){var t=e.relation,r=q({relation:t}),a=r.modal,i=r.onClose,s=r.onSubmit,u=r.formId,d=r.isLoading;return(0,g.jsx)(c.Provider,{value:{relation:t,isLoading:d},children:(0,g.jsxs)(o.c,{cancelText:(0,n.t)("cancel"),confirmText:(0,n.t)("confirm"),confirmVariant:"circle",onClose:i,onCancel:i,onConfirm:function(){},isOpen:a.visible,title:(0,n.t)("export_paywall_csv.modal.title.".concat(t)),titleSize:"md",formId:u,children:[(0,g.jsxs)(l.l,{id:u,onSubmit:s,defaultValues:{},formClassName:"flex flex-col gap-y-4",validationSchema:H,children:[(0,g.jsx)(I,{}),(0,g.jsx)(N,{})]}),(0,g.jsx)(E,{})]})})},$=function(){return(0,i.dd)(i.gk.create(K))}},61912:(e,t,r)=>{r.d(t,{Y:()=>s});var n=r(86013),a=r(48895),i=r(16743),o=r(85893),l="member_profile_modal.billing.subscriptions.subscription_details_modal",s=function(e){var t=e.subscription,r=e.textColor,s=void 0===r?"text-light":r;return(0,o.jsxs)(o.Fragment,{children:[t.renews_on&&(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Z.LabelSm,{weight:"semibold",children:(0,n.t)([l,"renews_on"])}),(0,o.jsx)(i.Z.BodySm,{color:s,children:(0,a.w)({dateTime:new Date(t.renews_on),format:a.f.long_date})})]}),t.next_billing_date&&(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Z.LabelSm,{weight:"semibold",children:(0,n.t)([l,"next_billing_date"])}),(0,o.jsx)(i.Z.BodySm,{color:s,children:(0,a.w)({dateTime:new Date(t.next_billing_date),format:a.f.long_date})})]}),t.last_billing_date&&(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Z.LabelSm,{weight:"semibold",children:(0,n.t)([l,"last_billing_date"])}),(0,o.jsx)(i.Z.BodySm,{color:s,children:(0,a.w)({dateTime:new Date(t.last_billing_date),format:a.f.long_date})})]}),t.cancels_on&&(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Z.LabelSm,{weight:"semibold",children:(0,n.t)([l,"cancels_on"])}),(0,o.jsx)(i.Z.BodySm,{color:s,children:(0,a.w)({dateTime:new Date(t.cancels_on),format:a.f.long_date})})]}),t.canceled_on&&(0,o.jsxs)("div",{children:[(0,o.jsx)(i.Z.LabelSm,{weight:"semibold",children:(0,n.t)([l,"canceled_on"])}),(0,o.jsx)(i.Z.BodySm,{color:s,children:(0,a.w)({dateTime:new Date(t.canceled_on),format:a.f.long_date})})]})]})}},51758:(e,t,r)=>{r.d(t,{X:()=>C});var n=r(25362),a=r(72675),i=r(86013),o=r(78573),l=r(40160),s=r(48895),c=r(49326),u=r(59941),d=r(97714),p=r(16743),f=r(61149),m=r(85893),b="settings.paywalls_admin_dashboard.subscriptions.subscription_details_modal",h=function(e){var t,r=e.subscription,n=null===r||void 0===r?void 0:r.paywall_coupon_redemption,a=null===n||void 0===n?void 0:n.paywall_coupon,o=(null===n||void 0===n?void 0:n.status)===f.DP.ACTIVE?"".concat(null===a||void 0===a?void 0:a.name," / ").concat(null===n||void 0===n||null===(t=n.paywall_coupon)||void 0===t?void 0:t.terms):(0,i.t)("".concat(b,".no_coupon_applied"));return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,i.t)("".concat(b,".labels.coupon_applied"))})}),(0,m.jsx)(p.Z.LabelSm,{children:o})]})},v=r(61912),y="settings.paywalls_admin_dashboard.subscriptions.subscription_details_modal",g=function(e){var t=e.subscription,r=e.shouldOpenAdminMemberEdit,n=(0,s.w)({dateTime:new Date(t.created_at),format:"long_date"});return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"border-b-2 py-4",children:(0,m.jsx)(u.D,{customer:t.community_member,shouldOpenAdminMemberEdit:r})}),(0,m.jsxs)("div",{className:"grid grid-cols-1 gap-y-3 pb-6 pt-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,i.t)("".concat(y,".labels.paywall_name"))})}),(0,m.jsx)(p.Z.LabelSm,{children:t.paywall.name||t.paywall.display_name})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,i.t)("".concat(y,".labels.subscription_id"))})}),(0,m.jsx)(p.Z.LabelSm,{children:t.processor_id})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,i.t)("".concat(y,".labels.transactions"))})}),(0,m.jsx)(l.rU,{className:"text-dark hover:text-dark visited:text-dark underline",to:"".concat(c.qk.paywallsAdminDashboard.charges(),"?subscription_processor_id=").concat(t.processor_id),target:"_blank",children:(0,m.jsx)(p.Z.LabelSm,{children:t.charges_count})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,i.t)("".concat(y,".labels.status"))})}),(0,m.jsx)(d.Z,{subscription:t})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,i.t)("".concat(y,".labels.start_date"))})}),(0,m.jsx)(p.Z.LabelSm,{children:n})]}),(0,m.jsx)("div",{className:"flex flex-col gap-3",children:(0,m.jsx)(v.Y,{subscription:t,textColor:"text-primary"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,i.t)("".concat(y,".labels.price"))})}),(0,m.jsx)(p.Z.LabelSm,{children:t.paywall_price.short_description})]}),(0,m.jsx)(h,{subscription:t})]})]})};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=function(e){var t=(0,a.dd)();return(0,m.jsx)(o.W,{title:(0,i.t)("settings.paywalls_admin_dashboard.subscriptions.subscription_details_modal.title"),isOpen:t.visible,onClose:t.hide,actionVariant:"danger",children:(0,m.jsx)(g,x({},e))})};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=a.gk.create((function(e){return(0,m.jsx)(_,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))})),C=function(e){return e&&n.ZP.register(e,S),(0,a.dd)(null!==e&&void 0!==e?e:S)}},95658:(e,t,r)=>{r.d(t,{v:()=>p});var n=r(56874),a=r(86013),i=r(36121),o=r(30887),l=r(16743),s=r(85893),c="settings.paywalls_admin_dashboard.charges.charge_details_modal",u=function(e){var t=e.charge,r=e.creditCardIconClassName,n=null===t||void 0===t?void 0:t.community_member_payment_method;return n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.c,{className:"mr-1 ".concat(r),card:null===n||void 0===n?void 0:n.brand}),(0,s.jsx)(l.Z.BodySm,{children:(0,a.t)("".concat(c,".details_labels.payment_method.credit_card_ending"),{last4:null===n||void 0===n?void 0:n.last4})})]}):(0,s.jsxs)("div",{className:"flex flex-row gap-x-1",children:[(0,s.jsx)(o.JO,{type:"credit-card",size:16}),(0,s.jsx)(l.Z.LabelSm,{children:(0,a.t)("".concat(c,".details_labels.payment_method.credit_card"))})]})},d=function(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.JO,{type:"20-pix",viewBox:"0 0 24 24",size:24}),(0,s.jsx)(l.Z.LabelSm,{children:(0,a.t)("".concat("settings.paywalls_admin_dashboard.charges.charge_details_modal",".details_labels.payment_method.pix"))})]})},p=function(e){var t=e.charge;return(0,s.jsxs)(s.Fragment,{children:[(0,n.YG)(t)&&(0,s.jsx)("div",{className:"flex flex-row gap-x-1",children:(0,s.jsx)(d,{})}),(0,n.d_)(t)&&(0,s.jsx)("div",{className:"flex flex-row",children:(0,s.jsx)(u,{charge:t,creditCardIconClassName:"!w-5"})}),(0,n.U8)(t)&&(0,s.jsx)("div",{children:"-"})]})}},96893:(e,t,r)=>{r.d(t,{j:()=>u});var n,a=r(86013),i=r(56874),o=r(72855),l=r(85893);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=(s(n={},i.RA.INCOMPLETE,{label:(0,a.t)("settings.paywalls_admin_dashboard.charges.badge_status.incomplete"),variant:"default"}),s(n,i.RA.PROCESSING,{label:(0,a.t)("settings.paywalls_admin_dashboard.charges.badge_status.processing"),variant:"default"}),s(n,i.RA.PAID,{label:(0,a.t)("settings.paywalls_admin_dashboard.charges.badge_status.paid"),variant:"success"}),s(n,i.RA.CANCELED,{label:(0,a.t)("settings.paywalls_admin_dashboard.charges.badge_status.canceled"),variant:"default"}),s(n,i.RA.PARTIAL_REFUND,{label:(0,a.t)("settings.paywalls_admin_dashboard.charges.badge_status.partial_refund"),variant:"default"}),s(n,i.RA.REFUNDED,{label:(0,a.t)("settings.paywalls_admin_dashboard.charges.badge_status.refunded"),variant:"default"}),s(n,i.RA.FAILED,{label:(0,a.t)("settings.paywalls_admin_dashboard.charges.badge_status.failed"),variant:"danger"}),s(n,"unknown",{label:(0,a.t)("settings.paywalls_admin_dashboard.charges.badge_status.unknown"),variant:"default"}),n),u=function(e){var t,r=e.status,n=null!==(t=c[r])&&void 0!==t?t:c.unknown;return(0,l.jsx)("div",{children:(0,l.jsx)(o.O,{variant:n.variant,children:n.label})})}},28305:(e,t,r)=>{r.d(t,{sK:()=>B,b5:()=>R,Qp:()=>Z});var n=r(86013),a=r(86521),i=r(72675),o=r(96486),l=r(78573),s=r(61926),c=r(56874),u=r(48895),d=r(59941),p=r(16743),f=r(85893),m="settings.paywalls_admin_dashboard.charges",b=function(e){var t=e.charge,r=new Date(t.created_at),a=(0,u.w)({dateTime:r,format:"long_date_short_time"});return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"border-b-2 pb-4",children:(0,f.jsx)(d.D,{customer:t.community_member,shouldOpenAdminMemberEdit:!1})}),(0,f.jsxs)("div",{className:"grid grid-cols-1 gap-y-3 py-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,n.t)("".concat(m,".charge_details_modal.details_labels.transaction_date"))})}),(0,f.jsx)(p.Z.LabelSm,{children:a})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,n.t)("".concat(m,".charge_details_modal.details_labels.amount_paid"))})}),(0,f.jsx)(p.Z.LabelSm,{children:t.display_amount_with_currency})]}),(0,c.ac)(t)&&(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)(p.Z.LabelSm,{weight:"semibold",children:(0,n.t)("".concat(m,".charge_details_modal.details_labels.amount_refunded"))})}),(0,f.jsx)(p.Z.LabelSm,{children:t.display_refunded_amount_with_currency})]})]})]})},h=r(81208),v="refund-charge_form",y="settings.paywalls_admin_dashboard.charges.refund_modal",g=r(61666),j=function(e){var t=e.charge,r=function(e){var t=e.charge,r=t.amount_to_refund_raw,a=function(e){return e.replace(/\D/g,"")};return{transformValueIntoCurrency:function(e){var r=Number(a(e));if(!isNaN(r))return(0,g.I)(t.currency,r,{includeCurrencyCode:!1,forceMaxFractionDigits:!0})},minAmountToRefund:function(e){return Number(a(e))>=1||(0,n.t)("".concat(y,".refund_form.alerts.minimun_amount_required"),{value:(0,g.I)(t.currency,1)})},maxAmountToRefund:function(e){return Number(a(e))<=r||(0,n.t)("".concat(y,".refund_form.alerts.maximum_amount_required"),{value:(0,g.I)(t.currency,r)})}}}({charge:t}),a=r.transformValueIntoCurrency,i=r.minAmountToRefund,o=r.maxAmountToRefund,l=t.currency;return(0,f.jsxs)("div",{className:"flex flex-col space-y-2 pt-2",children:[(0,f.jsx)(s.l.Item,{className:"border-0",labelClassName:"text-sm font-semibold",name:"amount",translationRoot:"".concat(y,".refund_form"),hidePlaceholder:!0,hideDescription:!0,hiddenField:!0,id:v,transformValue:a,rules:{required:!0,validate:{minAmountToRefund:i,maxAmountToRefund:o}},children:(0,f.jsx)(h.a,{currency:l,className:"form-control mr-px"})}),(0,f.jsx)(s.l.Item,{className:"border-0",labelClassName:"text-sm font-semibold",name:"reason_details",translationRoot:"".concat(y,".refund_form"),hideDescription:!0,hiddenField:!0,id:v,rules:{required:(0,n.t)("".concat(y,".refund_form.alerts.reason_details_required")),maxLength:{value:255,message:(0,n.t)("".concat(y,".refund_form.alerts.reason_details_max_length"))}},children:(0,f.jsx)(s.l.Input,{name:"reason_details",variant:"textarea"})})]})},x=r(88767),O=r(75381),_=r(21809),w=O.W.refundCharge,P=function(e){var t=e.charge,r=e.onSuccess,a=(0,i.dd)(),l={amount:(0,g.I)(t.currency,t.amount_to_refund_raw,{includeCurrencyCode:!1,forceMaxFractionDigits:!0})},s=function(e){var t=e.charge,r=e.callback,a=t.amount_to_refund_raw,i=(0,_.p)(),o=i.success,l=i.error,s=(0,n.t)("settings.paywalls_admin_dashboard.charges.refund_modal.alerts.error.default_message");return{refundMutation:(0,x.useMutation)((function(e){return w({chargeProcessorId:t.processor_id,params:e})}),{onSuccess:function(e,t){var i=t.amount===a?(0,n.t)("settings.paywalls_admin_dashboard.charges.refund_modal.alerts.success.refund_succeed"):(0,n.t)("settings.paywalls_admin_dashboard.charges.refund_modal.alerts.success.partial_refund_succeed");r.refundCharge.onSuccess(),o(i)},onError:function(e){var t;r.refundCharge.onError();var n=null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:s;console.error(n),l(n,{duration:"long"})}})}}({charge:t,callback:{refundCharge:{onSuccess:function(){a.hide(),r&&r()},onError:o.noop}}}),c=s.refundMutation;return{defaultValues:l,handleSubmit:function(e){e.amount=Number(e.amount.replace(/\D/g,"")),c.mutate(e)},modal:a,isSubmitting:c.isLoading,onClose:function(){return!c.isLoading&&a.hide()}}},S=function(e){var t=e.charge,r=e.onSuccess,a=P({charge:t,onSuccess:r}),i=a.defaultValues,c=a.handleSubmit,u=a.modal,d=a.isSubmitting,p=a.onClose;return(0,f.jsx)(l.W,{title:(0,n.t)("settings.paywalls_admin_dashboard.charges.refund_modal.title"),isOpen:u.visible,onClose:p,onAction:o.noop,disabled:d,actionText:(0,n.t)("".concat("settings.paywalls_admin_dashboard.charges",".refund_modal.refund_button_label")),formId:v,children:(0,f.jsx)(s.l,{onSubmit:c,defaultValues:i,id:v,children:(0,f.jsxs)("div",{className:"pt-4",children:[(0,f.jsx)(b,{charge:t}),(0,f.jsx)(j,{charge:t})]})})})};function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=i.gk.create((function(e){return(0,f.jsx)(S,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))})),k=r(62983),D=r(26981),E=r(53448),I=r(6705),T=r(23015),L=r(95658),M=r(96893),F="settings.paywalls_admin_dashboard.charges.list.headers",R={customer:"community_member_name",amount:"amount",paywall:"paywall_name",status:"display_status",term:"charge_term",createdAt:"created_at",paymentMethod:"payment_method_type",actionMenu:""},Z={customer:{header:(0,n.t)([F,"customer_column"]),accessorKey:"customer",cell:T.D,thClassName:"",cellClassName:""},paymentMethod:{header:(0,n.t)([F,"payment_method"]),accessorKey:"paymentMethod",cell:function(e){var t=e.row.original;return(0,f.jsx)(L.v,{charge:t})},thClassName:"",cellClassName:"",canSort:!1},term:{header:(0,n.t)([F,"term_column"]),accessorKey:"term",cell:function(e){var t=e.row.original;return(0,f.jsx)("div",{className:"flex flex-col whitespace-normal",children:t.paywall_price.interval_qualifier})},thClassName:"hidden lg:table-cell",cellClassName:"hidden lg:table-cell"},amount:{header:(0,n.t)([F,"amount_column"]),accessorKey:"amount",cell:function(e){var t=e.row.original;return(0,f.jsx)("div",{children:t.display_amount_with_currency})},thClassName:"",cellClassName:""},status:{header:(0,n.t)([F,"status_column"]),accessorKey:"status",cell:function(e){var t=e.row.original;return(0,f.jsx)(M.j,{status:null===t||void 0===t?void 0:t.display_status})},thClassName:"",cellClassName:""},paywall:{header:(0,n.t)([F,"paywall_name_column"]),accessorKey:"paywall",cell:function(e){var t=e.row.original;return(0,f.jsx)("div",{className:"max-w-[15em] overflow-hidden text-ellipsis",children:t.paywall.name||t.paywall.display_name})},thClassName:"hidden md:table-cell",cellClassName:"hidden md:table-cell"},createdAt:{header:(0,n.t)([F,"date_column"]),accessorKey:"createdAt",cell:function(e){var t=e.row.original,r=new Date(t.created_at),n=(0,u.w)({dateTime:r,format:"long_date"}),a=(0,u.w)({dateTime:r,format:"short_time"});return(0,f.jsxs)("div",{className:"flex flex-col whitespace-normal",children:[(0,f.jsx)("div",{className:"block lg:hidden",children:a}),(0,f.jsx)("div",{className:"hidden lg:block",children:n})]})},thClassName:"",cellClassName:""},actionMenu:{header:"",accessorKey:"actionMenu",cell:function(e){var t,r=(0,E.UV)().contentPortalElement,o=e.row.original,l=(0,I.S)(),s=l.shouldOpenAdminMemberEdit,c=l.variant,u=l.refetchAllCharges,d=s&&!!o.community_member.public_uid,p=(0,a.a)(c),m=(0,i.dd)(A),b=(0,k.I)({attributable:o,attributableType:"CommunityMemberCharge",onSuccess:u}),h=[];return h.push({key:"charge-details",label:(0,n.t)("settings.paywalls_admin_dashboard.charges.list.dropdown_menu.details"),onClick:function(e){p.show({charge:o,shouldOpenAdminMemberEdit:d}),e.stopPropagation()}}),b&&h.push(b),null!==o&&void 0!==o&&null!==(t=o.policies)&&void 0!==t&&t.is_refundable&&h.push({key:"charge-refund",label:(0,n.t)("settings.paywalls_admin_dashboard.charges.list.dropdown_menu.refund_payment"),onClick:function(e){m.show({charge:o,onSuccess:u}),e.stopPropagation()}}),(0,f.jsx)(D.w.Actions,{contentPortalElement:null!==r&&void 0!==r?r:document.body,children:h.map((function(e){var t=e.key,r=e.label,n=e.onClick;return(0,f.jsx)(D.w.Actions.Item,{onClick:n,children:r},t)}))})},thClassName:"",cellClassName:"",canSort:!1}},B=[Z.customer,Z.term,Z.amount,Z.paymentMethod,Z.status,Z.paywall,Z.createdAt,Z.actionMenu]},6705:(e,t,r)=>{r.d(t,{O:()=>d,S:()=>p});var n=r(67294),a=r(96486),i=r(85893);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={shouldOpenAdminMemberEdit:!0,variant:"admin-charges-list",refetchAllCharges:a.noop},u=(0,n.createContext)(c);u.displayName="PaywallChargesListContext";var d=function(e){var t=e.children,r={shouldOpenAdminMemberEdit:e.shouldOpenAdminMemberEdit,variant:e.variant,refetchAllCharges:e.refetchAllCharges};return(0,i.jsx)(u.Provider,{value:l({},r),children:t})},p=function(){return(0,n.useContext)(u)}},73839:(e,t,r)=>{r.d(t,{uo:()=>s,OA:()=>l.O});var n=r(26981),a=r(45968),i=r(28305),o=r(85893),l=r(6705),s=function(e){var t,r,l=e.columnsToRender,s=e.chargesData,c=e.onClickPagination,u=e.className,d=void 0===u?"":u,p=function(e){var t=e.chargesData;return{onChangeSorting:(0,a.v)({dataQuery:t,orderingColumn:i.b5})}}({chargesData:s}),f=p.onChangeSorting;return(0,o.jsx)("div",{className:d,children:(0,o.jsxs)(n.w,{onChangeSorting:f,columns:l,data:null!==(t=null===s||void 0===s?void 0:s.charges)&&void 0!==t?t:[],isLoading:null===s||void 0===s?void 0:s.isLoadingCharges,initialPage:null!==(r=null===s||void 0===s?void 0:s.page)&&void 0!==r?r:1,onChangePage:c,totalRecordsCount:null===s||void 0===s?void 0:s.totalCharges,pageSize:s.perPage,children:[(0,o.jsxs)(n.w.Table,{children:[(0,o.jsx)(n.w.SortableHead,{}),(0,o.jsx)(n.w.Loader,{}),(0,o.jsx)(n.w.Body,{})]}),(0,o.jsx)(n.w.Pagination,{align:"left",direction:"reverse"})]})})}},97714:(e,t,r)=>{r.d(t,{Z:()=>f});var n,a=r(86013),i=r(35144),o=r(42482),l=r(48895),s=r(9242),c=r(72855),u=r(85893);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=(d(n={},i.Q_.ACTIVE,{label:(0,a.t)("settings.paywalls_admin_dashboard.subscriptions.badge_status.active"),variant:"success"}),d(n,i.Q_.PAST_DUE,{label:(0,a.t)("settings.paywalls_admin_dashboard.subscriptions.badge_status.past_due"),variant:"danger"}),d(n,i.Q_.TRIAL,{label:(0,a.t)("settings.paywalls_admin_dashboard.subscriptions.badge_status.trial"),variant:"success"}),d(n,i.Q_.INCOMPLETE,{label:(0,a.t)("settings.paywalls_admin_dashboard.subscriptions.badge_status.incomplete"),variant:"default"}),d(n,i.Q_.CANCELED,{label:(0,a.t)("settings.paywalls_admin_dashboard.subscriptions.badge_status.canceled"),variant:"default"}),d(n,"default",{label:(0,a.t)("settings.paywalls_admin_dashboard.subscriptions.badge_status.unknown"),variant:"default"}),n),f=function(e){var t=function(e){var t;return(0,s.t3)(e.paywall_price)&&(0,o.D)(null===e||void 0===e?void 0:e.community_member_subscription_schedule)?{label:(0,a.t)("settings.paywalls_admin_dashboard.subscriptions.badge_status.completed"),variant:"success"}:e.cancels_on?{label:(0,a.t)("settings.paywalls_admin_dashboard.subscriptions.badge_status.cancels_on",{date:(0,l.w)({dateTime:new Date(e.cancels_on),format:"short_month_and_date"})})}:null!==(t=p[e.status])&&void 0!==t?t:p.default}(e.subscription);return(0,u.jsx)(c.O,{variant:t.variant,children:t.label})}},23015:(e,t,r)=>{r.d(t,{D:()=>i});var n=r(59941),a=r(85893),i=function(e){var t=e.row.original.community_member;return(0,a.jsx)("div",{className:"max-w-xs",children:(0,a.jsx)(n.D,{customer:t,shouldOpenAdminMemberEdit:!0})})}},41490:(e,t,r)=>{r.d(t,{n:()=>d,N:()=>p});var n=r(67294),a=r(96486),i=r(85893);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={shouldOpenAdminMemberEdit:!0,refetchAllSubscriptions:a.noop,variant:"default"},u=(0,n.createContext)(c);u.displayName="PaywallSubscriptionListContext";var d=function(e){var t=e.children,r=e.shouldOpenAdminMemberEdit,n=e.refetchAllSubscriptions,a=e.variant,o={shouldOpenAdminMemberEdit:r,refetchAllSubscriptions:n,variant:void 0===a?"default":a};return(0,i.jsx)(u.Provider,{value:l({},o),children:t})},p=function(){return(0,n.useContext)(u)}},40135:(e,t,r)=>{r.d(t,{sK:()=>Ue,b5:()=>Ze,Qp:()=>Be});var n=r(86013),a=r(50195),i=r(72675),o=r(64830),l=r(61926),s=r(67294),c=r(85516),u=r(55675),d=r(53448),p=r(85893),f="paywalls.apply_coupon_modal",m={step:"ApplyingCouponStep",nextStep:null,title:null,shouldHiddenCloseButton:!0,shouldHiddenBackButton:!0},b=Object.assign((function(){var e=J(),t=e.getCurrentPage,r=e.applyCouponMutation,a=e.onClose,i=e.shouldRemoveCoupon,o=e.removeCouponMutation,l=i?o:r,s=i?"paywalls.apply_coupon_modal.removing_coupon_step":"paywalls.apply_coupon_modal.applying_coupon_step";return t().step!==m.step?null:(0,p.jsxs)(p.Fragment,{children:[l.isLoading&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.u_.Body,{children:(0,p.jsx)(c.u,{title:(0,n.t)([f,"loading.title"]),subtitle:(0,n.t)([f,"loading.subtitle"]),variant:"loading"})}),(0,p.jsx)(d.u_.Footer,{children:null})]}),l.isSuccess&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.u_.Body,{children:(0,p.jsx)(c.u,{title:(0,n.t)([s,"success.title"]),variant:"success"})}),(0,p.jsx)(d.u_.Footer,{children:(0,p.jsx)(u.z,{full:!0,large:!0,variant:"circle",type:"button",onClick:a,children:(0,n.t)(["close"])})})]}),l.isError&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.u_.Body,{children:(0,p.jsx)(c.u,{title:(0,n.t)([s,"failed.title"]),subtitle:(0,n.t)([s,"failed.subtitle"]),variant:"error"})}),(0,p.jsx)(d.u_.Footer,{children:(0,p.jsx)(u.z,{full:!0,large:!0,variant:"circle",type:"button",onClick:a,children:(0,n.t)(["close"])})})]})]})}),{stepProperties:m}),h=r(87536),v=r(88767),y=r(50795),g=r(30887),j=r(16743),x=function(){return(0,p.jsxs)("div",{className:"mt-2 flex flex-row items-center justify-center",children:[(0,p.jsx)(g.JO,{type:"lock-solid",className:"mt-2 !h-6 !w-6"}),(0,p.jsx)(j.Z.BodyXs,{weight:"normal",color:"text-light",children:(0,n.t)("member_profile_modal.billing.subscriptions.payment_secure_and_encrypted")})]})},O=r(5295),_=function(e){var t=e.title,r=e.titleWeight,n=void 0===r?"semibold":r,a=e.subtitle,i=e.children;return(0,p.jsxs)("li",{className:"flex w-full flex-row justify-between gap-y-4 self-center",children:[(0,p.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,p.jsx)(j.Z.LabelMd,{weight:n,children:t}),a&&(0,p.jsx)(j.Z.LabelXs,{color:"text-light",children:a})]}),i]})},w=function(e){var t=e.title,r=e.children;return(0,p.jsxs)("li",{className:"flex flex-row justify-between",children:[(0,p.jsx)(j.Z.LabelSm,{children:t}),r]})},P=function(e){var t=e.children,r=e.className;return(0,p.jsx)("ul",{className:"flex list-none flex-col ".concat(null!==r&&void 0!==r?r:""),children:t})},S="paywalls.apply_coupon_modal",C=function(e){var t=e.subscription,r=e.previewCouponQuery,a=(0,o.U)().couponsIndex,i=(0,(0,h.Gc)().watch)("coupon_code"),l=t.paywall.name||t.paywall.display_name,s=t.paywall_price,c=(null!==a&&void 0!==a?a:{})[i],u=r.data.future_payments;return(0,p.jsxs)(P,{className:"gap-y-4",children:[(0,p.jsx)(_,{title:"".concat(l," (").concat(s.interval_qualifier,")"),titleWeight:"normal",children:(0,p.jsx)(j.Z.LabelMd,{children:s.display_amount_with_currency})}),(0,p.jsx)("hr",{}),(0,p.jsx)(_,{title:(0,n.t)([S,"recurring_plan_charges"]),children:(0,p.jsx)(j.Z.LabelMd,{children:s.display_amount_with_currency})}),(0,p.jsx)(_,{title:(0,n.t)([S,"coupon"]),subtitle:"".concat(c.name," (").concat(c.terms,")"),children:(0,p.jsx)(j.Z.LabelMd,{children:u.formatted_discount})}),(0,p.jsx)("hr",{}),(0,p.jsxs)(P,{className:"gap-y-2",children:[(0,p.jsx)(w,{title:(0,n.t)([S,"subtotal"]),children:(0,p.jsx)(j.Z.LabelSm,{children:u.formatted_subtotal})}),(0,p.jsx)(w,{title:(0,n.t)([S,"tax"]),children:(0,p.jsx)(j.Z.LabelSm,{children:u.formatted_tax})}),(0,p.jsx)(w,{title:(0,n.t)([S,"coupon"]),children:(0,p.jsx)(j.Z.LabelSm,{color:"text-v2-success",children:u.formatted_discount})})]}),(0,p.jsx)("hr",{}),(0,p.jsx)(_,{title:(0,n.t)([S,"total_due_at_next_charge"]),children:(0,p.jsx)(j.Z.LabelMd,{weight:"semibold",children:u.formatted_amount_due})})]})},N=r(3803),A="paywalls.apply_coupon_modal",k=function(e){var t=e.subscription,r=e.previewCouponQuery,a=t.paywall.name||t.paywall.display_name,i=t.paywall_price,o=r.data.future_payments,l=t.paywall_coupon_redemption.paywall_coupon.name,s=t.paywall_coupon_redemption.paywall_coupon.terms;return(0,p.jsxs)(P,{className:"gap-y-4",children:[(0,p.jsx)(_,{title:"".concat(a," (").concat(i.interval_qualifier,")"),titleWeight:"normal",children:(0,p.jsx)(j.Z.LabelMd,{children:i.amount_formatted})}),(0,p.jsx)("hr",{}),(0,p.jsx)(_,{title:(0,n.t)([A,"recurring_plan_charges"]),children:(0,p.jsx)(j.Z.LabelMd,{children:i.amount_formatted})}),(0,p.jsx)("hr",{}),(0,p.jsxs)(P,{className:"gap-y-2",children:[(0,p.jsx)(w,{title:(0,n.t)([A,"subtotal"]),children:(0,p.jsx)(j.Z.LabelSm,{children:o.formatted_subtotal})}),(0,p.jsx)(w,{title:(0,n.t)([A,"tax"]),children:(0,p.jsx)(j.Z.LabelSm,{children:o.formatted_tax})})]}),(0,p.jsx)("hr",{}),(0,p.jsx)(_,{title:(0,n.t)([A,"total_due_at_next_charge"]),children:(0,p.jsx)(j.Z.LabelMd,{weight:"semibold",children:o.formatted_amount_due})}),(0,p.jsxs)(N.v,{className:"flex flex-row gap-3",children:[(0,p.jsx)("div",{children:(0,p.jsx)(g.JO,{type:"information-outline",size:24})}),(0,p.jsx)(j.Z.LabelSm,{weight:"regular",as:"div",children:(0,n.t)([A,"removing_coupon_warning"],{coupon_name:l,coupon_terms:s})})]})]})},D="paywalls.apply_coupon_modal.preview_coupon_step",E={step:"PreviewCouponStep",title:(0,n.t)([D,"title"])},I=Object.assign((function(e){var t=e.subscription,r=J(),a=r.getCurrentPage,i=r.clearAndSetNewPageHistory,o=r.onSubmit,l=r.onClose,s=r.shouldRemoveCoupon,f=(0,h.Gc)(),m=f.watch,g=f.handleSubmit,j=s?null:m("coupon_code"),_=(0,v.useQuery)({queryKey:["preview-coupon-query",t.processor_id,j],queryFn:y.v.preview({subscriptionProcessorId:t.processor_id,couponCode:j})});return a().step!==E.step?null:_.isLoading?(0,p.jsx)(O.a,{}):_.isError?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.u_.Body,{children:(0,p.jsx)(c.u,{title:(0,n.t)([D,"failed.title"]),subtitle:(0,n.t)([D,"failed.subtitle_".concat(s?"removal":"application")]),variant:"error"})}),(0,p.jsx)(d.u_.Footer,{children:(0,p.jsx)(u.z,{full:!0,large:!0,variant:"circle",type:"button",onClick:l,children:(0,n.t)(["close"])})})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.u_.Body,{children:(0,p.jsx)("div",{className:"flex flex-col gap-y-4",children:s?(0,p.jsx)(k,{subscription:t,previewCouponQuery:_}):(0,p.jsx)(C,{subscription:t,previewCouponQuery:_})})}),(0,p.jsxs)(d.u_.Footer,{children:[(0,p.jsx)(u.z,{full:!0,large:!0,variant:"circle",disabled:!1,type:"submit",onClick:function(){i(b.stepProperties),g(o)()},children:(0,n.t)([D,"button"])}),(0,p.jsx)(x,{})]})]})}),{stepProperties:E}),T=r(66019),L=r(58905);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z="paywalls.apply_coupon_modal",B=function(e){var t=e.paywallId,r=(0,d.UV)().contentPortalElement,a=(0,T.n)({paywallId:t}),i=a.couponCodeOptions,s=a.paywallCouponsListQuery,c=(0,h.Gc)(),u=c.watch,f=c.setValue,m=(0,o.U)().couponsIndex,b=u("coupon_code");if(s.isLoading)return(0,p.jsx)(O.a,{});if(b){var v=(null!==m&&void 0!==m?m:{})[b];return(0,p.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,p.jsx)(j.Z.LabelSm,{weight:"semibold",children:(0,n.t)([Z,"coupon"])}),(0,p.jsx)("div",{className:"flex",children:(0,p.jsxs)("div",{className:"bg-tertiary rounded-lg p-3",children:[(0,p.jsx)(j.Z.LabelSm,{weight:"medium",children:"".concat(v.name," (").concat(v.terms,")")}),(0,p.jsx)(g.JO,{width:"20",height:"20",viewBox:"0 0 16 16",className:"text-light mb-[1.5px] ml-2.5 cursor-pointer",type:"16-close",onClick:function(){f("coupon_code",null)}})]})})]})}return(0,p.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,p.jsx)(j.Z.LabelSm,{weight:"semibold",children:(0,n.t)([Z,"coupon_code"])}),(0,p.jsx)(l.l.TextSelect,{name:"coupon_code",options:i,label:null,appendTo:r,popperOptions:{modifiers:[F(F({},L.Z),{},{phase:"afterWrite"})]}})]})},U="paywalls.apply_coupon_modal.select_coupon_step",z={step:"SelectCouponStep",title:(0,n.t)([U,"title"])},V=Object.assign((function(e){var t=e.subscription,r=J(),a=r.getCurrentPage,i=r.pushNewPageHistory,o=(0,(0,h.Gc)().watch)("coupon_code"),l=(0,v.useQuery)({queryKey:["preview-coupon-query",t.processor_id,o],queryFn:y.v.preview({subscriptionProcessorId:t.processor_id,couponCode:o}),enabled:!!o});return a().step!==z.step?null:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.u_.Body,{children:(0,p.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,p.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,p.jsx)(j.Z.LabelSm,{weight:"semibold",children:t.paywall.name||t.paywall.display_name}),(0,p.jsx)(j.Z.LabelSm,{children:t.paywall_price.short_description})]}),(0,p.jsx)("hr",{}),(0,p.jsx)(B,{paywallId:t.paywall.id})]})}),(0,p.jsx)(d.u_.Footer,{children:(0,p.jsx)(u.z,{full:!0,large:!0,variant:"circle",disabled:l.isLoading||!o,type:"button",onClick:function(){i(I.stepProperties)},children:(0,n.t)([U,"button"])})})]})}),{stepProperties:z});function q(e){return function(e){if(Array.isArray(e))return $(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||K(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||K(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){if(e){if("string"===typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=(0,s.createContext)({});G.displayName="ApplyCouponContext";var Q={step:null,nextStep:null,title:"",shouldHiddenBackButton:!1,shouldHiddenCloseButton:!1},W=function(e){var t,r,n=e.children,a=e.applyCouponMutation,o=e.removeCouponMutation,l=e.onSubmit,c=e.shouldRemoveCoupon,u=H((0,s.useState)([c?I.stepProperties:V.stepProperties]),2),d=u[0],f=u[1],m=(0,i.dd)(),h=function(){m.hide(),m.remove()},v=function(){var e;return null!==(e=d.at(-1))&&void 0!==e?e:Q},y=null!==(t=v().shouldHiddenBackButton)&&void 0!==t?t:d.length<=1,g=null!==(r=v().shouldHiddenCloseButton)&&void 0!==r&&r,j=v().title,x={modal:m,onCloseModal:function(){v().step!==b.stepProperties.step&&h()},backButtonOnClick:function(){f(d.slice(0,-1))},shouldHiddenBackButton:y,shouldHiddenCloseButton:g,title:j,shouldRemoveCoupon:c,pushNewPageHistory:function(e){f([].concat(q(d),[e]))},getCurrentPage:v,clearAndSetNewPageHistory:function(e){f([e])},onClose:h,onSubmit:l,applyCouponMutation:a,removeCouponMutation:o};return(0,p.jsx)(G.Provider,{value:x,children:n})},J=function(){return(0,s.useContext)(G)},X=function(e){var t=e.children,r=J(),n=r.modal,a=r.onClose,i=r.onCloseModal,o=r.backButtonOnClick,l=r.shouldHiddenBackButton,s=r.shouldHiddenCloseButton,c=r.title;return(0,p.jsxs)(d.u_,{isOpen:n.visible,onClose:i,contentPortalId:"apply-coupon-modal",children:[(0,p.jsx)(d.u_.Overlay,{}),(0,p.jsxs)(d.u_.Content,{size:"md",children:[(0,p.jsxs)(d.u_.Header,{children:[c&&(0,p.jsx)(d.u_.Title,{size:"md",className:"text-center",children:c}),!s&&(0,p.jsx)(d.u_.HeaderActions,{className:"absolute right-0 top-0 mr-6 mt-6",children:(0,p.jsx)(d.u_.CloseButton,{onClick:a})}),!l&&(0,p.jsx)(d.u_.HeaderActions,{className:"absolute left-0 top-0 ml-6 mt-6",children:(0,p.jsx)(d.u_.BackButton,{onClick:o})})]}),t]})]})},Y=r(99815),ee=function(e){var t=e.subscription,r=e.shouldRemoveCoupon,n=function(e){var t=e.subscription,r=e.shouldRemoveCoupon,n=(0,v.useQueryClient)(),a=function(){n.invalidateQueries({queryKey:[Y.D]})},i=(0,v.useMutation)({mutationFn:function(e){return y.v.create(e)},onSuccess:a}),o=(0,v.useMutation)({mutationFn:function(){return y.v.delete({subscriptionProcessorId:t.processor_id})},onSuccess:a});return{onSubmit:function(e){r?o.mutateAsync():i.mutateAsync({subscriptionProcessorId:t.processor_id,params:e})},applyCouponMutation:i,removeCouponMutation:o}}({subscription:t,shouldRemoveCoupon:r}),a=n.onSubmit,i=n.applyCouponMutation,s=n.removeCouponMutation;return(0,p.jsx)(W,{removeCouponMutation:s,applyCouponMutation:i,onSubmit:a,shouldRemoveCoupon:r,children:(0,p.jsx)(X,{children:(0,p.jsx)(l.l,{id:"apply-paywall-coupon",onSubmit:a,defaultValues:{},formClassName:"flex flex-col pt-4",children:(0,p.jsxs)(o.X,{children:[(0,p.jsx)(V,{subscription:t}),(0,p.jsx)(I,{subscription:t}),(0,p.jsx)(b,{})]})})})})},te=r(96486),re=r(78573),ne=r(59941),ae="cancel-and-refund-subscription",ie=Object.freeze({NOW:"now",AT_PERIOD_END:"at_period_end"}),oe=Object.freeze({PRORATED:"prorated",FULL:"full",NO_REFUND:"no_refund"}),le=r(48895),se=function(e){var t=function(e){var t=e.subscription,r=[{description:"",label:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.cancel_and_refund_modal.cancel_options.cancel_immediately",{date:(0,le.w)({dateTime:new Date,format:"long_date"})}),value:ie.NOW}];return t.cancelable_at_period_end&&r.push({description:"",label:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.cancel_and_refund_modal.cancel_options.cancel_at_end_of_period",{date:(0,le.w)({dateTime:new Date(t.renews_on),format:"long_date"})}),value:ie.AT_PERIOD_END}),{cancelOptions:r}}({subscription:e.subscription}),r=t.cancelOptions;return(0,p.jsx)("div",{className:"pt-5",children:(0,p.jsx)(l.l.Item,{className:"border-0 pt-2",labelClassName:"text-sm font-semibold",name:"ends_at",translationRoot:"settings.paywalls_admin_dashboard.subscriptions.cancel_and_refund_modal.cancel_options",hideBorderfullWidth:!1,hideDescription:!0,hiddenField:!0,id:ae,children:(0,p.jsx)(l.l.RadioGroup,{variant:"radio",name:"ends_at",fullWidth:!1,options:r})})})};function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var de="settings.paywalls_admin_dashboard.subscriptions.cancel_and_refund_modal",pe=function(e){var t=function(e){var t=e.refundOptionsSubscriptionData,r=(0,h.Gc)(),a=r.setValue,i=(0,r.watch)("ends_at"),o=ce((0,s.useState)(t),1)[0],l=(null===o||void 0===o?void 0:o.prorated_applicable)||(null===o||void 0===o?void 0:o.full_refund_applicable),c=function(){return i!==ie.NOW||!l},u=ce((0,s.useState)(c()),2),d=u[0],p=u[1],f=[];return f.push({label:(0,n.t)("".concat(de,".refund_type_options.refund_options.no_refund")),value:oe.NO_REFUND}),null!==o&&void 0!==o&&o.prorated_applicable&&f.push({label:(0,n.t)("".concat(de,".refund_type_options.refund_options.prorated_refund")),value:oe.PRORATED}),null!==o&&void 0!==o&&o.full_refund_applicable&&f.push({label:(0,n.t)("".concat(de,".refund_type_options.refund_options.full_refund")),value:oe.FULL}),(0,s.useEffect)((function(){c()?(a("refund_type",oe.NO_REFUND),p(!0)):p(!1)}),[i]),{selectionOptions:f,isDisabled:d}}({refundOptionsSubscriptionData:e.refundOptionsSubscriptionData}),r=t.selectionOptions,a=t.isDisabled;return a?null:(0,p.jsx)("div",{className:"pb-2 pt-5",children:(0,p.jsx)(l.l.Item,{className:"border-0",labelClassName:"text-xs font-semibold",name:"refund_type",translationRoot:"settings.paywalls_admin_dashboard.subscriptions.cancel_and_refund_modal.refund_type_options",hideDescription:!0,hiddenField:!0,id:ae,children:(0,p.jsx)(l.l.SelectNative,{name:"refund_type",options:r,disabled:a})})})},fe=r(31772),me=r(21809),be=fe.Y.cancelAndRefundSubscription,he=fe.Y.refundOptionsSubscription,ve=function(e){var t=e.subscription,r=e.onSuccess,a=(0,i.dd)(),o={refund_type:oe.NO_REFUND,ends_at:ie.NOW},l=function(e){var t=e.subscription,r=e.callback,a=(0,me.p)(),i=a.success,o=a.error,l=(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.alerts.error.action_failed"),s=(0,v.useQueryClient)(),c="paywall-subscription-".concat(t.processor_id,"-refund-options"),u=(0,v.useQuery)(c,(function(){return he({subscriptionProcessorId:t.processor_id})}),{refetchOnMount:!1,onError:function(){var e={prorated_applicable:!0,full_refund_applicable:!0};s.setQueryData(c,(function(){return e}))}});return{refundMutation:(0,v.useMutation)((function(e){return be({subscriptionProcessorId:t.processor_id,params:e})}),{onSuccess:function(){r.cancelAndRefundSubscription.onSuccess(),i((0,n.t)("settings.paywalls_admin_dashboard.subscriptions.alerts.success.updated"))},onError:function(e){var t;r.cancelAndRefundSubscription.onError(),console.error(null===e||void 0===e?void 0:e.message),o(null!==(t=null===e||void 0===e?void 0:e.message)&&void 0!==t?t:l,{duration:"long"})}}),fetchRefundOptionsSubscription:u}}({subscription:t,callback:{cancelAndRefundSubscription:{onSuccess:function(){a.hide(),r&&r()},onError:te.noop}}}),s=l.refundMutation,c=l.fetchRefundOptionsSubscription;return{defaultValues:o,handleSubmit:function(e){e.refund_type===oe.NO_REFUND&&(e.refund_type=null),s.mutate(e),c.remove()},modal:a,isSubmitting:s.isLoading,onClose:function(){s.isLoading||(a.hide(),c.remove())},isLoadingRefundOptionsSubscription:c.isLoading,refundOptionsSubscriptionData:c.data}},ye=function(e){var t=e.subscription,r=e.onSuccess,a=ve({subscription:t,onSuccess:r}),i=a.defaultValues,o=a.handleSubmit,s=a.modal,c=a.isSubmitting,u=a.onClose,d=a.isLoadingRefundOptionsSubscription,f=a.refundOptionsSubscriptionData;return(0,p.jsx)(l.l,{onSubmit:o,defaultValues:i,id:ae,children:(0,p.jsx)(re.W,{title:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.cancel_and_refund_modal.title"),isOpen:s.visible,onClose:u,onAction:te.noop,disabled:c||d,actionText:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.cancel_and_refund_modal.cancel_button"),actionVariant:"danger",formId:ae,children:(0,p.jsxs)("div",{className:"pt-4",children:[(0,p.jsx)(ne.D,{customer:t.community_member,shouldOpenAdminMemberEdit:!1}),(0,p.jsx)(se,{subscription:t}),!c&&d?(0,p.jsx)(O.a,{}):(0,p.jsx)(pe,{refundOptionsSubscriptionData:f})]})})})};function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xe=i.gk.create((function(e){var t;return(0,p.jsx)(ye,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),"cancelAndRefund-".concat(null===e||void 0===e||null===(t=e.subscription)||void 0===t?void 0:t.processor_id))})),Oe=r(51758),_e=fe.Y.resumeSubscription,we=function(e){var t=e.subscription,r=e.onSuccess,a=(0,i.dd)(),o=function(e){var t=e.callback,r=(0,me.p)(),a=r.success,i=r.error,o=(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.alerts.errors.action_failed");return{resumeMutation:(0,v.useMutation)((function(e){return _e({subscriptionProcessorId:e})}),{onSuccess:function(){null===t||void 0===t||t.onSuccess(),a((0,n.t)("settings.paywalls_admin_dashboard.subscriptions.alerts.success.resume_subscription"))},onError:function(e){var t;console.error(null===e||void 0===e?void 0:e.errorDetails),i(null!==(t=null===e||void 0===e?void 0:e.errorDetails)&&void 0!==t?t:o,{duration:"long"})}})}}({callback:{onSuccess:function(){r&&r(),a.hide()}}}),l=o.resumeMutation;return{handleSubmit:function(){l.mutate(t.processor_id)},isSubmitting:l.isLoading,onClose:function(){return!l.isLoading&&a.hide()},modal:a}},Pe="settings.paywalls_admin_dashboard.subscriptions.resume_subscription_modal",Se=function(e){var t=e.subscription,r=e.onSuccess,a=we({subscription:t,onSuccess:r}),i=a.handleSubmit,o=a.modal,l=a.onClose,s=a.isSubmitting,c=(0,n.t)("".concat(Pe,".description"),{date:(0,le.w)({dateTime:new Date(t.renews_at),format:"long_month_and_date"})});return(0,p.jsx)(re.W,{title:(0,n.t)("".concat(Pe,".title")),isOpen:o.visible,onAction:i,onClose:l,formId:"paywall_resume-subscription",disabled:s,actionText:(0,n.t)("".concat(Pe,".resume_button")),children:(0,p.jsx)("div",{className:"pb-4 pt-2 text-center",children:c})})};function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ae=i.gk.create((function(e){return(0,p.jsx)(Se,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))})),ke=r(62983),De=r(26981),Ee=r(41490),Ie={can_change_billing_cycle:!1,can_admin_upgrade:!1,can_trial_subscription_change_plan:!1,can_resume:!1,can_change_plan:!1,can_cancel:!1},Te=r(61149),Le=r(23015),Me=r(97957),Fe=r(97714),Re="settings.paywalls_admin_dashboard.subscriptions.list.headers",Ze={customer:"community_member_name",paywall:"paywall_name",status:"status",term:"subscription_term",startDate:"created_at",renewalDate:"renews_on",chargesQuantity:"charges_quantity",actionMenu:"",couponCode:""},Be={customer:{header:(0,n.t)([Re,"customer_column"]),accessorKey:"customer",cell:Le.D,thClassName:"",cellClassName:""},paywall:{header:(0,n.t)([Re,"paywall_column"]),accessorKey:"paywall",cell:function(e){var t=e.row.original;return(0,p.jsx)("span",{className:"grid pr-4",children:(0,p.jsx)(Me.Y,{children:t.paywall.name||t.paywall.display_name})})},thClassName:"hidden md:table-cell",cellClassName:"hidden md:table-cell"},status:{header:(0,n.t)([Re,"status_column"]),accessorKey:"status",cell:function(e){var t=e.row.original;return(0,p.jsx)(Fe.Z,{subscription:t})},thClassName:"sm:w-30 md:w-36",cellClassName:""},term:{header:(0,n.t)([Re,"term_column"]),accessorKey:"term",cell:function(e){var t=e.row.original;return(0,p.jsxs)("div",{className:"whitespace-normal",children:[" ",t.paywall_price.short_description," "]})},thClassName:"",cellClassName:""},chargesQuantity:{header:(0,n.t)([Re,"charges_quantity_column"]),accessorKey:"chargesQuantity",cell:function(e){var t=e.row.original;return(0,p.jsx)("div",{className:"whitespace-normal",children:t.charges_count})},thClassName:"hidden lg:table-cell",cellClassName:"hidden lg:table-cell"},startDate:{header:(0,n.t)([Re,"start_date_column"]),accessorKey:"startDate",cell:function(e){var t=e.row.original,r=(0,le.w)({dateTime:new Date(t.created_at),format:"long_date"});return(0,p.jsx)("div",{className:"whitespace-normal",children:r})},thClassName:"",cellClassName:""},renewalDate:{header:(0,n.t)([Re,"renewal_date_column"]),accessorKey:"renewalDate",cell:function(e){var t=e.row.original,r=t.renews_on||t.next_billing_date?(0,le.w)({dateTime:new Date(t.renews_on||t.next_billing_date),format:"long_date"}):" - ";return(0,p.jsx)("div",{className:"whitespace-normal",children:r})},thClassName:"hidden md:table-cell",cellClassName:"hidden md:table-cell"},actionMenu:{header:"",accessorKey:"actionMenu",cell:function(e){var t=(0,d.UV)().contentPortalElement,r=e.row.original,o=(0,Ee.N)(),l=o.variant,s=o.refetchAllSubscriptions,c=(0,a.c)(),u=(0,i.dd)(xe),f=(0,Oe.X)(l),m=(0,i.dd)(Ae),b=(0,ke.I)({attributable:r,attributableType:"CommunityMemberSubscription",onSuccess:s}),h=function(e){var t,r=e.subscription,a=e.subscriptionDetailModal,i=e.changePlanModal,o=e.resumeSubscriptionModal,l=e.cancelAndRefundSubscriptionModal,s=e.applyCouponModal,c=e.attributeSaleMenuItem,u=e.onSuccess,d=[],p=null!==(t=r.policies)&&void 0!==t?t:Ie,f=p.can_change_billing_cycle,m=p.can_admin_upgrade,b=p.can_trial_subscription_change_plan,h=p.can_resume,v=p.can_change_plan,y=p.can_cancel,g=p.can_apply_coupon,j=p.can_remove_coupon;return d.push({key:"subscription-details",label:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.list.dropdown_menu.details"),onClick:function(e){a.show({subscription:r}),e.stopPropagation()}}),g&&d.push({key:"apply-coupon",label:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.list.dropdown_menu.apply_coupon"),onClick:function(e){s.show({subscription:r}),e.stopPropagation()}}),j&&d.push({key:"remove-coupon",label:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.list.dropdown_menu.remove_coupon"),onClick:function(e){s.show({subscription:r,shouldRemoveCoupon:!0}),e.stopPropagation()}}),c&&d.push(c),f&&d.push({key:"subscription-change-billing-cycle",label:(0,n.t)("member_profile_modal.billing.subscriptions.actions.change_billing_cycle"),onClick:function(e){i.show({refetchSubscriptions:u,subscription:r,changePlan:!1,isManagingMember:!0}),e.stopPropagation()}}),v&&d.push({key:"subscription-change-plan",label:(0,n.t)("member_profile_modal.billing.subscriptions.actions.change_plan"),onClick:function(e){i.show({refetchSubscriptions:u,subscription:r,changePlan:!0,isManagingMember:!0}),e.stopPropagation()}}),m&&d.push({key:"subscription-trial-upgrade",label:(0,n.t)("member_profile_modal.billing.subscriptions.actions.upgrade"),onClick:function(e){i.show({refetchSubscriptions:u,subscription:r,changePlan:b,isManagingMember:!0}),e.stopPropagation()}}),h&&d.push({key:"resume-subscription",label:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.list.dropdown_menu.resume"),onClick:function(e){o.show({subscription:r,onSuccess:u}),e.stopPropagation()}}),y&&d.push({key:"cancel-and-refund-subscription",label:(0,n.t)("settings.paywalls_admin_dashboard.subscriptions.list.dropdown_menu.cancel"),onClick:function(e){l.show({subscription:r,onSuccess:u}),e.stopPropagation()}}),d}({subscription:r,changePlanModal:c,cancelAndRefundSubscriptionModal:u,subscriptionDetailModal:f,resumeSubscriptionModal:m,applyCouponModal:(0,i.dd)(i.gk.create(ee)),attributeSaleMenuItem:b,onSuccess:s});return(0,p.jsx)(De.w.Actions,{contentPortalElement:null!==t&&void 0!==t?t:document.body,children:h.map((function(e){var t=e.key,r=e.label,n=e.onClick;return(0,p.jsx)(De.w.Actions.Item,{onClick:n,children:r},t)}))})},thClassName:"",cellClassName:"",canSort:!1},couponCode:{header:(0,n.t)([Re,"coupon_code_column"]),accessorKey:"couponCode",cell:function(e){var t,r=e.row.original,n=null===r||void 0===r?void 0:r.paywall_coupon_redemption,a=null===n||void 0===n||null===(t=n.paywall_coupon)||void 0===t?void 0:t.code,i=(null===n||void 0===n?void 0:n.status)===Te.DP.ACTIVE?a:"";return(0,p.jsx)("div",{className:"whitespace-normal",children:i})},thClassName:"",cellClassName:"",canSort:!1}},Ue=[Be.customer,Be.status,Be.paywall,Be.chargesQuantity,Be.term,Be.startDate,Be.renewalDate,Be.actionMenu]},17881:(e,t,r)=>{r.d(t,{sD:()=>s,nN:()=>l.n});var n=r(26981),a=r(45968),i=r(40135),o=r(85893),l=r(41490),s=function(e){var t,r,l=e.columnsToRender,s=e.subscriptionData,c=e.onClickPagination,u=e.className,d=void 0===u?"":u,p=function(e){var t=e.subscriptionData;return{onChangeSorting:(0,a.v)({dataQuery:t,orderingColumn:i.b5})}}({subscriptionData:s}),f=p.onChangeSorting;return(0,o.jsx)("div",{className:d,children:(0,o.jsxs)(n.w,{onChangeSorting:f,columns:l,data:null!==(t=null===s||void 0===s?void 0:s.subscriptions)&&void 0!==t?t:[],isLoading:null===s||void 0===s?void 0:s.isLoadingSubscriptions,initialPage:null!==(r=null===s||void 0===s?void 0:s.page)&&void 0!==r?r:1,onChangePage:c,totalRecordsCount:null===s||void 0===s?void 0:s.totalSubscriptions,pageSize:s.perPage,children:[(0,o.jsxs)(n.w.Table,{children:[(0,o.jsx)(n.w.SortableHead,{}),(0,o.jsx)(n.w.Loader,{}),(0,o.jsx)(n.w.Body,{})]}),(0,o.jsx)(n.w.Pagination,{align:"left",direction:"reverse"})]})})}},62983:(e,t,r)=>{r.d(t,{I:()=>A});var n=r(86013),a=r(97012),i=r(8161),o=r(72675),l=r(84038),s=r(30887),c=r(78573),u=r(59941),d=r(73203),p=r(3803),f=r(16743),m=r(67294),b=r(96486),h=r(93826),v=r(71032),y=r(85893);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){var t=e.attributable,r=e.onConfirm,a=e.isOpen,i=e.onClose,o=e.destroyMutation,l=(0,m.useMemo)((function(){return function(e,t){return{title:(0,n.t)("settings.paywalls_admin_dashboard.remove_attribution_modal.title"),confirmVariant:"danger",onConfirm:e,disabled:Boolean(null===t||void 0===t?void 0:t.isLoading)}}(r,o)}),[r,o]),s=t.paywalls_affiliates_attribution_info.attributable_type;return(0,y.jsx)(v.c,j(j({isOpen:a,onClose:i},l),{},{children:(0,y.jsx)(h.w,{content:(0,n.t)("settings.paywalls_admin_dashboard.remove_attribution_modal.".concat((0,b.snakeCase)(s),".description"))})}))},_=r(88767),w=r(82575),P=r(21809);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N=o.gk.create((function(e){var t=e.attributable,r=function(e){var t=e.attributable,r=e.attributableType,a=e.onSuccess,l=(0,o.dd)(),s=S((0,m.useState)(null),2),c=s[0],u=s[1],d=S((0,m.useState)(!1),2),p=d[0],f=d[1],b=(0,P.p)(),h=b.success,v=b.error,y=function(){return f(!1)},g=function(){l.hide(),l.remove()},j=(0,i.ho)(t)?"":(0,n.t)("settings.paywalls_admin_dashboard.attribute_sale_modal.confirm_button"),x=(0,_.useMutation)((function(e){return w.r.attributions.create(e)}),{onSuccess:function(){h((0,n.t)("settings.paywalls_admin_dashboard.attribute_sale_modal.alerts.success")),g(),a()},onError:function(){v((0,n.t)("settings.paywalls_admin_dashboard.services.alerts.error.unexpected_error"),{duration:"long"})}}),O=t.has_removable_attribution?null:(0,n.t)("settings.paywalls_admin_dashboard.attribute_sale_modal.alerts.errors.removal_not_allowed"),C=(0,_.useMutation)((function(e){return w.r.attributions.destroy(e)}),{onSuccess:function(){h((0,n.t)("settings.paywalls_admin_dashboard.attribute_sale_modal.alerts.removal.success")),g(),y(),a()},onError:function(){v((0,n.t)("settings.paywalls_admin_dashboard.services.alerts.error.unexpected_error"),{duration:"long"})}});return{modal:l,onClose:g,affiliateId:c,setAffiliateId:u,actionText:j,removalNotAllowedAlert:O,onAction:function(){return x.mutate({attributable_type:r,attributable_id:t.id,affiliate_id:c})},onRemove:function(){return C.mutate({attributable_type:r,attributable_id:t.id})},createMutation:x,destroyMutation:C,isRemoveAffiliateAttributionConfirmationModalOpen:p,openRemoveAffiliateAttributionConfirmationModal:function(){return f(!0)},closeRemoveAffiliateAttributionConfirmationModal:y}}({attributable:t,attributableType:e.attributableType,onSuccess:e.onSuccess}),a=r.modal,b=r.onClose,h=r.affiliateId,v=r.setAffiliateId,g=r.actionText,j=r.removalNotAllowedAlert,x=r.onAction,C=r.onRemove,N=r.createMutation,A=r.destroyMutation,k=r.isRemoveAffiliateAttributionConfirmationModalOpen,D=r.openRemoveAffiliateAttributionConfirmationModal,E=r.closeRemoveAffiliateAttributionConfirmationModal;return(0,y.jsx)(c.W,{title:(0,n.t)("settings.paywalls_admin_dashboard.attribute_sale_modal.".concat((0,i.FD)(t),".title")),isOpen:a.visible,onClose:b,onAction:x,disabled:N.isLoading||!h,actionText:g,actionVariant:"circle",modalContentClassName:"!overflow-visible",children:(0,i.ho)(t)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"pb-4",children:[!j&&(0,y.jsx)(O,{attributable:t,onConfirm:C,isOpen:k,onClose:E,destroyMutation:A}),(0,y.jsx)(u.D,{customer:t.paywalls_affiliates_attribution_info.community_member,onRemove:j?void 0:D,infoClassName:"w-[270px]"})]}),j&&(0,y.jsx)("div",{className:"pb-4",children:(0,y.jsxs)(p.v,{className:"flex flex-row gap-3",children:[(0,y.jsx)("div",{children:(0,y.jsx)(s.JO,{type:"information-outline",size:24})}),(0,y.jsx)(f.Z.LabelSm,{weight:"regular",as:"div",children:j})]})})]}):(0,y.jsx)(d.R,{recordId:h,recordType:"PaywallsAffiliate",searchInputPlaceholder:(0,n.t)("settings.paywalls_admin_dashboard.attribute_sale_modal.search.name_or_email.placeholder"),otherSearchParams:{status:l._.enrolled,campaign_id:t.paywalls_affiliates_campaign_id},onApply:v,onRemove:function(){return v(null)},className:"!p-0",customerInfoClassName:"w-[270px]",optionsClassName:"z-10 !w-[26rem] !max-w-[26rem]"})})})),A=function(e){var t=e.attributable,r=e.attributableType,l=e.onSuccess,s=(0,o.dd)(N),c=(0,a.wh)().currentCommunity;return(null===c||void 0===c?void 0:c.affiliates_feature_flag_enabled)&&((0,i.ho)(t)||t.can_be_attributed_for_affiliation)?{key:"attribute-sale",label:(0,n.t)("settings.paywalls_admin_dashboard.attributable.list.dropdown_menu.".concat((0,i.FD)(t))),onClick:function(e){s.show({attributable:t,attributableType:r,onSuccess:l}),e.stopPropagation()}}:null}},45968:(e,t,r)=>{r.d(t,{v:()=>n});var n=function(e){var t=e.dataQuery,r=e.orderingColumn;return function(e){if(0!==e.length){var n=e[0],a=!0===n.desc&&"desc",i=!1===n.desc&&"asc";if(!a&&!i)return void t.setOrder({});var o=r[n.id];t.setOrder((c=a||i,(s=o)in(l={})?Object.defineProperty(l,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):l[s]=c,l))}var l,s,c}}},19421:(e,t,r)=>{r.d(t,{t:()=>s});var n=r(94184),a=r.n(n),i=r(86013),o=r(16743),l=r(85893),s=function(e){var t=e.styles,r=e.communitySlug,n=void 0===r?"":r,s=e.className,c="https://circle.so/?utm_source=powered-by&community=".concat(n);return(0,l.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:a()("flex w-full items-center gap-1 px-4 py-2.5","opacity-60",s),style:t,children:(0,l.jsx)(o.Z.LabelXs,{color:"text-c-sidebar",weight:"medium",children:(0,i.t)("powered_by_circle")})})}},46068:(e,t,r)=>{r.d(t,{i:()=>u});var n=r(24185),a=r(49326),i=r(98929),o=r(97012),l=r(85893);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var t,r,u;return(t=Boolean((0,n.$B)([(0,a.xn)(),(0,a.f$)()])),r=(0,o.wh)().currentCommunity,u=(0,i.Z1)(r),{canSeeProtectedRoute:t||!u}).canSeeProtectedRoute?(0,l.jsx)(n.AW,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e)):(0,l.jsx)(n.l_,{to:(0,a.xn)()})}},5100:(e,t,r)=>{r.d(t,{K:()=>s,D:()=>c});var n=r(86013),a=r(30887),i=r(1002),o=r(16743),l=r(85893),s={ADMIN:"Admin",MODERATOR:"Moderator",MEMBER:"Member"},c=function(e){var t=e.id,r=e.role,c=e.onRoleChange,u=(0,n.t)("spaces.form.edit.members.member");return r===s.MODERATOR&&(u=(0,n.t)("spaces.form.edit.members.moderator")),r===s.ADMIN&&(u=(0,n.t)("spaces.form.edit.members.admin")),r===s.ADMIN?(0,l.jsx)(o.Z.LabelSm,{weight:"medium",children:u}):(0,l.jsxs)(i.Lt,{direction:"bottom-end",size:"small",button:(0,l.jsxs)(i.Lt.MenuButton,{children:[(0,l.jsx)(o.Z.LabelSm,{weight:"medium",children:u}),(0,l.jsx)(a.JO,{type:"16-chevron-down",size:16})]}),children:[(0,l.jsx)(i.Lt.Item,{onClick:function(){if(r!==s.MODERATOR)return c(t,s.MODERATOR)},children:(0,l.jsx)(i.Lt.ItemLink,{type:"button",children:(0,n.t)("spaces.form.edit.members.moderator")})}),(0,l.jsx)(i.Lt.Item,{onClick:function(){if(r!==s.MEMBER)return c(t,s.MEMBER)},children:(0,l.jsx)(i.Lt.ItemLink,{type:"button",children:(0,n.t)("spaces.form.edit.members.member")})})]})}},53225:(e,t,r)=>{r.d(t,{K:()=>i});var n=r(28032),a=r(85893),i=function(e){var t=e.options,r=void 0===t?[]:t,i=e.customKey,o=e.selected,l=e.searchable,s=void 0===l||l,c=e.onOptionSelect,u=e.defaultValue,d=e.placeholder;return(0,a.jsx)("div",{className:"form-input",children:(0,a.jsx)(n.ZP,{options:r,onChange:c,isSearchable:s,value:r.filter((function(e){return e.value==o})),onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()},className:"react-searchable-select",classNamePrefix:"react-searchable-select",defaultValue:u,placeholder:d},i)})}},72167:(e,t,r)=>{r.d(t,{R:()=>ne});var n=r(94184),a=r.n(n),i=r(24185),o=r(87958),l=r(30887),s=r(96486),c=r(40160),u=r(97012),d=r(49326),p=r(86013),f=r(31889),m=r(65771),b=r(28536),h=r(94645),v="back-to-community",y=r(85893),g=function(e){var t=e.isRailsPath,r=void 0!==t&&t,n=e.children,a=e.path,i=e.pathKey,o=(0,u.wh)().currentCommunity;return r||i===v&&!(null!==o&&void 0!==o&&o.home_page_enabled)?(0,y.jsx)("a",{href:a,className:"hover:bg-secondary hover:border-dark active:bg-tertiary flex items-center justify-center rounded-lg border border-transparent p-2.5 transition-all duration-150 ease-linear",children:n}):(0,y.jsx)(c.OL,{exact:!0,to:a,className:"hover:bg-secondary hover:border-dark flex items-center justify-center rounded-lg border border-transparent p-2.5 transition-all duration-150 ease-linear",activeClassName:"bg-tertiary",isActive:function(e,t){var r=d.lA[i],n=(0,s.values)(r).some((function(e){return(null===t||void 0===t?void 0:t.pathname)===e}));return null!==e&&void 0!==e?e:n},children:n})},j=function(e){var t=e.label,r=e.path,n=e.icon,s=e.isRailsPath,c=e.pathKey,u=(0,i.$B)({path:r,exact:!0});return(0,y.jsx)(o.T,{interactive:!1,content:t,placement:"right",arrow:!1,children:(0,y.jsx)(g,{isRailsPath:s,path:r,pathKey:c,children:(0,y.jsx)(l.JO,{type:n,className:a()({"text-default":!u,"text-selector-active":u}),size:20})})},t)},x=function(){var e,t,r,n,a,i,o,l,s=(e=(0,u.wh)(),t=e.currentCommunityMember,r=e.currentCommunity,n=(0,h.I)(),a=null===r||void 0===r?void 0:r.home_page_enabled,i=(0,m.E)().isCommunityOnPlus,o=r.affiliates_feature_flag_enabled&&(0,f.vb)(t),l=(0,b.U)(),[{pathKey:v,label:(0,p.t)("settings_nav_v3.back_to_community.label"),icon:"20-back-to-community",path:a?"/home":"/",enabled:(0,f.vb)(t)||(0,f.I$)(t)},{pathKey:"members",label:(0,p.t)("settings_nav_v3.members.label"),icon:"20-members",path:"/members/manage",enabled:(0,f.vb)(t)},{pathKey:"email",label:(0,p.t)("settings_nav_v3.emails.label"),icon:"20-send",path:"/settings/emails/broadcast",enabled:l&&(0,f.vb)(t)},{pathKey:"content",label:(0,p.t)("settings_nav_v3.content.label"),icon:"20-content",path:"/settings/posts",enabled:(0,f.vb)(t)||(0,f.I$)(t)},{pathKey:"workflows",label:(0,p.t)("settings_nav_v3.workflows.label"),icon:"20-workflows",path:"/settings/workflows",enabled:(0,f.vb)(t)&&n},{pathKey:"paywalls",label:(0,p.t)("settings_nav_v3.payments.label"),icon:"20-payments",path:"/settings/paywalls",enabled:(0,f.vb)(t)},{pathKey:"plans",label:i?(0,p.t)("settings_nav_v3.plans.plus_label"):(0,p.t)("settings_nav_v3.plans.label"),icon:"20-plans",path:"/settings/plans",enabled:(0,f.vb)(t)},{pathKey:"analytics_v2",label:(0,p.t)("settings_nav_v3.analytics.label"),icon:"20-analytics",path:"/settings/analytics",enabled:(0,f.vb)(t)},{pathKey:"affiliates",label:(0,p.t)("settings_nav_v3.paywalls_affiliates.label"),icon:"20-paywalls-affiliates",path:"/settings/affiliates_settings",enabled:o},{pathKey:"settings",label:(0,p.t)("settings_nav_v3.settings.label"),icon:"20-nav-settings",path:"/settings",enabled:(0,f.vb)(t)}]);return(0,y.jsx)("div",{className:"bg-primary border-r-primary flex h-full w-16 flex-col items-center justify-start space-y-2 border-r p-3",children:s.map((function(e){var t=e.pathKey,r=e.label,n=e.path,a=e.icon,i=e.enabled,o=e.isRailsPath;return i?(0,y.jsx)(j,{pathKey:t,label:r,path:n,icon:a,isRailsPath:!!o},r):null}))})},O=r(67294),_=r(16743);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=(0,O.createContext)(null);S.displayName="NavGroupContext";var C=function(){var e=(0,O.useContext)(S);if(!e)throw new Error("useNavContext must be used within a NavGroupContext.Provider");return e},N=function(e){var t=e.children,r=e.groupLinks,n=void 0===r?[]:r,a=(0,i.TH)().pathname,o=w((0,O.useState)(null),2),l=o[0],s=o[1];(0,O.useEffect)((function(){if(n.length>0){var e=n.some((function(e){var t="string"===typeof e?e:e.path;return(0,i.LX)(a,{path:t,exact:null===e||void 0===e?void 0:e.exact})}));s(e)}}),[n,a]);var c={isActive:Boolean(l)};return(0,y.jsx)(S.Provider,{value:c,children:(0,y.jsx)("div",{children:t})})};N.Icon=function(e){var t=e.label,r=e.path,n=e.icon;return(0,y.jsx)(j,{label:t,path:r,icon:n})},N.Content=function(e){var t=e.title,r=e.children;return C().isActive?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(_.Z.TitleSm,{weight:"semibold",children:t}),(0,y.jsx)("div",{className:"mt-3 flex flex-col space-y-px","data-testid":"nav-group-content",children:r})]}):null};var A=r(39834),k=function(e){var t=e.label,r=e.path,n=e.isNewFeature,a=void 0!==n&&n,i=e.isDisabled,o=void 0!==i&&i,l=e.isBetaFeature,s=void 0!==l&&l,u=e.badgeLabel,d=void 0===u?"":u;return o?null:(0,y.jsxs)(c.OL,{exact:!0,to:r,className:"hover:bg-secondary text-default hover:text-selector-active focus:text-selector-active flex items-center justify-between rounded-md px-2 py-1.5 text-sm font-medium leading-5 transition-colors duration-150 ease-linear",activeClassName:"bg-tertiary text-selector-active",children:[t,a&&(0,y.jsx)(A.g,{label:(0,p.t)("new"),square:!0}),s&&(0,y.jsx)(A.g,{label:(0,p.t)("beta"),square:!0}),d&&(0,y.jsx)(A.g,{label:d,square:!0,inverted:!0})]})},D=function(e,t){var r,n=e[t];return r=n,Object.values(r).map((function(e){return{path:e,exact:!0}}))},E=D(d.lA,"members"),I=D(d.lA,"email"),T=D(d.lA,"content"),L=D(d.lA,"workflows"),M=D(d.lA,"paywalls"),F=D(d.lA,"settings"),R=D(d.lA,"plans"),Z=D(d.lA,"affiliates"),B=(D(d.lA,"live_streams"),D(d.lA,"analytics_v2")),U=function(){var e=(0,i.TH)(),t=[{label:(0,p.t)("settings_nav_v3.analytics_v2.overview"),path:d.lA.analytics_v2.index},{label:(0,p.t)("settings_nav_v3.analytics_v2.members"),path:d.lA.analytics_v2.members},{label:(0,p.t)("settings_nav_v3.analytics_v2.spaces"),path:d.lA.analytics_v2.spaces},{label:(0,p.t)("settings_nav_v3.analytics_v2.post_comments"),path:d.lA.analytics_v2.post_comments},{label:(0,p.t)("settings_nav_v3.analytics_v2.messages"),path:d.lA.analytics_v2.messages},{label:(0,p.t)("settings_nav_v3.analytics_v2.devices"),path:d.lA.analytics_v2.devices},{label:(0,p.t)("settings_nav_v3.analytics_v2.events"),path:d.lA.analytics_v2.events},{label:(0,p.t)("settings_nav_v3.analytics_v2.payments"),path:d.lA.analytics_v2.payments}];return(0,y.jsx)(N,{groupLinks:B||[],children:(0,y.jsx)(N.Content,{title:(0,p.t)("settings_nav_v3.analytics_v2.label"),children:t.map((function(t){return(0,y.jsx)(k,{label:t.label,path:{pathname:t.path,search:e.search}},t.label)}))})})},z=r(75152);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var H=function(){var e=(0,u.wh)(),t=e.currentCommunitySettings,r=e.currentCommunityMember,n=(0,z.O)().inboxCount,a=[{label:(0,p.t)("settings_nav_v3.content.posts"),path:d.lA.content.posts,isDisabled:!((0,f.vb)(r)||(0,f.I$)(r))},{label:(0,p.t)("settings_nav_v3.content.spaces"),path:d.lA.content.spaces,isDisabled:!(null!==t&&void 0!==t&&t.spaces_crud_enabled)||!(0,f.vb)(r)},{label:(0,p.t)("settings_nav_v3.content.moderation"),path:d.lA.content.moderation,isDisabled:!((0,f.vb)(r)||(0,f.I$)(r)),badgeLabel:n>0?String(n):""},{label:(0,p.t)("settings_nav_v3.live_streams.label"),path:d.lA.live_streams.live_streams,isDisabled:!(0,f.vb)(r)},{label:(0,p.t)("settings_nav_v3.content.topics"),path:d.lA.content.topics,isDisabled:!(null!==t&&void 0!==t&&t.topics_enabled)||!(0,f.vb)(r)},{label:(0,p.t)("settings_nav_v3.content.bulk_logs"),path:d.lA.content.posts_bulk_actions,isDisabled:!(0,f.vb)(r)}];return(0,y.jsx)(N,{groupLinks:T||[],children:(0,y.jsx)(N.Content,{title:(0,p.t)("settings_nav_v3.content.label"),children:a.map((function(e){return(0,y.jsx)(k,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),e.path)}))})})},K="settings_nav_v3.emails",$=function(){var e=(0,u.wh)().currentCommunityMember,t=[{label:(0,p.t)([K,"broadcast"]),path:d.lA.email.broadcast,isDisabled:!(0,f.vb)(e)},{label:(0,p.t)([K,"settings"]),path:d.lA.email.settings,isDisabled:!(0,f.vb)(e)}];return(0,y.jsx)(N,{groupLinks:I||[],children:(0,y.jsx)(N.Content,{title:(0,p.t)([K,"label"]),children:t.map((function(e){return(0,y.jsx)(k,{label:e.label,path:e.path},e.path)}))})})},G=function(){var e=[{label:(0,p.t)("settings_nav_v3.members.manage"),path:d.lA.members.manage},{label:(0,p.t)("settings_nav_v3.members.bulk_logs"),path:d.lA.members.bulk_logs},{label:(0,p.t)("settings_nav_v3.members.invitation_links"),path:d.lA.members.invitation_links},{label:(0,p.t)("settings_nav_v3.members.onboarding"),path:d.lA.members.onboarding},{label:(0,p.t)("settings_nav_v3.members.member_tags"),path:d.lA.members.member_tags},{label:(0,p.t)("settings_nav_v3.members.profile_fields"),path:d.lA.members.profile_fields}];return(0,y.jsx)(N,{groupLinks:E||[],children:(0,y.jsx)(N.Content,{title:(0,p.t)("settings_nav_v3.members.label"),children:e.map((function(e){return(0,y.jsx)(k,{label:e.label,path:e.path,isNewFeature:!(null===e||void 0===e||!e.isNewFeature),isDisabled:e.isDisabled},e.label)}))})})},Q=r(37601),W=r(87658),J=function(){var e=(0,W.x)(),t=(0,Q.N)(),r=(0,s.compact)([{label:(0,p.t)("settings_nav_v3.payments.paywalls"),path:d.lA.paywalls.index},{label:(0,p.t)("settings_nav_v3.payments.coupons"),path:d.lA.paywalls.coupons},{label:(0,p.t)("settings_nav_v3.payments.subscription_groups"),path:d.lA.paywalls.subscription_groups},{label:(0,p.t)("settings_nav_v3.payments.transactions"),path:d.lA.paywalls.transactions},{label:(0,p.t)("settings_nav_v3.payments.subscriptions"),path:d.lA.paywalls.subscriptions},e?{label:(0,p.t)("settings_nav_v3.payments.taxes"),path:d.lA.paywalls.taxes}:void 0,{label:(0,p.t)("settings_nav_v3.payments.bulk_logs"),path:d.lA.paywalls.bulk_logs},t?{label:(0,p.t)("settings_nav_v3.payments.payment_settings"),path:d.lA.paywalls.payment_settings}:void 0]);return(0,y.jsx)(N,{groupLinks:M||[],children:(0,y.jsx)(N.Content,{title:(0,p.t)("settings_nav_v3.payments.label"),children:r.map((function(e){return(0,y.jsx)(k,{label:e.label,path:e.path},e.path)}))})})},X=function(){var e=[{label:(0,p.t)("settings_nav_v3.paywalls_affiliates.directory"),path:d.lA.affiliates.directory},{label:(0,p.t)("settings_nav_v3.paywalls_affiliates.commissions"),path:d.lA.affiliates.commissions},{label:(0,p.t)("settings_nav_v3.paywalls_affiliates.settings"),path:d.lA.affiliates.settings}];return(0,y.jsx)(N,{groupLinks:Z||[],children:(0,y.jsx)(N.Content,{title:(0,p.t)("settings_nav_v3.paywalls_affiliates.label"),children:e.map((function(e){return(0,y.jsx)(k,{label:e.label,path:e.path},e.path)}))})})},Y=function(){var e=(0,m.E)().isCommunityOnPlus,t=(0,u.wh)().currentCommunity,r=[{label:(0,p.t)("settings_nav_v3.plans.billing_history"),path:d.lA.plans.billing,disabled:e||!(null!==t&&void 0!==t&&t.has_subscription_record)},{label:e?(0,p.t)("settings_nav_v3.plans.billing_details"):(0,p.t)("settings_nav_v3.plans.change_plan"),path:d.lA.plans.general}];return(0,y.jsx)(N,{groupLinks:R,children:(0,y.jsx)(N.Content,{title:e?(0,p.t)("settings_nav_v3.plans.plus_label"):(0,p.t)("settings_nav_v3.plans.label"),children:r.map((function(e){return(0,y.jsx)(k,{label:e.label,path:e.path,isDisabled:e.disabled},e.path)}))})})},ee=function(){var e=[{label:(0,p.t)("settings_nav_v3.settings.general"),path:d.lA.settings.general},{label:(0,p.t)("settings_nav_v3.settings.custom_domain"),path:d.lA.settings.custom_domain},{label:(0,p.t)("settings_nav_v3.settings.community_ai"),path:d.lA.settings.community_ai},{label:(0,p.t)("settings_nav_v3.settings.code_snippets"),path:d.lA.settings.code_snippets},{label:(0,p.t)("settings_nav_v3.settings.weekly_digest"),path:d.lA.settings.weekly_digest},{label:(0,p.t)("settings_nav_v3.settings.mobile_app"),path:d.lA.settings.mobile_app},{label:(0,p.t)("settings_nav_v3.settings.home"),path:d.lA.settings.home},{label:(0,p.t)("settings_nav_v3.settings.embed"),path:d.lA.settings.embed},{label:(0,p.t)("settings_nav_v3.settings.single_sign_on"),path:d.lA.settings.single_sign_on},{label:(0,p.t)("settings_nav_v3.settings.messaging"),path:d.lA.settings.messaging},{label:(0,p.t)("settings_nav_v3.settings.api"),path:d.lA.settings.api}];return(0,y.jsx)(N,{groupLinks:F||[],children:(0,y.jsx)(N.Content,{title:(0,p.t)("settings_nav_v3.settings.label"),children:e.map((function(e){return(0,y.jsx)(k,{label:e.label,path:e.path,isBetaFeature:!!e.isBetaFeature},e.path)}))})})},te=function(){var e=[{label:(0,p.t)("settings_nav_v3.workflows.all"),path:d.lA.workflows.all},{label:(0,p.t)("settings_nav_v3.workflows.history"),path:d.lA.workflows.history}];return(0,y.jsx)(N,{groupLinks:L||[],children:(0,y.jsx)(N.Content,{title:(0,p.t)("settings_nav_v3.workflows.label"),children:e.map((function(e){return(0,y.jsx)(k,{label:e.label,path:e.path},e.path)}))})})},re=function(){var e=(0,b.U)();return(0,y.jsxs)("div",{className:"bg-primary h-full w-60 p-5 lg:w-[18.5rem]",children:[(0,y.jsx)(G,{}),e&&(0,y.jsx)($,{}),(0,y.jsx)(H,{}),(0,y.jsx)(te,{}),(0,y.jsx)(J,{}),(0,y.jsx)(ee,{}),(0,y.jsx)(Y,{}),(0,y.jsx)(U,{}),(0,y.jsx)(X,{})]})},ne=function(){return(0,y.jsxs)("div",{className:"flex h-full items-stretch",children:[(0,y.jsx)(x,{}),(0,y.jsx)(re,{})]})}},82887:(e,t,r)=>{r.d(t,{t:()=>c});var n=r(94184),a=r.n(n),i=r(30887),o=r(87958),l=r(16743),s=r(85893),c=function(e){var t=e.number,r=e.label,n=e.className,c=void 0===n?"":n,u=e.tooltipText,d=void 0===u?"":u;return(0,s.jsxs)("div",{className:a()("border-primary mb-3 rounded-lg border py-5 text-center",c),children:[(0,s.jsx)(l.Z.TitleMd,{weight:"bold",color:"text-dark",children:t}),(0,s.jsx)(l.Z.LabelXs,{color:"text-dark",children:r}),d&&(0,s.jsx)(o.T,{placement:"bottom",content:d,className:"pl-1",children:(0,s.jsx)(i.JO,{type:"question-mark",className:"text-dark !w-3"})})]})}},95974:(e,t,r)=>{r.d(t,{TR:()=>P,W2:()=>w});var n=r(30887),a=(r(16743),r(85893)),i=r(94184),o=r.n(i),l=r(67285);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){var t=e.icon,r=e.dragEventListeners,i=Boolean(r);return(0,a.jsxs)("span",{className:"flex",children:[(0,a.jsx)(n.JO,{className:o()("flex",{"group-hover:hidden":i}),type:t,size:16,useWithFillCurrentColor:!0}),i&&(0,a.jsx)(l.h,c(c({className:"hidden cursor-move group-hover:flex"},r),{},{children:(0,a.jsx)(n.JO,{type:"16-drag-handle",size:16})}))]})},p=r(87958),f=["tooltip"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var y=function(e){var t=e.item,r=e.actions;return r?r.map((function(e,r){return(0,a.jsx)(g,{item:t,action:e},r)})):null},g=function(e){var t=e.item,r=e.action,n=r.tooltip,i=v(r,f);return n?(0,a.jsx)(p.T,{content:n,children:(0,a.jsx)(j,b({item:t},i))}):(0,a.jsx)(j,b({item:t},i))},j=function(e){var t=e.item,r=e.icon,i=e.onClick;return(0,a.jsx)(l.h,{className:"invisible flex group-hover:visible",onClick:function(){i({item:t})},onPointerDown:function(e){e.stopPropagation()},children:(0,a.jsx)(n.JO,{type:r,size:16,useWithFillCurrentColor:!0})})};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w="\n  group flex justify-between items-center\n  px-3 w-full h-10 rounded-md border\n  select-none border-primary bg-primary\n  text-dark min-w-0",P=function(e){var t=e.item,r=e.actions,n=e.useDragHandle,i=e.dragEventListeners,l=e.className,s=e.dataTestId,c=t||{},u=c.icon,p=c.label;return(0,a.jsxs)("div",{className:o()(w,"hover:border-secondary transition-colors",l),"data-testid":s,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[u&&(0,a.jsx)(d,O({icon:u},n&&{dragEventListeners:i})),(0,a.jsx)("span",{className:"truncate text-sm font-medium normal-case leading-5 tracking-tighter",children:p})]}),r&&(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsx)(y,{item:t,actions:r})})]})}},32373:(e,t,r)=>{r.d(t,{p:()=>c});var n=r(67294),a=r(86013),i=r(76034),o=r(74238),l=r(15218),s=r(85893),c=function(e){var t=e.id,r=e.url,c=e.emoji,u=e.customEmojiUrl,d=e.customEmojiDarkUrl,p=e.name,f=e.totalMembers,m=e.shouldHideMembersCount,b=e.handleJoinSpace,h=(0,i.m)(),v=h.isJoined,y=h.joinSpace,g=(0,o.TC)().currentAppearance;return(0,n.useEffect)((function(){v&&b(t)}),[v]),(0,s.jsx)("div",{className:"space-card",children:(0,s.jsxs)("div",{className:"space-card__inside",children:[(0,s.jsxs)("div",{className:"space-card__name",children:[(0,s.jsx)("div",{className:"space-card__icon ",children:(0,s.jsx)("a",{href:r,children:(0,s.jsx)(l.S,{className:"title-emoji !h-10 !max-h-10 !w-10",emoji:c,appearance:g,customEmojiUrl:u,customEmojiDarkUrl:d})})}),(0,s.jsx)("div",{className:"space-card__title truncate",children:(0,s.jsx)("a",{href:r,children:(0,s.jsx)("span",{className:"title-name","data-testid":"title-name",children:p})})})]}),(0,s.jsx)("div",{className:"space-card__members",children:!m&&(0,s.jsx)("span",{children:(0,a.t)("settings.manage_members.member_count",{count:f})})}),(0,s.jsx)("div",{className:"space-card__actions",children:v?(0,s.jsx)("span",{className:"btn btn-secondary btn-secondary--joined",children:(0,a.t)("settings.manage_members.joined")}):(0,s.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return y(t)},children:(0,a.t)("join_space")})})]})})}},79718:(e,t,r)=>{r.d(t,{V:()=>N});var n=r(94184),a=r.n(n),i=r(96486),o=r(87536),l=r(86013),s=r(30887),c=r(1002),u=r(16743),d=r(67294),p=r(87360),f=r.n(p),m=r(92742),b=r.n(m),h=r(18009),v=r(85893);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t,r=e.spaceGroups,n=e.handleChange,a=(0,c.tv)(),i=a.isOpen,o=a.toggle,s=(0,h.k)([i]),u=y((0,d.useState)(""),2),p=u[0],m=u[1],g=r;p&&(g=f().go(p,r,{keys:["name"]}).map((function(e){return e.obj})));return(0,v.jsxs)("div",{"data-testid":"space-group-list",children:[(0,v.jsx)("div",{className:"px-4 py-2",children:(0,v.jsx)("input",{type:"text",ref:s,className:"px bg-secondary text-dark placeholder:text-light w-full rounded border-none text-sm placeholder:opacity-100 focus:shadow-none focus:ring-0","data-testid":"space-group-search",placeholder:(0,l.t)("search_space_groups"),onChange:function(e){m(b()(e.target.value))}})}),(0,v.jsx)("h6",{className:"text-light block select-none px-5 py-2 text-xs font-semibold uppercase",children:(0,l.t)("space_groups.title")}),(0,v.jsx)("ul",{className:"space-group-selector__dropdown__list max-h-64 overflow-auto",children:null===(t=g)||void 0===t?void 0:t.map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)("button",{type:"button",onClick:function(){return t=e.id,n(t),void o();var t},className:"space-group-selector__dropdown__name","data-testid":"space-group-result",children:e.name})},e.id)}))})]})},x={enter:"transition ease-in duration-75",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition ease-out duration-75",leaveFrom:"opacity-100",leaveTo:"opacity-0"},O=function(e){var t=e.spaceGroups,r=e.selectedSpaceGroup,n=e.onChange,a=e.appendTo;return(0,v.jsx)(c.Lt,{size:"full",button:(0,v.jsxs)("div",{className:"flex w-full items-center justify-between text-left","data-testid":"space-group-selector",children:[(0,v.jsx)(u.Z.LabelMd,{children:(null===r||void 0===r?void 0:r.name)||(0,l.t)("select_a_space_group")}),(0,v.jsx)(s.JO,{className:"text-c-sidebar",size:16,type:"caret-down-bold"})]}),popperOptions:{strategy:"absolute"},direction:"bottom",className:"border-primary focus-within:border-light w-full rounded-lg border transition-colors",buttonWrapperClassName:"flex w-full h-full",buttonClassName:"py-3 pl-4 pr-2 w-full",menuWrapperClassName:"!px-0",appendTo:a,animations:x,children:(0,v.jsx)(j,{spaceGroups:t,handleChange:n})})},_=["name","rules","onChange"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var N=function(e){var t=e.name,r=e.rules,n=void 0===r?{}:r,a=e.onChange,l=void 0===a?i.noop:a,s=C(e,_),c=(0,o.Gc)(),u=c.control,d=c.setValue;return(0,v.jsx)(o.Qr,{control:u,name:t,rules:n,render:function(e){var r=e.field;return(0,v.jsx)(A,P(P({},s),{},{name:r.name,value:r.value,onChange:function(e){r.onChange(e),null===l||void 0===l||l(),d(t,e,{shouldDirty:!0,shouldTouch:!0})}}))}})},A=function(e){var t=e.spaceGroups,r=e.onChange,n=e.value,o=e.variant,l=e.appendTo,s=(0,i.find)(t,{id:n}),c=a()("space-group-selector",{"form-control":"form-input"===o,large:"large"===o});return(0,v.jsx)("div",{className:c,children:(0,v.jsx)(O,{spaceGroups:t,selectedSpaceGroup:s,onChange:r,appendTo:l})})}},84112:(e,t,r)=>{r.d(t,{LU:()=>O,xf:()=>T});var n=r(67294),a=r(96486),i=(r(19035),r(23560)),o=r.n(i),l=r(90846),s=r(85893),c=["tabs","currentTab","onTabClick"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var f=function(e){var t=e.tabs,r=e.currentTab,n=e.onTabClick,a=p(e,c);return(0,s.jsx)(l.m,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({variant:"underline",className:"sticky grow-0",wrapperClassName:"px-8 overflow-x-auto",controlled:!0,activeTab:r,onClick:function(e){return o()(n)&&n(e)},options:t},a))},m=["children","initialTab","tabs"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var x=(0,n.createContext)({tabs:[],currentTab:"",setCurrentTab:a.noop});x.displayName="TabNaVigationData";var O=function(e){var t,r=e.children,a=e.initialTab,i=void 0===a?"":a,o=e.tabs,l=void 0===o?[]:o,c=j(e,m),u=y((0,n.useState)(i||(null===(t=l[0])||void 0===t?void 0:t.label)||""),2),d=u[0],p=u[1];return(0,s.jsx)(x.Provider,{value:{tabs:l,currentTab:d,setCurrentTab:p},children:(0,s.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,s.jsx)(f,h({tabs:l,currentTab:d,onTabClick:function(e){return p(e)}},c)),(0,s.jsx)("div",{className:"flex-1",children:r})]})})},_=r(94184),w=r.n(_),P=["children","className","currentTab","tab"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var k=function(e){var t=e.children,r=e.className,n=e.currentTab,a=e.tab,i=A(e,P);return(0,s.jsx)("div",C(C({className:w()("h-full w-full overflow-y-auto",{hidden:n!==a},r),"aria-hidden":n!==a},i),{},{children:t}))};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}var T=function(e){var t=I({},e),r=(0,n.useContext)(x).currentTab;return(0,s.jsx)(k,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({currentTab:r},t))}},60748:(e,t,r)=>{r.d(t,{jE:()=>d,EH:()=>s,rx:()=>v});var n=r(86013),a=r(96486),i=r(80144),o=r(16743),l=r(85893),s=function(e){var t=e.options,r=void 0===t?[]:t;return(0,l.jsx)(l.Fragment,{children:r.map((function(e){var t=e.label,r=e.value,n=e.description,a=e.leftAddon;return(0,l.jsx)(i.Vc.Option,{option:e,children:(0,l.jsxs)("div",{className:"text-default flex flex-row items-center gap-2",children:[a,(0,l.jsxs)("div",{className:"flex flex-1 flex-col gap-1",children:[(0,l.jsx)(o.Z.LabelSm,{weight:"medium",children:t}),n&&(0,l.jsx)(o.Z.LabelXs,{children:(0,l.jsx)("span",{className:"text-light",children:n})})]})]})},r)}))})};function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.groupedOptions,r=void 0===t?{}:t;return(0,l.jsx)("div",{className:"flex flex-col gap-5",children:Object.entries(r).map((function(e){var t=c(e,2),r=t[0],n=t[1];return(0,l.jsxs)("div",{children:[(0,l.jsx)("h6",{className:"text-light block select-none px-5 py-2 text-xs font-semibold uppercase",children:r}),(0,l.jsx)(s,{options:n})]},r)}))})},p=["options","onChange","onSearchChange","isError","placeholder","emptyMessage","filterBy","groupBy","displayValue","initialValue","value"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var v=function(e){var t=e.options,r=void 0===t?[]:t,o=e.onChange,c=void 0===o?a.noop:o,u=e.onSearchChange,f=void 0===u?a.noop:u,b=e.isError,v=void 0!==b&&b,y=e.placeholder,g=void 0===y?(0,n.t)("select_an_option"):y,j=e.emptyMessage,x=void 0===j?(0,n.t)("no_options"):j,O=e.filterBy,_=void 0===O?i.fv:O,w=e.groupBy,P=void 0===w?null:w,S=e.displayValue,C=void 0===S?function(e){return(null===e||void 0===e?void 0:e.label)||""}:S,N=e.initialValue,A=void 0===N?"":N,k=e.value,D=h(e,p),E=(0,i.eq)({isError:v,options:r,onChange:c,filterBy:_,placeholder:g,displayValue:C,onSearchChange:f,groupByValue:P,initialValue:A,value:k}),I=E.selectProps,T=E.searchResults,L=E.hasNoResults,M=E.groupedSearchResults,F=E.hasGroups;return(0,l.jsxs)(i.Vc,m(m(m({},D),I),{},{children:[L&&(0,l.jsx)(i.Vc.EmptyOption,{label:x}),!L&&!F&&(0,l.jsx)(s,{options:T}),!L&&F&&(0,l.jsx)(d,{groupedOptions:M})]}))}},75048:(e,t,r)=>{r.d(t,{S:()=>l});var n=r(30887),a=r(87958),i=r(1002),o=r(85893),l=function(e){var t=e.label,r=e.options,l=e.dataTestId,s=e.children;return(0,o.jsx)(i.Lt,{direction:"bottom-end",menuWrapperClassName:"!mt-2",buttonClassName:"h-9 w-9 flex justify-center !rounded-lg p-1 transition-colors duration-200 hover:bg-tertiary focus-visible:outline-secondary focus-visible:rounded-lg focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:bg-tertiary",button:(0,o.jsx)(a.T,{content:t,children:(0,o.jsx)(n.JO,{className:"text-default",type:"20-three-dots-vertical-v3",size:20,"aria-label":t})}),options:r,dataTestId:l,children:s})}},87958:(e,t,r)=>{r.d(t,{T:()=>f});var n=r(67294),a=r(31736),i=r(96561),o=r(53448),l=r(85893),s=["allowHTML","arrow","children","className","content","dataTestId","delay","duration","enabled","interactive","interactiveBorder","interactiveDebounce","placement","shouldUseSpanWrapper","appendTo"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var f=function(e){var t,r=e.allowHTML,c=void 0===r||r,d=e.arrow,f=void 0===d||d,m=e.children,b=e.className,h=e.content,v=e.dataTestId,y=void 0===v?"":v,g=e.delay,j=void 0===g?[400,40]:g,x=e.duration,O=void 0===x?[200,200]:x,_=e.enabled,w=void 0===_||_,P=e.interactive,S=void 0===P||P,C=e.interactiveBorder,N=void 0===C?5:C,A=e.interactiveDebounce,k=void 0===A?50:A,D=e.placement,E=void 0===D?"top":D,I=e.shouldUseSpanWrapper,T=void 0===I||I,L=e.appendTo,M=p(e,s),F=(0,i.xQ)(),R=(0,o.UV)().isInsideModal,Z=null===F||void 0===F||null===(t=F.document)||void 0===t?void 0:t.documentElement,B=(0,n.useMemo)((function(){var e;if(!R)return null!==Z&&void 0!==Z?Z:document.body;var t=document.getElementById("headlessui-portal-root");return null!==(e=null!==t&&void 0!==t?t:Z)&&void 0!==e?e:document.body}),[R,Z]),U=T?(0,l.jsx)("span",{className:b,"data-testid":y,children:m}):(0,n.isValidElement)(m)?m:(0,l.jsx)(l.Fragment,{children:m});return w?(0,l.jsx)(a.ZP,u(u({allowHTML:c,appendTo:null!==L&&void 0!==L?L:B,arrow:f,content:h,delay:j,duration:O,interactive:S,interactiveBorder:N,interactiveDebounce:k,placement:E},M),{},{children:U})):(0,l.jsx)(l.Fragment,{children:m})}},72748:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(86013),a=r(85893),i=function(e){var t=e.field,r=e.value,i=e.onToggleChange,o=e.label,l=void 0===o?(0,n.t)("checkbox"):o;return(0,a.jsxs)("div",{className:"simple-toggle",id:"field-".concat(t),children:[(0,a.jsx)("input",{type:"checkbox",name:t,id:"checkbox-".concat(t),checked:r,onChange:function(e){return i(e.target.checked)}}),(0,a.jsx)("label",{htmlFor:"checkbox-".concat(t),children:(0,a.jsx)("span",{className:"sr-only",children:l})})]})}},43776:(e,t,r)=>{r.d(t,{S:()=>m});var n=r(86013),a=r(55675),i=r(16743),o=r(49326),l=r(72675),s=r(30887),c=r(78573),u=r(74284),d=r(85893),p=function(e){var t=e.PlanFeatureName,r=(0,l.dd)(),p={unlimited_members:(0,n.t)("settings.billing.unlimited_members_tooltip")};return(0,d.jsxs)(c.W,{title:(0,n.t)("plan_details.unlock_feature.upgrade_plan"),isOpen:r.visible,onClose:r.hide,children:[(0,d.jsx)(i.Z.LabelLg,{weight:"semibold",children:(0,n.t)("plan_details.unlock_feature.feature_and_plan",{feature:t})}),(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)(i.Z.BodyMd,{color:"text-gray-600",children:(0,n.t)("plan_details.unlock_feature.feature_not_included",{feature:t})})}),["conversion_code","courses","chat","up_to_3_admins","up_to_10_moderators","up_to_20_spaces","unlimited_members"].map((function(e){return(0,d.jsxs)("div",{className:"mt-5 flex",children:[(0,d.jsx)(s.JO,{type:"star-orange",className:"mr-3",size:20}),(0,d.jsx)(i.Z.LabelMd,{weight:"medium",children:(0,n.t)("plan_details.".concat(e))}),p[e]&&(0,d.jsx)(u.Y,{content:p[e],children:(0,d.jsx)(s.JO,{type:"question-mark",className:"ml-2 !w-3 align-baseline"})})]},e)})),(0,d.jsx)(a.z,{onClick:function(){window.location.href=(0,o.xn)()},variant:"circle",full:!0,extraLarge:!0,className:"mb-4 mt-8",children:(0,n.t)("plan_details.unlock_feature.actions.upgrade_now")})]})},f=l.gk.create((function(e){var t=e.PlanFeatureName;return(0,d.jsx)(p,{PlanFeatureName:t})})),m=function(e){var t=e.PlanFeatureName,r=(0,l.dd)(f);return(0,d.jsxs)("div",{className:"my-8 rounded-md border border-l-8 border-amber-500 p-5",children:[(0,d.jsx)(i.Z.LabelLg,{weight:"semibold",children:(0,n.t)("plan_details.unlock_feature.upgrade_to_unlock")}),(0,d.jsx)("div",{className:"mt-2",children:(0,d.jsx)(i.Z.BodyMd,{color:"text-gray-600",children:(0,n.t)("plan_details.unlock_feature.get_feature",{feature:t})})}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(a.z,{onClick:function(e){return e.preventDefault(),r.show({PlanFeatureName:t})},variant:"secondary-light",children:(0,n.t)("plan_details.unlock_feature.actions.get_feature")})})]})}},98222:(e,t,r)=>{r.d(t,{n:()=>o});var n=r(56310),a=r.n(n),i=r(85893),o=function(e){var t=e.url;return(0,i.jsx)(a(),{url:t,width:"100%",height:"100%",controls:!0})}},97395:(e,t,r)=>{r.d(t,{P:()=>p});var n=r(50768),a=r(94184),i=r.n(a),o=r(86013),l=r(30887),s=r(16580),c=r(87958),u=[{icon:"16-grid",label:(0,o.t)("views.cards"),value:s.nk.CARDS},{icon:"bullet-list-text",label:(0,o.t)("views.list"),value:s.nk.LIST}],d=r(85893),p=function(e){var t=e.value,r=void 0===t?s.nk.CARDS:t,a=e.onChange,p=e.options,f=void 0===p?u:p;return(0,d.jsxs)(n.E,{value:r,onChange:a,children:[(0,d.jsx)(n.E.Label,{className:"sr-only",children:(0,o.t)("views.label")}),(0,d.jsx)("div",{className:"divide-primary border-primary inline-flex h-8 items-center divide-x overflow-hidden rounded-md border",children:f.map((function(e){var t=e.icon,r=e.label,a=e.value;return(0,d.jsx)(n.E.Option,{value:a,children:function(e){var n=e.checked;return(0,d.jsx)(c.T,{content:r,placement:"bottom",children:(0,d.jsx)("div",{className:i()("bg-primary text-dark cursor-pointer p-2 pt-1",{"bg-tertiary":n}),children:(0,d.jsx)(l.JO,{"aria-label":r,type:t,size:16})})})}},r)}))})]})}},94645:(e,t,r)=>{r.d(t,{I:()=>a});var n=r(97012),a=function(){var e=(0,n.wh)(),t=e.currentCommunity;return!e.isLoading&&(null===t||void 0===t?void 0:t.workflows_enabled)}}}]);
//# sourceMappingURL=7166-1b2377f635917d6a4e46.js.map